(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var dr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Eh={exports:{}},Io={},_h={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),vv=Symbol.for("react.portal"),yv=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),xv=Symbol.for("react.profiler"),bv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),_v=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Cv=Symbol.for("react.memo"),Sv=Symbol.for("react.lazy"),Ed=Symbol.iterator;function Dv(t){return t===null||typeof t!="object"?null:(t=Ed&&t[Ed]||t["@@iterator"],typeof t=="function"?t:null)}var kh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ch=Object.assign,Sh={};function Vi(t,e,r){this.props=t,this.context=e,this.refs=Sh,this.updater=r||kh}Vi.prototype.isReactComponent={};Vi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dh(){}Dh.prototype=Vi.prototype;function tc(t,e,r){this.props=t,this.context=e,this.refs=Sh,this.updater=r||kh}var rc=tc.prototype=new Dh;rc.constructor=tc;Ch(rc,Vi.prototype);rc.isPureReactComponent=!0;var _d=Array.isArray,Ah=Object.prototype.hasOwnProperty,nc={current:null},Nh={key:!0,ref:!0,__self:!0,__source:!0};function Th(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Ah.call(e,n)&&!Nh.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Zs,type:t,key:s,ref:a,props:i,_owner:nc.current}}function Av(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ic(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function Nv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var kd=/\/+/g;function sl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nv(""+t.key):e.toString(36)}function Aa(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zs:case vv:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+sl(a,0):n,_d(i)?(r="",t!=null&&(r=t.replace(kd,"$&/")+"/"),Aa(i,e,r,"",function(u){return u})):i!=null&&(ic(i)&&(i=Av(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(kd,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",_d(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+sl(s,o);a+=Aa(s,e,r,l,i)}else if(l=Dv(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+sl(s,o++),a+=Aa(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function la(t,e,r){if(t==null)return t;var n=[],i=0;return Aa(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Tv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Na={transition:null},Iv={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Na,ReactCurrentOwner:nc};function Ih(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:la,forEach:function(t,e,r){la(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return la(t,function(){e++}),e},toArray:function(t){return la(t,function(e){return e})||[]},only:function(t){if(!ic(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Vi;Ne.Fragment=yv;Ne.Profiler=xv;Ne.PureComponent=tc;Ne.StrictMode=wv;Ne.Suspense=kv;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;Ne.act=Ih;Ne.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ch({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=nc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Ah.call(e,l)&&!Nh.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Zs,type:t.type,key:i,ref:s,props:n,_owner:a}};Ne.createContext=function(t){return t={$$typeof:Ev,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bv,_context:t},t.Consumer=t};Ne.createElement=Th;Ne.createFactory=function(t){var e=Th.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:_v,render:t}};Ne.isValidElement=ic;Ne.lazy=function(t){return{$$typeof:Sv,_payload:{_status:-1,_result:t},_init:Tv}};Ne.memo=function(t,e){return{$$typeof:Cv,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Na.transition;Na.transition={};try{t()}finally{Na.transition=e}};Ne.unstable_act=Ih;Ne.useCallback=function(t,e){return Mt.current.useCallback(t,e)};Ne.useContext=function(t){return Mt.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return Mt.current.useEffect(t,e)};Ne.useId=function(){return Mt.current.useId()};Ne.useImperativeHandle=function(t,e,r){return Mt.current.useImperativeHandle(t,e,r)};Ne.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return Mt.current.useMemo(t,e)};Ne.useReducer=function(t,e,r){return Mt.current.useReducer(t,e,r)};Ne.useRef=function(t){return Mt.current.useRef(t)};Ne.useState=function(t){return Mt.current.useState(t)};Ne.useSyncExternalStore=function(t,e,r){return Mt.current.useSyncExternalStore(t,e,r)};Ne.useTransition=function(){return Mt.current.useTransition()};Ne.version="18.3.1";_h.exports=Ne;var Y=_h.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=Y,Bv=Symbol.for("react.element"),Rv=Symbol.for("react.fragment"),zv=Object.prototype.hasOwnProperty,jv=Lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ov={key:!0,ref:!0,__self:!0,__source:!0};function Lh(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)zv.call(e,n)&&!Ov.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Bv,type:t,key:s,ref:a,props:i,_owner:jv.current}}Io.Fragment=Rv;Io.jsx=Lh;Io.jsxs=Lh;Eh.exports=Io;var v=Eh.exports,Bh={exports:{}},ir={},Rh={exports:{}},zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,le){var me=H.length;H.push(le);e:for(;0<me;){var be=me-1>>>1,ce=H[be];if(0<i(ce,le))H[be]=le,H[me]=ce,me=be;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var le=H[0],me=H.pop();if(me!==le){H[0]=me;e:for(var be=0,ce=H.length,Te=ce>>>1;be<Te;){var ke=2*(be+1)-1,Ye=H[ke],de=ke+1,xe=H[de];if(0>i(Ye,me))de<ce&&0>i(xe,Ye)?(H[be]=xe,H[de]=me,be=de):(H[be]=Ye,H[ke]=me,be=ke);else if(de<ce&&0>i(xe,me))H[be]=xe,H[de]=me,be=de;else break e}}return le}function i(H,le){var me=H.sortIndex-le.sortIndex;return me!==0?me:H.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,m=3,y=!1,S=!1,C=!1,g=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(H){for(var le=r(u);le!==null;){if(le.callback===null)n(u);else if(le.startTime<=H)n(u),le.sortIndex=le.expirationTime,e(l,le);else break;le=r(u)}}function N(H){if(C=!1,x(H),!S)if(r(l)!==null)S=!0,ae(w);else{var le=r(u);le!==null&&oe(N,le.startTime-H)}}function w(H,le){S=!1,C&&(C=!1,h(D),D=-1),y=!0;var me=m;try{for(x(le),f=r(l);f!==null&&(!(f.expirationTime>le)||H&&!L());){var be=f.callback;if(typeof be=="function"){f.callback=null,m=f.priorityLevel;var ce=be(f.expirationTime<=le);le=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===r(l)&&n(l),x(le)}else n(l);f=r(l)}if(f!==null)var Te=!0;else{var ke=r(u);ke!==null&&oe(N,ke.startTime-le),Te=!1}return Te}finally{f=null,m=me,y=!1}}var b=!1,_=null,D=-1,j=5,R=-1;function L(){return!(t.unstable_now()-R<j)}function W(){if(_!==null){var H=t.unstable_now();R=H;var le=!0;try{le=_(!0,H)}finally{le?J():(b=!1,_=null)}}else b=!1}var J;if(typeof p=="function")J=function(){p(W)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ie=ue.port2;ue.port1.onmessage=W,J=function(){ie.postMessage(null)}}else J=function(){g(W,0)};function ae(H){_=H,b||(b=!0,J())}function oe(H,le){D=g(function(){H(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){S||y||(S=!0,ae(w))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var le=3;break;default:le=m}var me=m;m=le;try{return H()}finally{m=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,le){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var me=m;m=H;try{return le()}finally{m=me}},t.unstable_scheduleCallback=function(H,le,me){var be=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?be+me:be):me=be,H){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=me+ce,H={id:c++,callback:le,priorityLevel:H,startTime:me,expirationTime:ce,sortIndex:-1},me>be?(H.sortIndex=me,e(u,H),r(l)===null&&H===r(u)&&(C?(h(D),D=-1):C=!0,oe(N,me-be))):(H.sortIndex=ce,e(l,H),S||y||(S=!0,ae(w))),H},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(H){var le=m;return function(){var me=m;m=le;try{return H.apply(this,arguments)}finally{m=me}}}})(zh);Rh.exports=zh;var Pv=Rh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv=Y,nr=Pv;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jh=new Set,Cs={};function Kn(t,e){Ri(t,e),Ri(t+"Capture",e)}function Ri(t,e){for(Cs[t]=e,t=0;t<e.length;t++)jh.add(e[t])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=Object.prototype.hasOwnProperty,Mv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cd={},Sd={};function Uv(t){return Vl.call(Sd,t)?!0:Vl.call(Cd,t)?!1:Mv.test(t)?Sd[t]=!0:(Cd[t]=!0,!1)}function Wv(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Hv(t,e,r,n){if(e===null||typeof e>"u"||Wv(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ut(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function ac(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sc,ac);At[e]=new Ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sc,ac);At[e]=new Ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sc,ac);At[e]=new Ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Ut(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function oc(t,e,r,n){var i=At.hasOwnProperty(e)?At[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Hv(e,r,i,n)&&(r=null),n||i===null?Uv(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var un=Fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),di=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),lc=Symbol.for("react.strict_mode"),Gl=Symbol.for("react.profiler"),Oh=Symbol.for("react.provider"),Ph=Symbol.for("react.context"),uc=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Fh=Symbol.for("react.offscreen"),Dd=Symbol.iterator;function Xi(t){return t===null||typeof t!="object"?null:(t=Dd&&t[Dd]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,al;function cs(t){if(al===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);al=e&&e[1]||""}return`
`+al+t}var ol=!1;function ll(t,e){if(!t||ol)return"";ol=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ol=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cs(t):""}function qv(t){switch(t.tag){case 5:return cs(t.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return t=ll(t.type,!1),t;case 11:return t=ll(t.type.render,!1),t;case 1:return t=ll(t.type,!0),t;default:return""}}function Kl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case di:return"Portal";case Gl:return"Profiler";case lc:return"StrictMode";case Zl:return"Suspense";case Yl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ph:return(t.displayName||"Context")+".Consumer";case Oh:return(t._context.displayName||"Context")+".Provider";case uc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cc:return e=t.displayName||null,e!==null?e:Kl(t.type)||"Memo";case hn:e=t._payload,t=t._init;try{return Kl(t(e))}catch{}}return null}function $v(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kl(e);case 8:return e===lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Nn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Vv(t){var e=Mh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ca(t){t._valueTracker||(t._valueTracker=Vv(t))}function Uh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Mh(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xl(t,e){var r=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ad(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Nn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Wh(t,e){e=e.checked,e!=null&&oc(t,"checked",e,!1)}function Ql(t,e){Wh(t,e);var r=Nn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jl(t,e.type,r):e.hasOwnProperty("defaultValue")&&Jl(t,e.type,Nn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nd(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Jl(t,e,r){(e!=="number"||Va(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ds=Array.isArray;function Ci(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Nn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Td(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(ds(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Nn(r)}}function Hh(t,e){var r=Nn(e.value),n=Nn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Id(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qh(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var da,$h=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ss(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ps={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gv=["Webkit","ms","Moz","O"];Object.keys(ps).forEach(function(t){Gv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ps[e]=ps[t]})});function Vh(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ps.hasOwnProperty(t)&&ps[t]?(""+e).trim():e+"px"}function Gh(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Vh(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Zv=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ru(t,e){if(e){if(Zv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=null;function dc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var su=null,Si=null,Di=null;function Ld(t){if(t=Xs(t)){if(typeof su!="function")throw Error(te(280));var e=t.stateNode;e&&(e=jo(e),su(t.stateNode,t.type,e))}}function Zh(t){Si?Di?Di.push(t):Di=[t]:Si=t}function Yh(){if(Si){var t=Si,e=Di;if(Di=Si=null,Ld(t),e)for(t=0;t<e.length;t++)Ld(e[t])}}function Kh(t,e){return t(e)}function Xh(){}var ul=!1;function Qh(t,e,r){if(ul)return t(e,r);ul=!0;try{return Kh(t,e,r)}finally{ul=!1,(Si!==null||Di!==null)&&(Xh(),Yh())}}function Ds(t,e){var r=t.stateNode;if(r===null)return null;var n=jo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var au=!1;if(en)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){au=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{au=!1}function Yv(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var ms=!1,Ga=null,Za=!1,ou=null,Kv={onError:function(t){ms=!0,Ga=t}};function Xv(t,e,r,n,i,s,a,o,l){ms=!1,Ga=null,Yv.apply(Kv,arguments)}function Qv(t,e,r,n,i,s,a,o,l){if(Xv.apply(this,arguments),ms){if(ms){var u=Ga;ms=!1,Ga=null}else throw Error(te(198));Za||(Za=!0,ou=u)}}function Xn(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Jh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bd(t){if(Xn(t)!==t)throw Error(te(188))}function Jv(t){var e=t.alternate;if(!e){if(e=Xn(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Bd(i),t;if(s===n)return Bd(i),e;s=s.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function ep(t){return t=Jv(t),t!==null?tp(t):null}function tp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tp(t);if(e!==null)return e;t=t.sibling}return null}var rp=nr.unstable_scheduleCallback,Rd=nr.unstable_cancelCallback,e0=nr.unstable_shouldYield,t0=nr.unstable_requestPaint,ut=nr.unstable_now,r0=nr.unstable_getCurrentPriorityLevel,fc=nr.unstable_ImmediatePriority,np=nr.unstable_UserBlockingPriority,Ya=nr.unstable_NormalPriority,n0=nr.unstable_LowPriority,ip=nr.unstable_IdlePriority,Lo=null,Pr=null;function i0(t){if(Pr&&typeof Pr.onCommitFiberRoot=="function")try{Pr.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:o0,s0=Math.log,a0=Math.LN2;function o0(t){return t>>>=0,t===0?32:31-(s0(t)/a0|0)|0}var fa=64,ha=4194304;function fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ka(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=fs(o):(s&=a,s!==0&&(n=fs(s)))}else a=r&~i,a!==0?n=fs(a):s!==0&&(n=fs(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Nr(e),i=1<<r,n|=t[r],e&=~i;return n}function l0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Nr(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=l0(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function lu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sp(){var t=fa;return fa<<=1,!(fa&4194240)&&(fa=64),t}function cl(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ys(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=r}function c0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Nr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function hc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Nr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var He=0;function ap(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var op,pc,lp,up,cp,uu=!1,pa=[],bn=null,En=null,_n=null,As=new Map,Ns=new Map,mn=[],d0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zd(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":As.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(e.pointerId)}}function Ji(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xs(e),e!==null&&pc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function f0(t,e,r,n,i){switch(e){case"focusin":return bn=Ji(bn,t,e,r,n,i),!0;case"dragenter":return En=Ji(En,t,e,r,n,i),!0;case"mouseover":return _n=Ji(_n,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return As.set(s,Ji(As.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ns.set(s,Ji(Ns.get(s)||null,t,e,r,n,i)),!0}return!1}function dp(t){var e=Pn(t.target);if(e!==null){var r=Xn(e);if(r!==null){if(e=r.tag,e===13){if(e=Jh(r),e!==null){t.blockedOn=e,cp(t.priority,function(){lp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ta(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=cu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iu=n,r.target.dispatchEvent(n),iu=null}else return e=Xs(r),e!==null&&pc(e),t.blockedOn=r,!1;e.shift()}return!0}function jd(t,e,r){Ta(t)&&r.delete(e)}function h0(){uu=!1,bn!==null&&Ta(bn)&&(bn=null),En!==null&&Ta(En)&&(En=null),_n!==null&&Ta(_n)&&(_n=null),As.forEach(jd),Ns.forEach(jd)}function es(t,e){t.blockedOn===e&&(t.blockedOn=null,uu||(uu=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,h0)))}function Ts(t){function e(i){return es(i,t)}if(0<pa.length){es(pa[0],t);for(var r=1;r<pa.length;r++){var n=pa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(bn!==null&&es(bn,t),En!==null&&es(En,t),_n!==null&&es(_n,t),As.forEach(e),Ns.forEach(e),r=0;r<mn.length;r++)n=mn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<mn.length&&(r=mn[0],r.blockedOn===null);)dp(r),r.blockedOn===null&&mn.shift()}var Ai=un.ReactCurrentBatchConfig,Xa=!0;function p0(t,e,r,n){var i=He,s=Ai.transition;Ai.transition=null;try{He=1,mc(t,e,r,n)}finally{He=i,Ai.transition=s}}function m0(t,e,r,n){var i=He,s=Ai.transition;Ai.transition=null;try{He=4,mc(t,e,r,n)}finally{He=i,Ai.transition=s}}function mc(t,e,r,n){if(Xa){var i=cu(t,e,r,n);if(i===null)xl(t,e,n,Qa,r),zd(t,n);else if(f0(i,t,e,r,n))n.stopPropagation();else if(zd(t,n),e&4&&-1<d0.indexOf(t)){for(;i!==null;){var s=Xs(i);if(s!==null&&op(s),s=cu(t,e,r,n),s===null&&xl(t,e,n,Qa,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else xl(t,e,n,null,r)}}var Qa=null;function cu(t,e,r,n){if(Qa=null,t=dc(n),t=Pn(t),t!==null)if(e=Xn(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Jh(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qa=t,null}function fp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r0()){case fc:return 1;case np:return 4;case Ya:case n0:return 16;case ip:return 536870912;default:return 16}default:return 16}}var vn=null,gc=null,Ia=null;function hp(){if(Ia)return Ia;var t,e=gc,r=e.length,n,i="value"in vn?vn.value:vn.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Ia=i.slice(t,1<n?1-n:void 0)}function La(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ma(){return!0}function Od(){return!1}function sr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ma:Od,this.isPropagationStopped=Od,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ma)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ma)},persist:function(){},isPersistent:ma}),e}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=sr(Gi),Ks=rt({},Gi,{view:0,detail:0}),g0=sr(Ks),dl,fl,ts,Bo=rt({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ts&&(ts&&t.type==="mousemove"?(dl=t.screenX-ts.screenX,fl=t.screenY-ts.screenY):fl=dl=0,ts=t),dl)},movementY:function(t){return"movementY"in t?t.movementY:fl}}),Pd=sr(Bo),v0=rt({},Bo,{dataTransfer:0}),y0=sr(v0),w0=rt({},Ks,{relatedTarget:0}),hl=sr(w0),x0=rt({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),b0=sr(x0),E0=rt({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_0=sr(E0),k0=rt({},Gi,{data:0}),Fd=sr(k0),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D0[t])?!!e[t]:!1}function yc(){return A0}var N0=rt({},Ks,{key:function(t){if(t.key){var e=C0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=La(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(t){return t.type==="keypress"?La(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?La(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),T0=sr(N0),I0=rt({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=sr(I0),L0=rt({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),B0=sr(L0),R0=rt({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),z0=sr(R0),j0=rt({},Bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=sr(j0),P0=[9,13,27,32],wc=en&&"CompositionEvent"in window,gs=null;en&&"documentMode"in document&&(gs=document.documentMode);var F0=en&&"TextEvent"in window&&!gs,pp=en&&(!wc||gs&&8<gs&&11>=gs),Ud=" ",Wd=!1;function mp(t,e){switch(t){case"keyup":return P0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hi=!1;function M0(t,e){switch(t){case"compositionend":return gp(e);case"keypress":return e.which!==32?null:(Wd=!0,Ud);case"textInput":return t=e.data,t===Ud&&Wd?null:t;default:return null}}function U0(t,e){if(hi)return t==="compositionend"||!wc&&mp(t,e)?(t=hp(),Ia=gc=vn=null,hi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pp&&e.locale!=="ko"?null:e.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W0[t.type]:e==="textarea"}function vp(t,e,r,n){Zh(n),e=Ja(e,"onChange"),0<e.length&&(r=new vc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var vs=null,Is=null;function H0(t){Ap(t,0)}function Ro(t){var e=gi(t);if(Uh(e))return t}function q0(t,e){if(t==="change")return e}var yp=!1;if(en){var pl;if(en){var ml="oninput"in document;if(!ml){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),ml=typeof qd.oninput=="function"}pl=ml}else pl=!1;yp=pl&&(!document.documentMode||9<document.documentMode)}function $d(){vs&&(vs.detachEvent("onpropertychange",wp),Is=vs=null)}function wp(t){if(t.propertyName==="value"&&Ro(Is)){var e=[];vp(e,Is,t,dc(t)),Qh(H0,e)}}function $0(t,e,r){t==="focusin"?($d(),vs=e,Is=r,vs.attachEvent("onpropertychange",wp)):t==="focusout"&&$d()}function V0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ro(Is)}function G0(t,e){if(t==="click")return Ro(e)}function Z0(t,e){if(t==="input"||t==="change")return Ro(e)}function Y0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lr=typeof Object.is=="function"?Object.is:Y0;function Ls(t,e){if(Lr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Vl.call(e,i)||!Lr(t[i],e[i]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gd(t,e){var r=Vd(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vd(r)}}function xp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bp(){for(var t=window,e=Va();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Va(t.document)}return e}function xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K0(t){var e=bp(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xp(r.ownerDocument.documentElement,r)){if(n!==null&&xc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Gd(r,s);var a=Gd(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X0=en&&"documentMode"in document&&11>=document.documentMode,pi=null,du=null,ys=null,fu=!1;function Zd(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fu||pi==null||pi!==Va(n)||(n=pi,"selectionStart"in n&&xc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ys&&Ls(ys,n)||(ys=n,n=Ja(du,"onSelect"),0<n.length&&(e=new vc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=pi)))}function ga(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var mi={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},gl={},Ep={};en&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function zo(t){if(gl[t])return gl[t];if(!mi[t])return t;var e=mi[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Ep)return gl[t]=e[r];return t}var _p=zo("animationend"),kp=zo("animationiteration"),Cp=zo("animationstart"),Sp=zo("transitionend"),Dp=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(t,e){Dp.set(t,e),Kn(e,[t])}for(var vl=0;vl<Yd.length;vl++){var yl=Yd[vl],Q0=yl.toLowerCase(),J0=yl[0].toUpperCase()+yl.slice(1);In(Q0,"on"+J0)}In(_p,"onAnimationEnd");In(kp,"onAnimationIteration");In(Cp,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(Sp,"onTransitionEnd");Ri("onMouseEnter",["mouseout","mouseover"]);Ri("onMouseLeave",["mouseout","mouseover"]);Ri("onPointerEnter",["pointerout","pointerover"]);Ri("onPointerLeave",["pointerout","pointerover"]);Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ey=new Set("cancel close invalid load scroll toggle".split(" ").concat(hs));function Kd(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Qv(n,e,void 0,t),t.currentTarget=null}function Ap(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Kd(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Kd(i,o,u),s=l}}}if(Za)throw t=ou,Za=!1,ou=null,t}function Ke(t,e){var r=e[vu];r===void 0&&(r=e[vu]=new Set);var n=t+"__bubble";r.has(n)||(Np(e,t,2,!1),r.add(n))}function wl(t,e,r){var n=0;e&&(n|=4),Np(r,t,n,e)}var va="_reactListening"+Math.random().toString(36).slice(2);function Bs(t){if(!t[va]){t[va]=!0,jh.forEach(function(r){r!=="selectionchange"&&(ey.has(r)||wl(r,!1,t),wl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[va]||(e[va]=!0,wl("selectionchange",!1,e))}}function Np(t,e,r,n){switch(fp(e)){case 1:var i=p0;break;case 4:i=m0;break;default:i=mc}r=i.bind(null,e,r,t),i=void 0,!au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function xl(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Pn(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Qh(function(){var u=s,c=dc(r),f=[];e:{var m=Dp.get(t);if(m!==void 0){var y=vc,S=t;switch(t){case"keypress":if(La(r)===0)break e;case"keydown":case"keyup":y=T0;break;case"focusin":S="focus",y=hl;break;case"focusout":S="blur",y=hl;break;case"beforeblur":case"afterblur":y=hl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=y0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=B0;break;case _p:case kp:case Cp:y=b0;break;case Sp:y=z0;break;case"scroll":y=g0;break;case"wheel":y=O0;break;case"copy":case"cut":case"paste":y=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Md}var C=(e&4)!==0,g=!C&&t==="scroll",h=C?m!==null?m+"Capture":null:m;C=[];for(var p=u,x;p!==null;){x=p;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,h!==null&&(N=Ds(p,h),N!=null&&C.push(Rs(p,N,x)))),g)break;p=p.return}0<C.length&&(m=new y(m,S,null,r,c),f.push({event:m,listeners:C}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==iu&&(S=r.relatedTarget||r.fromElement)&&(Pn(S)||S[tn]))break e;if((y||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=r.relatedTarget||r.toElement,y=u,S=S?Pn(S):null,S!==null&&(g=Xn(S),S!==g||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=u),y!==S)){if(C=Pd,N="onMouseLeave",h="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(C=Md,N="onPointerLeave",h="onPointerEnter",p="pointer"),g=y==null?m:gi(y),x=S==null?m:gi(S),m=new C(N,p+"leave",y,r,c),m.target=g,m.relatedTarget=x,N=null,Pn(c)===u&&(C=new C(h,p+"enter",S,r,c),C.target=x,C.relatedTarget=g,N=C),g=N,y&&S)t:{for(C=y,h=S,p=0,x=C;x;x=ri(x))p++;for(x=0,N=h;N;N=ri(N))x++;for(;0<p-x;)C=ri(C),p--;for(;0<x-p;)h=ri(h),x--;for(;p--;){if(C===h||h!==null&&C===h.alternate)break t;C=ri(C),h=ri(h)}C=null}else C=null;y!==null&&Xd(f,m,y,C,!1),S!==null&&g!==null&&Xd(f,g,S,C,!0)}}e:{if(m=u?gi(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var w=q0;else if(Hd(m))if(yp)w=Z0;else{w=V0;var b=$0}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=G0);if(w&&(w=w(t,u))){vp(f,w,r,c);break e}b&&b(t,m,u),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Jl(m,"number",m.value)}switch(b=u?gi(u):window,t){case"focusin":(Hd(b)||b.contentEditable==="true")&&(pi=b,du=u,ys=null);break;case"focusout":ys=du=pi=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Zd(f,r,c);break;case"selectionchange":if(X0)break;case"keydown":case"keyup":Zd(f,r,c)}var _;if(wc)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else hi?mp(t,r)&&(D="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(pp&&r.locale!=="ko"&&(hi||D!=="onCompositionStart"?D==="onCompositionEnd"&&hi&&(_=hp()):(vn=c,gc="value"in vn?vn.value:vn.textContent,hi=!0)),b=Ja(u,D),0<b.length&&(D=new Fd(D,t,null,r,c),f.push({event:D,listeners:b}),_?D.data=_:(_=gp(r),_!==null&&(D.data=_)))),(_=F0?M0(t,r):U0(t,r))&&(u=Ja(u,"onBeforeInput"),0<u.length&&(c=new Fd("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=_))}Ap(f,e)})}function Rs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ja(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ds(t,r),s!=null&&n.unshift(Rs(t,s,i)),s=Ds(t,e),s!=null&&n.push(Rs(t,s,i))),t=t.return}return n}function ri(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xd(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Ds(r,s),l!=null&&a.unshift(Rs(r,l,o))):i||(l=Ds(r,s),l!=null&&a.push(Rs(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var ty=/\r\n?/g,ry=/\u0000|\uFFFD/g;function Qd(t){return(typeof t=="string"?t:""+t).replace(ty,`
`).replace(ry,"")}function ya(t,e,r){if(e=Qd(e),Qd(t)!==e&&r)throw Error(te(425))}function eo(){}var hu=null,pu=null;function mu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gu=typeof setTimeout=="function"?setTimeout:void 0,ny=typeof clearTimeout=="function"?clearTimeout:void 0,Jd=typeof Promise=="function"?Promise:void 0,iy=typeof queueMicrotask=="function"?queueMicrotask:typeof Jd<"u"?function(t){return Jd.resolve(null).then(t).catch(sy)}:gu;function sy(t){setTimeout(function(){throw t})}function bl(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ts(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ts(e)}function kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ef(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Zi=Math.random().toString(36).slice(2),jr="__reactFiber$"+Zi,zs="__reactProps$"+Zi,tn="__reactContainer$"+Zi,vu="__reactEvents$"+Zi,ay="__reactListeners$"+Zi,oy="__reactHandles$"+Zi;function Pn(t){var e=t[jr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[tn]||r[jr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ef(t);t!==null;){if(r=t[jr])return r;t=ef(t)}return e}t=r,r=t.parentNode}return null}function Xs(t){return t=t[jr]||t[tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function jo(t){return t[zs]||null}var yu=[],vi=-1;function Ln(t){return{current:t}}function Xe(t){0>vi||(t.current=yu[vi],yu[vi]=null,vi--)}function Ze(t,e){vi++,yu[vi]=t.current,t.current=e}var Tn={},Rt=Ln(Tn),Yt=Ln(!1),qn=Tn;function zi(t,e){var r=t.type.contextTypes;if(!r)return Tn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kt(t){return t=t.childContextTypes,t!=null}function to(){Xe(Yt),Xe(Rt)}function tf(t,e,r){if(Rt.current!==Tn)throw Error(te(168));Ze(Rt,e),Ze(Yt,r)}function Tp(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,$v(t)||"Unknown",i));return rt({},r,n)}function ro(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tn,qn=Rt.current,Ze(Rt,t),Ze(Yt,Yt.current),!0}function rf(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=Tp(t,e,qn),n.__reactInternalMemoizedMergedChildContext=t,Xe(Yt),Xe(Rt),Ze(Rt,t)):Xe(Yt),Ze(Yt,r)}var Zr=null,Oo=!1,El=!1;function Ip(t){Zr===null?Zr=[t]:Zr.push(t)}function ly(t){Oo=!0,Ip(t)}function Bn(){if(!El&&Zr!==null){El=!0;var t=0,e=He;try{var r=Zr;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Zr=null,Oo=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),rp(fc,Bn),i}finally{He=e,El=!1}}return null}var yi=[],wi=0,no=null,io=0,ur=[],cr=0,$n=null,Yr=1,Kr="";function jn(t,e){yi[wi++]=io,yi[wi++]=no,no=t,io=e}function Lp(t,e,r){ur[cr++]=Yr,ur[cr++]=Kr,ur[cr++]=$n,$n=t;var n=Yr;t=Kr;var i=32-Nr(n)-1;n&=~(1<<i),r+=1;var s=32-Nr(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Yr=1<<32-Nr(e)+i|r<<i|n,Kr=s+t}else Yr=1<<s|r<<i|n,Kr=t}function bc(t){t.return!==null&&(jn(t,1),Lp(t,1,0))}function Ec(t){for(;t===no;)no=yi[--wi],yi[wi]=null,io=yi[--wi],yi[wi]=null;for(;t===$n;)$n=ur[--cr],ur[cr]=null,Kr=ur[--cr],ur[cr]=null,Yr=ur[--cr],ur[cr]=null}var rr=null,tr=null,Je=!1,Ar=null;function Bp(t,e){var r=fr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function nf(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rr=t,tr=kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=$n!==null?{id:Yr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=fr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,rr=t,tr=null,!0):!1;default:return!1}}function wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xu(t){if(Je){var e=tr;if(e){var r=e;if(!nf(t,e)){if(wu(t))throw Error(te(418));e=kn(r.nextSibling);var n=rr;e&&nf(t,e)?Bp(n,r):(t.flags=t.flags&-4097|2,Je=!1,rr=t)}}else{if(wu(t))throw Error(te(418));t.flags=t.flags&-4097|2,Je=!1,rr=t}}}function sf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rr=t}function wa(t){if(t!==rr)return!1;if(!Je)return sf(t),Je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mu(t.type,t.memoizedProps)),e&&(e=tr)){if(wu(t))throw Rp(),Error(te(418));for(;e;)Bp(t,e),e=kn(e.nextSibling)}if(sf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){tr=kn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=rr?kn(t.stateNode.nextSibling):null;return!0}function Rp(){for(var t=tr;t;)t=kn(t.nextSibling)}function ji(){tr=rr=null,Je=!1}function _c(t){Ar===null?Ar=[t]:Ar.push(t)}var uy=un.ReactCurrentBatchConfig;function rs(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function xa(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function af(t){var e=t._init;return e(t._payload)}function zp(t){function e(h,p){if(t){var x=h.deletions;x===null?(h.deletions=[p],h.flags|=16):x.push(p)}}function r(h,p){if(!t)return null;for(;p!==null;)e(h,p),p=p.sibling;return null}function n(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function i(h,p){return h=An(h,p),h.index=0,h.sibling=null,h}function s(h,p,x){return h.index=x,t?(x=h.alternate,x!==null?(x=x.index,x<p?(h.flags|=2,p):x):(h.flags|=2,p)):(h.flags|=1048576,p)}function a(h){return t&&h.alternate===null&&(h.flags|=2),h}function o(h,p,x,N){return p===null||p.tag!==6?(p=Nl(x,h.mode,N),p.return=h,p):(p=i(p,x),p.return=h,p)}function l(h,p,x,N){var w=x.type;return w===fi?c(h,p,x.props.children,N,x.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===hn&&af(w)===p.type)?(N=i(p,x.props),N.ref=rs(h,p,x),N.return=h,N):(N=Fa(x.type,x.key,x.props,null,h.mode,N),N.ref=rs(h,p,x),N.return=h,N)}function u(h,p,x,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=Tl(x,h.mode,N),p.return=h,p):(p=i(p,x.children||[]),p.return=h,p)}function c(h,p,x,N,w){return p===null||p.tag!==7?(p=Wn(x,h.mode,N,w),p.return=h,p):(p=i(p,x),p.return=h,p)}function f(h,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Nl(""+p,h.mode,x),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ua:return x=Fa(p.type,p.key,p.props,null,h.mode,x),x.ref=rs(h,null,p),x.return=h,x;case di:return p=Tl(p,h.mode,x),p.return=h,p;case hn:var N=p._init;return f(h,N(p._payload),x)}if(ds(p)||Xi(p))return p=Wn(p,h.mode,x,null),p.return=h,p;xa(h,p)}return null}function m(h,p,x,N){var w=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return w!==null?null:o(h,p,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ua:return x.key===w?l(h,p,x,N):null;case di:return x.key===w?u(h,p,x,N):null;case hn:return w=x._init,m(h,p,w(x._payload),N)}if(ds(x)||Xi(x))return w!==null?null:c(h,p,x,N,null);xa(h,x)}return null}function y(h,p,x,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return h=h.get(x)||null,o(p,h,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ua:return h=h.get(N.key===null?x:N.key)||null,l(p,h,N,w);case di:return h=h.get(N.key===null?x:N.key)||null,u(p,h,N,w);case hn:var b=N._init;return y(h,p,x,b(N._payload),w)}if(ds(N)||Xi(N))return h=h.get(x)||null,c(p,h,N,w,null);xa(p,N)}return null}function S(h,p,x,N){for(var w=null,b=null,_=p,D=p=0,j=null;_!==null&&D<x.length;D++){_.index>D?(j=_,_=null):j=_.sibling;var R=m(h,_,x[D],N);if(R===null){_===null&&(_=j);break}t&&_&&R.alternate===null&&e(h,_),p=s(R,p,D),b===null?w=R:b.sibling=R,b=R,_=j}if(D===x.length)return r(h,_),Je&&jn(h,D),w;if(_===null){for(;D<x.length;D++)_=f(h,x[D],N),_!==null&&(p=s(_,p,D),b===null?w=_:b.sibling=_,b=_);return Je&&jn(h,D),w}for(_=n(h,_);D<x.length;D++)j=y(_,h,D,x[D],N),j!==null&&(t&&j.alternate!==null&&_.delete(j.key===null?D:j.key),p=s(j,p,D),b===null?w=j:b.sibling=j,b=j);return t&&_.forEach(function(L){return e(h,L)}),Je&&jn(h,D),w}function C(h,p,x,N){var w=Xi(x);if(typeof w!="function")throw Error(te(150));if(x=w.call(x),x==null)throw Error(te(151));for(var b=w=null,_=p,D=p=0,j=null,R=x.next();_!==null&&!R.done;D++,R=x.next()){_.index>D?(j=_,_=null):j=_.sibling;var L=m(h,_,R.value,N);if(L===null){_===null&&(_=j);break}t&&_&&L.alternate===null&&e(h,_),p=s(L,p,D),b===null?w=L:b.sibling=L,b=L,_=j}if(R.done)return r(h,_),Je&&jn(h,D),w;if(_===null){for(;!R.done;D++,R=x.next())R=f(h,R.value,N),R!==null&&(p=s(R,p,D),b===null?w=R:b.sibling=R,b=R);return Je&&jn(h,D),w}for(_=n(h,_);!R.done;D++,R=x.next())R=y(_,h,D,R.value,N),R!==null&&(t&&R.alternate!==null&&_.delete(R.key===null?D:R.key),p=s(R,p,D),b===null?w=R:b.sibling=R,b=R);return t&&_.forEach(function(W){return e(h,W)}),Je&&jn(h,D),w}function g(h,p,x,N){if(typeof x=="object"&&x!==null&&x.type===fi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ua:e:{for(var w=x.key,b=p;b!==null;){if(b.key===w){if(w=x.type,w===fi){if(b.tag===7){r(h,b.sibling),p=i(b,x.props.children),p.return=h,h=p;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===hn&&af(w)===b.type){r(h,b.sibling),p=i(b,x.props),p.ref=rs(h,b,x),p.return=h,h=p;break e}r(h,b);break}else e(h,b);b=b.sibling}x.type===fi?(p=Wn(x.props.children,h.mode,N,x.key),p.return=h,h=p):(N=Fa(x.type,x.key,x.props,null,h.mode,N),N.ref=rs(h,p,x),N.return=h,h=N)}return a(h);case di:e:{for(b=x.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(h,p.sibling),p=i(p,x.children||[]),p.return=h,h=p;break e}else{r(h,p);break}else e(h,p);p=p.sibling}p=Tl(x,h.mode,N),p.return=h,h=p}return a(h);case hn:return b=x._init,g(h,p,b(x._payload),N)}if(ds(x))return S(h,p,x,N);if(Xi(x))return C(h,p,x,N);xa(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(h,p.sibling),p=i(p,x),p.return=h,h=p):(r(h,p),p=Nl(x,h.mode,N),p.return=h,h=p),a(h)):r(h,p)}return g}var Oi=zp(!0),jp=zp(!1),so=Ln(null),ao=null,xi=null,kc=null;function Cc(){kc=xi=ao=null}function Sc(t){var e=so.current;Xe(so),t._currentValue=e}function bu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ni(t,e){ao=t,kc=xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(kc!==t)if(t={context:t,memoizedValue:e,next:null},xi===null){if(ao===null)throw Error(te(308));xi=t,ao.dependencies={lanes:0,firstContext:t}}else xi=xi.next=t;return e}var Fn=null;function Dc(t){Fn===null?Fn=[t]:Fn.push(t)}function Op(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Dc(e)):(r.next=i.next,i.next=r),e.interleaved=r,rn(t,n)}function rn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var pn=!1;function Ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cn(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,rn(t,r)}return i=n.interleaved,i===null?(e.next=e,Dc(n)):(e.next=i.next,i.next=e),n.interleaved=e,rn(t,r)}function Ba(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hc(t,r)}}function of(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function oo(t,e,r,n){var i=t.updateQueue;pn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,c=u=l=null,o=s;do{var m=o.lane,y=o.eventTime;if((n&m)===m){c!==null&&(c=c.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=t,C=o;switch(m=e,y=r,C.tag){case 1:if(S=C.payload,typeof S=="function"){f=S.call(y,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,m=typeof S=="function"?S.call(y,f,m):S,m==null)break e;f=rt({},f,m);break e;case 2:pn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else y={eventTime:y,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Gn|=a,t.lanes=a,t.memoizedState=f}}function lf(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var Qs={},Fr=Ln(Qs),js=Ln(Qs),Os=Ln(Qs);function Mn(t){if(t===Qs)throw Error(te(174));return t}function Nc(t,e){switch(Ze(Os,e),Ze(js,t),Ze(Fr,Qs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tu(e,t)}Xe(Fr),Ze(Fr,e)}function Pi(){Xe(Fr),Xe(js),Xe(Os)}function Fp(t){Mn(Os.current);var e=Mn(Fr.current),r=tu(e,t.type);e!==r&&(Ze(js,t),Ze(Fr,r))}function Tc(t){js.current===t&&(Xe(Fr),Xe(js))}var et=Ln(0);function lo(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _l=[];function Ic(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Ra=un.ReactCurrentDispatcher,kl=un.ReactCurrentBatchConfig,Vn=0,tt=null,gt=null,xt=null,uo=!1,ws=!1,Ps=0,cy=0;function It(){throw Error(te(321))}function Lc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Lr(t[r],e[r]))return!1;return!0}function Bc(t,e,r,n,i,s){if(Vn=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ra.current=t===null||t.memoizedState===null?py:my,t=r(n,i),ws){s=0;do{if(ws=!1,Ps=0,25<=s)throw Error(te(301));s+=1,xt=gt=null,e.updateQueue=null,Ra.current=gy,t=r(n,i)}while(ws)}if(Ra.current=co,e=gt!==null&&gt.next!==null,Vn=0,xt=gt=tt=null,uo=!1,e)throw Error(te(300));return t}function Rc(){var t=Ps!==0;return Ps=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?tt.memoizedState=xt=t:xt=xt.next=t,xt}function mr(){if(gt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=xt===null?tt.memoizedState:xt.next;if(e!==null)xt=e,gt=t;else{if(t===null)throw Error(te(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},xt===null?tt.memoizedState=xt=t:xt=xt.next=t}return xt}function Fs(t,e){return typeof e=="function"?e(t):e}function Cl(t){var e=mr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=gt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Vn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,tt.lanes|=c,Gn|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Lr(n,e.memoizedState)||(Zt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,Gn|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Sl(t){var e=mr(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Lr(s,e.memoizedState)||(Zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Mp(){}function Up(t,e){var r=tt,n=mr(),i=e(),s=!Lr(n.memoizedState,i);if(s&&(n.memoizedState=i,Zt=!0),n=n.queue,zc(qp.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Ms(9,Hp.bind(null,r,n,i,e),void 0,null),bt===null)throw Error(te(349));Vn&30||Wp(r,e,i)}return i}function Wp(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Hp(t,e,r,n){e.value=r,e.getSnapshot=n,$p(e)&&Vp(t)}function qp(t,e,r){return r(function(){$p(e)&&Vp(t)})}function $p(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Lr(t,r)}catch{return!0}}function Vp(t){var e=rn(t,1);e!==null&&Tr(e,t,1,-1)}function uf(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:t},e.queue=t,t=t.dispatch=hy.bind(null,tt,t),[e.memoizedState,t]}function Ms(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Gp(){return mr().memoizedState}function za(t,e,r,n){var i=zr();tt.flags|=t,i.memoizedState=Ms(1|e,r,void 0,n===void 0?null:n)}function Po(t,e,r,n){var i=mr();n=n===void 0?null:n;var s=void 0;if(gt!==null){var a=gt.memoizedState;if(s=a.destroy,n!==null&&Lc(n,a.deps)){i.memoizedState=Ms(e,r,s,n);return}}tt.flags|=t,i.memoizedState=Ms(1|e,r,s,n)}function cf(t,e){return za(8390656,8,t,e)}function zc(t,e){return Po(2048,8,t,e)}function Zp(t,e){return Po(4,2,t,e)}function Yp(t,e){return Po(4,4,t,e)}function Kp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xp(t,e,r){return r=r!=null?r.concat([t]):null,Po(4,4,Kp.bind(null,e,t),r)}function jc(){}function Qp(t,e){var r=mr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Lc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Jp(t,e){var r=mr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Lc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function em(t,e,r){return Vn&21?(Lr(r,e)||(r=sp(),tt.lanes|=r,Gn|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=r)}function dy(t,e){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=kl.transition;kl.transition={};try{t(!1),e()}finally{He=r,kl.transition=n}}function tm(){return mr().memoizedState}function fy(t,e,r){var n=Dn(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},rm(t))nm(e,r);else if(r=Op(t,e,r,n),r!==null){var i=Ft();Tr(r,t,n,i),im(r,e,n)}}function hy(t,e,r){var n=Dn(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(rm(t))nm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Lr(o,a)){var l=e.interleaved;l===null?(i.next=i,Dc(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Op(t,e,i,n),r!==null&&(i=Ft(),Tr(r,t,n,i),im(r,e,n))}}function rm(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function nm(t,e){ws=uo=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function im(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,hc(t,r)}}var co={readContext:pr,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},py={readContext:pr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:cf,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,za(4194308,4,Kp.bind(null,e,t),r)},useLayoutEffect:function(t,e){return za(4194308,4,t,e)},useInsertionEffect:function(t,e){return za(4,2,t,e)},useMemo:function(t,e){var r=zr();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=zr();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fy.bind(null,tt,t),[n.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:uf,useDebugValue:jc,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=uf(!1),e=t[0];return t=dy.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=tt,i=zr();if(Je){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),bt===null)throw Error(te(349));Vn&30||Wp(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,cf(qp.bind(null,n,s,t),[t]),n.flags|=2048,Ms(9,Hp.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=zr(),e=bt.identifierPrefix;if(Je){var r=Kr,n=Yr;r=(n&~(1<<32-Nr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ps++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cy++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},my={readContext:pr,useCallback:Qp,useContext:pr,useEffect:zc,useImperativeHandle:Xp,useInsertionEffect:Zp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Cl,useRef:Gp,useState:function(){return Cl(Fs)},useDebugValue:jc,useDeferredValue:function(t){var e=mr();return em(e,gt.memoizedState,t)},useTransition:function(){var t=Cl(Fs)[0],e=mr().memoizedState;return[t,e]},useMutableSource:Mp,useSyncExternalStore:Up,useId:tm,unstable_isNewReconciler:!1},gy={readContext:pr,useCallback:Qp,useContext:pr,useEffect:zc,useImperativeHandle:Xp,useInsertionEffect:Zp,useLayoutEffect:Yp,useMemo:Jp,useReducer:Sl,useRef:Gp,useState:function(){return Sl(Fs)},useDebugValue:jc,useDeferredValue:function(t){var e=mr();return gt===null?e.memoizedState=t:em(e,gt.memoizedState,t)},useTransition:function(){var t=Sl(Fs)[0],e=mr().memoizedState;return[t,e]},useMutableSource:Mp,useSyncExternalStore:Up,useId:tm,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Eu(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:rt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fo={isMounted:function(t){return(t=t._reactInternals)?Xn(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ft(),i=Dn(t),s=Qr(n,i);s.payload=e,r!=null&&(s.callback=r),e=Cn(t,s,i),e!==null&&(Tr(e,t,i,n),Ba(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ft(),i=Dn(t),s=Qr(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Cn(t,s,i),e!==null&&(Tr(e,t,i,n),Ba(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ft(),n=Dn(t),i=Qr(r,n);i.tag=2,e!=null&&(i.callback=e),e=Cn(t,i,n),e!==null&&(Tr(e,t,n,r),Ba(e,t,n))}};function df(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ls(r,n)||!Ls(i,s):!0}function sm(t,e,r){var n=!1,i=Tn,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=Kt(e)?qn:Rt.current,n=e.contextTypes,s=(n=n!=null)?zi(t,i):Tn),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ff(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fo.enqueueReplaceState(e,e.state,null)}function _u(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Ac(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=Kt(e)?qn:Rt.current,i.context=zi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Eu(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fo.enqueueReplaceState(i,i.state,null),oo(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Fi(t,e){try{var r="",n=e;do r+=qv(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dl(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ku(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vy=typeof WeakMap=="function"?WeakMap:Map;function am(t,e,r){r=Qr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ho||(ho=!0,Ru=n),ku(t,e)},r}function om(t,e,r){r=Qr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ku(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ku(t,e),typeof n!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function hf(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new vy;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Iy.bind(null,t,e,r),e.then(t,t))}function pf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mf(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Qr(-1,1),e.tag=2,Cn(r,e,1))),r.lanes|=1),t)}var yy=un.ReactCurrentOwner,Zt=!1;function Pt(t,e,r,n){e.child=t===null?jp(e,null,r,n):Oi(e,t.child,r,n)}function gf(t,e,r,n,i){r=r.render;var s=e.ref;return Ni(e,i),n=Bc(t,e,r,n,s,i),r=Rc(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(Je&&r&&bc(e),e.flags|=1,Pt(t,e,n,i),e.child)}function vf(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!qc(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,lm(t,e,s,n,i)):(t=Fa(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ls,r(a,n)&&t.ref===e.ref)return nn(t,e,i)}return e.flags|=1,t=An(s,n),t.ref=e.ref,t.return=e,e.child=t}function lm(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ls(s,n)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,nn(t,e,i)}return Cu(t,e,r,n,i)}function um(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Ei,er),er|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ze(Ei,er),er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ze(Ei,er),er|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ze(Ei,er),er|=n;return Pt(t,e,i,r),e.child}function cm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Cu(t,e,r,n,i){var s=Kt(r)?qn:Rt.current;return s=zi(e,s),Ni(e,i),r=Bc(t,e,r,n,s,i),n=Rc(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(Je&&n&&bc(e),e.flags|=1,Pt(t,e,r,i),e.child)}function yf(t,e,r,n,i){if(Kt(r)){var s=!0;ro(e)}else s=!1;if(Ni(e,i),e.stateNode===null)ja(t,e),sm(e,r,n),_u(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=pr(u):(u=Kt(r)?qn:Rt.current,u=zi(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&ff(e,a,n,u),pn=!1;var m=e.memoizedState;a.state=m,oo(e,n,a,i),l=e.memoizedState,o!==n||m!==l||Yt.current||pn?(typeof c=="function"&&(Eu(e,r,c,n),l=e.memoizedState),(o=pn||df(e,r,o,n,m,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Pp(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:kr(e.type,o),a.props=u,f=e.pendingProps,m=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Kt(r)?qn:Rt.current,l=zi(e,l));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||m!==l)&&ff(e,a,n,l),pn=!1,m=e.memoizedState,a.state=m,oo(e,n,a,i);var S=e.memoizedState;o!==f||m!==S||Yt.current||pn?(typeof y=="function"&&(Eu(e,r,y,n),S=e.memoizedState),(u=pn||df(e,r,u,n,m,S,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,S,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,S,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=S),a.props=n,a.state=S,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Su(t,e,r,n,s,i)}function Su(t,e,r,n,i,s){cm(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&rf(e,r,!1),nn(t,e,s);n=e.stateNode,yy.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Oi(e,t.child,null,s),e.child=Oi(e,null,o,s)):Pt(t,e,o,s),e.memoizedState=n.state,i&&rf(e,r,!0),e.child}function dm(t){var e=t.stateNode;e.pendingContext?tf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tf(t,e.context,!1),Nc(t,e.containerInfo)}function wf(t,e,r,n,i){return ji(),_c(i),e.flags|=256,Pt(t,e,r,n),e.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Au(t){return{baseLanes:t,cachePool:null,transitions:null}}function fm(t,e,r){var n=e.pendingProps,i=et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ze(et,i&1),t===null)return xu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Wo(a,n,0,null),t=Wn(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Au(r),e.memoizedState=Du,t):Oc(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return wy(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=An(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=An(o,s):(s=Wn(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Au(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Du,n}return s=t.child,t=s.sibling,n=An(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Oc(t,e){return e=Wo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ba(t,e,r,n){return n!==null&&_c(n),Oi(e,t.child,null,r),t=Oc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wy(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Dl(Error(te(422))),ba(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Wo({mode:"visible",children:n.children},i,0,null),s=Wn(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Oi(e,t.child,null,a),e.child.memoizedState=Au(a),e.memoizedState=Du,s);if(!(e.mode&1))return ba(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(te(419)),n=Dl(s,n,void 0),ba(t,e,a,n)}if(o=(a&t.childLanes)!==0,Zt||o){if(n=bt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,rn(t,i),Tr(n,t,i,-1))}return Hc(),n=Dl(Error(te(421))),ba(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ly.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,tr=kn(i.nextSibling),rr=e,Je=!0,Ar=null,t!==null&&(ur[cr++]=Yr,ur[cr++]=Kr,ur[cr++]=$n,Yr=t.id,Kr=t.overflow,$n=e),e=Oc(e,n.children),e.flags|=4096,e)}function xf(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),bu(t.return,e,r)}function Al(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function hm(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pt(t,e,n.children,r),n=et.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xf(t,r,e);else if(t.tag===19)xf(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ze(et,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&lo(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Al(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lo(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Al(e,!0,r,null,s);break;case"together":Al(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ja(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Gn|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=An(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=An(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function xy(t,e,r){switch(e.tag){case 3:dm(e),ji();break;case 5:Fp(e);break;case 1:Kt(e.type)&&ro(e);break;case 4:Nc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ze(so,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ze(et,et.current&1),e.flags|=128,null):r&e.child.childLanes?fm(t,e,r):(Ze(et,et.current&1),t=nn(t,e,r),t!==null?t.sibling:null);Ze(et,et.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return hm(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(et,et.current),n)break;return null;case 22:case 23:return e.lanes=0,um(t,e,r)}return nn(t,e,r)}var pm,Nu,mm,gm;pm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nu=function(){};mm=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Mn(Fr.current);var s=null;switch(r){case"input":i=Xl(t,i),n=Xl(t,n),s=[];break;case"select":i=rt({},i,{value:void 0}),n=rt({},n,{value:void 0}),s=[];break;case"textarea":i=eu(t,i),n=eu(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=eo)}ru(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cs.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ke("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};gm=function(t,e,r,n){r!==n&&(e.flags|=4)};function ns(t,e){if(!Je)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function by(t,e,r){var n=e.pendingProps;switch(Ec(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return Kt(e.type)&&to(),Lt(e),null;case 3:return n=e.stateNode,Pi(),Xe(Yt),Xe(Rt),Ic(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Ou(Ar),Ar=null))),Nu(t,e),Lt(e),null;case 5:Tc(e);var i=Mn(Os.current);if(r=e.type,t!==null&&e.stateNode!=null)mm(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return Lt(e),null}if(t=Mn(Fr.current),wa(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[jr]=e,n[zs]=s,t=(e.mode&1)!==0,r){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(i=0;i<hs.length;i++)Ke(hs[i],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":Ad(n,s),Ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ke("invalid",n);break;case"textarea":Td(n,s),Ke("invalid",n)}ru(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&ya(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&ya(n.textContent,o,t),i=["children",""+o]):Cs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ke("scroll",n)}switch(r){case"input":ca(n),Nd(n,s,!0);break;case"textarea":ca(n),Id(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=eo)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qh(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[jr]=e,t[zs]=n,pm(t,e,!1,!1),e.stateNode=t;e:{switch(a=nu(r,n),r){case"dialog":Ke("cancel",t),Ke("close",t),i=n;break;case"iframe":case"object":case"embed":Ke("load",t),i=n;break;case"video":case"audio":for(i=0;i<hs.length;i++)Ke(hs[i],t);i=n;break;case"source":Ke("error",t),i=n;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),i=n;break;case"details":Ke("toggle",t),i=n;break;case"input":Ad(t,n),i=Xl(t,n),Ke("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=rt({},n,{value:void 0}),Ke("invalid",t);break;case"textarea":Td(t,n),i=eu(t,n),Ke("invalid",t);break;default:i=n}ru(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Gh(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$h(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ss(t,l):typeof l=="number"&&Ss(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cs.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ke("scroll",t):l!=null&&oc(t,s,l,a))}switch(r){case"input":ca(t),Nd(t,n,!1);break;case"textarea":ca(t),Id(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Nn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ci(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ci(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=eo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)gm(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=Mn(Os.current),Mn(Fr.current),wa(e)){if(n=e.stateNode,r=e.memoizedProps,n[jr]=e,(s=n.nodeValue!==r)&&(t=rr,t!==null))switch(t.tag){case 3:ya(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ya(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jr]=e,e.stateNode=n}return Lt(e),null;case 13:if(Xe(et),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Je&&tr!==null&&e.mode&1&&!(e.flags&128))Rp(),ji(),e.flags|=98560,s=!1;else if(s=wa(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[jr]=e}else ji(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),s=!1}else Ar!==null&&(Ou(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?vt===0&&(vt=3):Hc())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Pi(),Nu(t,e),t===null&&Bs(e.stateNode.containerInfo),Lt(e),null;case 10:return Sc(e.type._context),Lt(e),null;case 17:return Kt(e.type)&&to(),Lt(e),null;case 19:if(Xe(et),s=e.memoizedState,s===null)return Lt(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)ns(s,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=lo(t),a!==null){for(e.flags|=128,ns(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ze(et,et.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>Mi&&(e.flags|=128,n=!0,ns(s,!1),e.lanes=4194304)}else{if(!n)if(t=lo(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ns(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Je)return Lt(e),null}else 2*ut()-s.renderingStartTime>Mi&&r!==1073741824&&(e.flags|=128,n=!0,ns(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,r=et.current,Ze(et,n?r&1|2:r&1),e):(Lt(e),null);case 22:case 23:return Wc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?er&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function Ey(t,e){switch(Ec(e),e.tag){case 1:return Kt(e.type)&&to(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pi(),Xe(Yt),Xe(Rt),Ic(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tc(e),null;case 13:if(Xe(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));ji()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(et),null;case 4:return Pi(),null;case 10:return Sc(e.type._context),null;case 22:case 23:return Wc(),null;case 24:return null;default:return null}}var Ea=!1,Bt=!1,_y=typeof WeakSet=="function"?WeakSet:Set,ve=null;function bi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){it(t,e,n)}else r.current=null}function Tu(t,e,r){try{r()}catch(n){it(t,e,n)}}var bf=!1;function ky(t,e){if(hu=Xa,t=bp(),xc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=t,m=null;t:for(;;){for(var y;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===r&&++u===i&&(o=a),m===s&&++c===n&&(l=a),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(pu={focusedElem:t,selectionRange:r},Xa=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,g=S.memoizedState,h=e.stateNode,p=h.getSnapshotBeforeUpdate(e.elementType===e.type?C:kr(e.type,C),g);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(N){it(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return S=bf,bf=!1,S}function xs(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Tu(e,r,s)}i=i.next}while(i!==n)}}function Mo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Iu(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function vm(t){var e=t.alternate;e!==null&&(t.alternate=null,vm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[zs],delete e[vu],delete e[ay],delete e[oy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ym(t){return t.tag===5||t.tag===3||t.tag===4}function Ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ym(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=eo));else if(n!==4&&(t=t.child,t!==null))for(Lu(t,e,r),t=t.sibling;t!==null;)Lu(t,e,r),t=t.sibling}function Bu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Bu(t,e,r),t=t.sibling;t!==null;)Bu(t,e,r),t=t.sibling}var Ct=null,Sr=!1;function dn(t,e,r){for(r=r.child;r!==null;)wm(t,e,r),r=r.sibling}function wm(t,e,r){if(Pr&&typeof Pr.onCommitFiberUnmount=="function")try{Pr.onCommitFiberUnmount(Lo,r)}catch{}switch(r.tag){case 5:Bt||bi(r,e);case 6:var n=Ct,i=Sr;Ct=null,dn(t,e,r),Ct=n,Sr=i,Ct!==null&&(Sr?(t=Ct,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ct.removeChild(r.stateNode));break;case 18:Ct!==null&&(Sr?(t=Ct,r=r.stateNode,t.nodeType===8?bl(t.parentNode,r):t.nodeType===1&&bl(t,r),Ts(t)):bl(Ct,r.stateNode));break;case 4:n=Ct,i=Sr,Ct=r.stateNode.containerInfo,Sr=!0,dn(t,e,r),Ct=n,Sr=i;break;case 0:case 11:case 14:case 15:if(!Bt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Tu(r,e,a),i=i.next}while(i!==n)}dn(t,e,r);break;case 1:if(!Bt&&(bi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){it(r,e,o)}dn(t,e,r);break;case 21:dn(t,e,r);break;case 22:r.mode&1?(Bt=(n=Bt)||r.memoizedState!==null,dn(t,e,r),Bt=n):dn(t,e,r);break;default:dn(t,e,r)}}function _f(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new _y),e.forEach(function(n){var i=By.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Er(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ct=o.stateNode,Sr=!1;break e;case 3:Ct=o.stateNode.containerInfo,Sr=!0;break e;case 4:Ct=o.stateNode.containerInfo,Sr=!0;break e}o=o.return}if(Ct===null)throw Error(te(160));wm(s,a,i),Ct=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){it(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xm(e,t),e=e.sibling}function xm(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Br(t),n&4){try{xs(3,t,t.return),Mo(3,t)}catch(C){it(t,t.return,C)}try{xs(5,t,t.return)}catch(C){it(t,t.return,C)}}break;case 1:Er(e,t),Br(t),n&512&&r!==null&&bi(r,r.return);break;case 5:if(Er(e,t),Br(t),n&512&&r!==null&&bi(r,r.return),t.flags&32){var i=t.stateNode;try{Ss(i,"")}catch(C){it(t,t.return,C)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Wh(i,s),nu(o,a);var u=nu(o,s);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Gh(i,f):c==="dangerouslySetInnerHTML"?$h(i,f):c==="children"?Ss(i,f):oc(i,c,f,u)}switch(o){case"input":Ql(i,s);break;case"textarea":Hh(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ci(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ci(i,!!s.multiple,s.defaultValue,!0):Ci(i,!!s.multiple,s.multiple?[]:"",!1))}i[zs]=s}catch(C){it(t,t.return,C)}}break;case 6:if(Er(e,t),Br(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(C){it(t,t.return,C)}}break;case 3:if(Er(e,t),Br(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ts(e.containerInfo)}catch(C){it(t,t.return,C)}break;case 4:Er(e,t),Br(t);break;case 13:Er(e,t),Br(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Mc=ut())),n&4&&_f(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Bt=(u=Bt)||c,Er(e,t),Bt=u):Er(e,t),Br(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ve=t,c=t.child;c!==null;){for(f=ve=c;ve!==null;){switch(m=ve,y=m.child,m.tag){case 0:case 11:case 14:case 15:xs(4,m,m.return);break;case 1:bi(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(C){it(n,r,C)}}break;case 5:bi(m,m.return);break;case 22:if(m.memoizedState!==null){Cf(f);continue}}y!==null?(y.return=m,ve=y):Cf(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Vh("display",a))}catch(C){it(t,t.return,C)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(C){it(t,t.return,C)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Er(e,t),Br(t),n&4&&_f(t);break;case 21:break;default:Er(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ym(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ss(i,""),n.flags&=-33);var s=Ef(t);Bu(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Ef(t);Lu(t,o,a);break;default:throw Error(te(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Cy(t,e,r){ve=t,bm(t)}function bm(t,e,r){for(var n=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ea;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Bt;o=Ea;var u=Bt;if(Ea=a,(Bt=l)&&!u)for(ve=i;ve!==null;)a=ve,l=a.child,a.tag===22&&a.memoizedState!==null?Sf(i):l!==null?(l.return=a,ve=l):Sf(i);for(;s!==null;)ve=s,bm(s),s=s.sibling;ve=i,Ea=o,Bt=u}kf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):kf(t)}}function kf(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Mo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Bt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:kr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lf(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lf(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Ts(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Bt||e.flags&512&&Iu(e)}catch(m){it(e,e.return,m)}}if(e===t){ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,ve=r;break}ve=e.return}}function Cf(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ve=r;break}ve=e.return}}function Sf(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Mo(4,e)}catch(l){it(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){it(e,i,l)}}var s=e.return;try{Iu(e)}catch(l){it(e,s,l)}break;case 5:var a=e.return;try{Iu(e)}catch(l){it(e,a,l)}}}catch(l){it(e,e.return,l)}if(e===t){ve=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ve=o;break}ve=e.return}}var Sy=Math.ceil,fo=un.ReactCurrentDispatcher,Pc=un.ReactCurrentOwner,hr=un.ReactCurrentBatchConfig,je=0,bt=null,ft=null,St=0,er=0,Ei=Ln(0),vt=0,Us=null,Gn=0,Uo=0,Fc=0,bs=null,Vt=null,Mc=0,Mi=1/0,Gr=null,ho=!1,Ru=null,Sn=null,_a=!1,yn=null,po=0,Es=0,zu=null,Oa=-1,Pa=0;function Ft(){return je&6?ut():Oa!==-1?Oa:Oa=ut()}function Dn(t){return t.mode&1?je&2&&St!==0?St&-St:uy.transition!==null?(Pa===0&&(Pa=sp()),Pa):(t=He,t!==0||(t=window.event,t=t===void 0?16:fp(t.type)),t):1}function Tr(t,e,r,n){if(50<Es)throw Es=0,zu=null,Error(te(185));Ys(t,r,n),(!(je&2)||t!==bt)&&(t===bt&&(!(je&2)&&(Uo|=r),vt===4&&gn(t,St)),Xt(t,n),r===1&&je===0&&!(e.mode&1)&&(Mi=ut()+500,Oo&&Bn()))}function Xt(t,e){var r=t.callbackNode;u0(t,e);var n=Ka(t,t===bt?St:0);if(n===0)r!==null&&Rd(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Rd(r),e===1)t.tag===0?ly(Df.bind(null,t)):Ip(Df.bind(null,t)),iy(function(){!(je&6)&&Bn()}),r=null;else{switch(ap(n)){case 1:r=fc;break;case 4:r=np;break;case 16:r=Ya;break;case 536870912:r=ip;break;default:r=Ya}r=Nm(r,Em.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Em(t,e){if(Oa=-1,Pa=0,je&6)throw Error(te(327));var r=t.callbackNode;if(Ti()&&t.callbackNode!==r)return null;var n=Ka(t,t===bt?St:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=mo(t,n);else{e=n;var i=je;je|=2;var s=km();(bt!==t||St!==e)&&(Gr=null,Mi=ut()+500,Un(t,e));do try{Ny();break}catch(o){_m(t,o)}while(!0);Cc(),fo.current=s,je=i,ft!==null?e=0:(bt=null,St=0,e=vt)}if(e!==0){if(e===2&&(i=lu(t),i!==0&&(n=i,e=ju(t,i))),e===1)throw r=Us,Un(t,0),gn(t,n),Xt(t,ut()),r;if(e===6)gn(t,n);else{if(i=t.current.alternate,!(n&30)&&!Dy(i)&&(e=mo(t,n),e===2&&(s=lu(t),s!==0&&(n=s,e=ju(t,s))),e===1))throw r=Us,Un(t,0),gn(t,n),Xt(t,ut()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:On(t,Vt,Gr);break;case 3:if(gn(t,n),(n&130023424)===n&&(e=Mc+500-ut(),10<e)){if(Ka(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ft(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gu(On.bind(null,t,Vt,Gr),e);break}On(t,Vt,Gr);break;case 4:if(gn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Nr(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sy(n/1960))-n,10<n){t.timeoutHandle=gu(On.bind(null,t,Vt,Gr),n);break}On(t,Vt,Gr);break;case 5:On(t,Vt,Gr);break;default:throw Error(te(329))}}}return Xt(t,ut()),t.callbackNode===r?Em.bind(null,t):null}function ju(t,e){var r=bs;return t.current.memoizedState.isDehydrated&&(Un(t,e).flags|=256),t=mo(t,e),t!==2&&(e=Vt,Vt=r,e!==null&&Ou(e)),t}function Ou(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function Dy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Lr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gn(t,e){for(e&=~Fc,e&=~Uo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Nr(e),n=1<<r;t[r]=-1,e&=~n}}function Df(t){if(je&6)throw Error(te(327));Ti();var e=Ka(t,0);if(!(e&1))return Xt(t,ut()),null;var r=mo(t,e);if(t.tag!==0&&r===2){var n=lu(t);n!==0&&(e=n,r=ju(t,n))}if(r===1)throw r=Us,Un(t,0),gn(t,e),Xt(t,ut()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,On(t,Vt,Gr),Xt(t,ut()),null}function Uc(t,e){var r=je;je|=1;try{return t(e)}finally{je=r,je===0&&(Mi=ut()+500,Oo&&Bn())}}function Zn(t){yn!==null&&yn.tag===0&&!(je&6)&&Ti();var e=je;je|=1;var r=hr.transition,n=He;try{if(hr.transition=null,He=1,t)return t()}finally{He=n,hr.transition=r,je=e,!(je&6)&&Bn()}}function Wc(){er=Ei.current,Xe(Ei)}function Un(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ny(r)),ft!==null)for(r=ft.return;r!==null;){var n=r;switch(Ec(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&to();break;case 3:Pi(),Xe(Yt),Xe(Rt),Ic();break;case 5:Tc(n);break;case 4:Pi();break;case 13:Xe(et);break;case 19:Xe(et);break;case 10:Sc(n.type._context);break;case 22:case 23:Wc()}r=r.return}if(bt=t,ft=t=An(t.current,null),St=er=e,vt=0,Us=null,Fc=Uo=Gn=0,Vt=bs=null,Fn!==null){for(e=0;e<Fn.length;e++)if(r=Fn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Fn=null}return t}function _m(t,e){do{var r=ft;try{if(Cc(),Ra.current=co,uo){for(var n=tt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}uo=!1}if(Vn=0,xt=gt=tt=null,ws=!1,Ps=0,Pc.current=null,r===null||r.return===null){vt=1,Us=e,ft=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=St,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=pf(a);if(y!==null){y.flags&=-257,mf(y,a,o,s,e),y.mode&1&&hf(s,u,e),e=y,l=u;var S=e.updateQueue;if(S===null){var C=new Set;C.add(l),e.updateQueue=C}else S.add(l);break e}else{if(!(e&1)){hf(s,u,e),Hc();break e}l=Error(te(426))}}else if(Je&&o.mode&1){var g=pf(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),mf(g,a,o,s,e),_c(Fi(l,o));break e}}s=l=Fi(l,o),vt!==4&&(vt=2),bs===null?bs=[s]:bs.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var h=am(s,l,e);of(s,h);break e;case 1:o=l;var p=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sn===null||!Sn.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=om(s,o,e);of(s,N);break e}}s=s.return}while(s!==null)}Sm(r)}catch(w){e=w,ft===r&&r!==null&&(ft=r=r.return);continue}break}while(!0)}function km(){var t=fo.current;return fo.current=co,t===null?co:t}function Hc(){(vt===0||vt===3||vt===2)&&(vt=4),bt===null||!(Gn&268435455)&&!(Uo&268435455)||gn(bt,St)}function mo(t,e){var r=je;je|=2;var n=km();(bt!==t||St!==e)&&(Gr=null,Un(t,e));do try{Ay();break}catch(i){_m(t,i)}while(!0);if(Cc(),je=r,fo.current=n,ft!==null)throw Error(te(261));return bt=null,St=0,vt}function Ay(){for(;ft!==null;)Cm(ft)}function Ny(){for(;ft!==null&&!e0();)Cm(ft)}function Cm(t){var e=Am(t.alternate,t,er);t.memoizedProps=t.pendingProps,e===null?Sm(t):ft=e,Pc.current=null}function Sm(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ey(r,e),r!==null){r.flags&=32767,ft=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,ft=null;return}}else if(r=by(r,e,er),r!==null){ft=r;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);vt===0&&(vt=5)}function On(t,e,r){var n=He,i=hr.transition;try{hr.transition=null,He=1,Ty(t,e,r,n)}finally{hr.transition=i,He=n}return null}function Ty(t,e,r,n){do Ti();while(yn!==null);if(je&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(c0(t,s),t===bt&&(ft=bt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_a||(_a=!0,Nm(Ya,function(){return Ti(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=hr.transition,hr.transition=null;var a=He;He=1;var o=je;je|=4,Pc.current=null,ky(t,r),xm(r,t),K0(pu),Xa=!!hu,pu=hu=null,t.current=r,Cy(r),t0(),je=o,He=a,hr.transition=s}else t.current=r;if(_a&&(_a=!1,yn=t,po=i),s=t.pendingLanes,s===0&&(Sn=null),i0(r.stateNode),Xt(t,ut()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ho)throw ho=!1,t=Ru,Ru=null,t;return po&1&&t.tag!==0&&Ti(),s=t.pendingLanes,s&1?t===zu?Es++:(Es=0,zu=t):Es=0,Bn(),null}function Ti(){if(yn!==null){var t=ap(po),e=hr.transition,r=He;try{if(hr.transition=null,He=16>t?16:t,yn===null)var n=!1;else{if(t=yn,yn=null,po=0,je&6)throw Error(te(331));var i=je;for(je|=4,ve=t.current;ve!==null;){var s=ve,a=s.child;if(ve.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ve=u;ve!==null;){var c=ve;switch(c.tag){case 0:case 11:case 15:xs(8,c,s)}var f=c.child;if(f!==null)f.return=c,ve=f;else for(;ve!==null;){c=ve;var m=c.sibling,y=c.return;if(vm(c),c===u){ve=null;break}if(m!==null){m.return=y,ve=m;break}ve=y}}}var S=s.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var g=C.sibling;C.sibling=null,C=g}while(C!==null)}}ve=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ve=a;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:xs(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,ve=h;break e}ve=s.return}}var p=t.current;for(ve=p;ve!==null;){a=ve;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ve=x;else e:for(a=p;ve!==null;){if(o=ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mo(9,o)}}catch(w){it(o,o.return,w)}if(o===a){ve=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,ve=N;break e}ve=o.return}}if(je=i,Bn(),Pr&&typeof Pr.onPostCommitFiberRoot=="function")try{Pr.onPostCommitFiberRoot(Lo,t)}catch{}n=!0}return n}finally{He=r,hr.transition=e}}return!1}function Af(t,e,r){e=Fi(r,e),e=am(t,e,1),t=Cn(t,e,1),e=Ft(),t!==null&&(Ys(t,1,e),Xt(t,e))}function it(t,e,r){if(t.tag===3)Af(t,t,r);else for(;e!==null;){if(e.tag===3){Af(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sn===null||!Sn.has(n))){t=Fi(r,t),t=om(e,t,1),e=Cn(e,t,1),t=Ft(),e!==null&&(Ys(e,1,t),Xt(e,t));break}}e=e.return}}function Iy(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&r,bt===t&&(St&r)===r&&(vt===4||vt===3&&(St&130023424)===St&&500>ut()-Mc?Un(t,0):Fc|=r),Xt(t,e)}function Dm(t,e){e===0&&(t.mode&1?(e=ha,ha<<=1,!(ha&130023424)&&(ha=4194304)):e=1);var r=Ft();t=rn(t,e),t!==null&&(Ys(t,e,r),Xt(t,r))}function Ly(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Dm(t,r)}function By(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),Dm(t,r)}var Am;Am=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Zt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Zt=!1,xy(t,e,r);Zt=!!(t.flags&131072)}else Zt=!1,Je&&e.flags&1048576&&Lp(e,io,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ja(t,e),t=e.pendingProps;var i=zi(e,Rt.current);Ni(e,r),i=Bc(null,e,n,t,i,r);var s=Rc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kt(n)?(s=!0,ro(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ac(e),i.updater=Fo,e.stateNode=i,i._reactInternals=e,_u(e,n,t,r),e=Su(null,e,n,!0,s,r)):(e.tag=0,Je&&s&&bc(e),Pt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ja(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=zy(n),t=kr(n,t),i){case 0:e=Cu(null,e,n,t,r);break e;case 1:e=yf(null,e,n,t,r);break e;case 11:e=gf(null,e,n,t,r);break e;case 14:e=vf(null,e,n,kr(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),Cu(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),yf(t,e,n,i,r);case 3:e:{if(dm(e),t===null)throw Error(te(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Pp(t,e),oo(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fi(Error(te(423)),e),e=wf(t,e,n,r,i);break e}else if(n!==i){i=Fi(Error(te(424)),e),e=wf(t,e,n,r,i);break e}else for(tr=kn(e.stateNode.containerInfo.firstChild),rr=e,Je=!0,Ar=null,r=jp(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ji(),n===i){e=nn(t,e,r);break e}Pt(t,e,n,r)}e=e.child}return e;case 5:return Fp(e),t===null&&xu(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,mu(n,i)?a=null:s!==null&&mu(n,s)&&(e.flags|=32),cm(t,e),Pt(t,e,a,r),e.child;case 6:return t===null&&xu(e),null;case 13:return fm(t,e,r);case 4:return Nc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Oi(e,null,n,r):Pt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),gf(t,e,n,i,r);case 7:return Pt(t,e,e.pendingProps,r),e.child;case 8:return Pt(t,e,e.pendingProps.children,r),e.child;case 12:return Pt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ze(so,n._currentValue),n._currentValue=a,s!==null)if(Lr(s.value,a)){if(s.children===i.children&&!Yt.current){e=nn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Qr(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),bu(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(te(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),bu(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Pt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ni(e,r),i=pr(i),n=n(i),e.flags|=1,Pt(t,e,n,r),e.child;case 14:return n=e.type,i=kr(n,e.pendingProps),i=kr(n.type,i),vf(t,e,n,i,r);case 15:return lm(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:kr(n,i),ja(t,e),e.tag=1,Kt(n)?(t=!0,ro(e)):t=!1,Ni(e,r),sm(e,n,i),_u(e,n,i,r),Su(null,e,n,!0,t,r);case 19:return hm(t,e,r);case 22:return um(t,e,r)}throw Error(te(156,e.tag))};function Nm(t,e){return rp(t,e)}function Ry(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,r,n){return new Ry(t,e,r,n)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zy(t){if(typeof t=="function")return qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uc)return 11;if(t===cc)return 14}return 2}function An(t,e){var r=t.alternate;return r===null?(r=fr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fa(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")qc(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case fi:return Wn(r.children,i,s,e);case lc:a=8,i|=8;break;case Gl:return t=fr(12,r,e,i|2),t.elementType=Gl,t.lanes=s,t;case Zl:return t=fr(13,r,e,i),t.elementType=Zl,t.lanes=s,t;case Yl:return t=fr(19,r,e,i),t.elementType=Yl,t.lanes=s,t;case Fh:return Wo(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Oh:a=10;break e;case Ph:a=9;break e;case uc:a=11;break e;case cc:a=14;break e;case hn:a=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=fr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Wn(t,e,r,n){return t=fr(7,t,n,e),t.lanes=r,t}function Wo(t,e,r,n){return t=fr(22,t,n,e),t.elementType=Fh,t.lanes=r,t.stateNode={isHidden:!1},t}function Nl(t,e,r){return t=fr(6,t,null,e),t.lanes=r,t}function Tl(t,e,r){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jy(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cl(0),this.expirationTimes=cl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $c(t,e,r,n,i,s,a,o,l){return t=new jy(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(s),t}function Oy(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Tm(t){if(!t)return Tn;t=t._reactInternals;e:{if(Xn(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(Kt(r))return Tp(t,r,e)}return e}function Im(t,e,r,n,i,s,a,o,l){return t=$c(r,n,!0,t,i,s,a,o,l),t.context=Tm(null),r=t.current,n=Ft(),i=Dn(r),s=Qr(n,i),s.callback=e??null,Cn(r,s,i),t.current.lanes=i,Ys(t,i,n),Xt(t,n),t}function Ho(t,e,r,n){var i=e.current,s=Ft(),a=Dn(i);return r=Tm(r),e.context===null?e.context=r:e.pendingContext=r,e=Qr(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Cn(i,e,a),t!==null&&(Tr(t,i,a,s),Ba(t,i,a)),a}function go(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Vc(t,e){Nf(t,e),(t=t.alternate)&&Nf(t,e)}function Py(){return null}var Lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gc(t){this._internalRoot=t}qo.prototype.render=Gc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));Ho(t,e,null,null)};qo.prototype.unmount=Gc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zn(function(){Ho(null,t,null,null)}),e[tn]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var e=up();t={blockedOn:null,target:t,priority:e};for(var r=0;r<mn.length&&e!==0&&e<mn[r].priority;r++);mn.splice(r,0,t),r===0&&dp(t)}};function Zc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tf(){}function Fy(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=go(a);s.call(u)}}var a=Im(e,n,t,0,null,!1,!1,"",Tf);return t._reactRootContainer=a,t[tn]=a.current,Bs(t.nodeType===8?t.parentNode:t),Zn(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=go(l);o.call(u)}}var l=$c(t,0,!1,null,null,!1,!1,"",Tf);return t._reactRootContainer=l,t[tn]=l.current,Bs(t.nodeType===8?t.parentNode:t),Zn(function(){Ho(e,l,r,n)}),l}function Vo(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=go(a);o.call(l)}}Ho(e,a,t,i)}else a=Fy(r,e,t,i,n);return go(a)}op=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fs(e.pendingLanes);r!==0&&(hc(e,r|1),Xt(e,ut()),!(je&6)&&(Mi=ut()+500,Bn()))}break;case 13:Zn(function(){var n=rn(t,1);if(n!==null){var i=Ft();Tr(n,t,1,i)}}),Vc(t,1)}};pc=function(t){if(t.tag===13){var e=rn(t,134217728);if(e!==null){var r=Ft();Tr(e,t,134217728,r)}Vc(t,134217728)}};lp=function(t){if(t.tag===13){var e=Dn(t),r=rn(t,e);if(r!==null){var n=Ft();Tr(r,t,e,n)}Vc(t,e)}};up=function(){return He};cp=function(t,e){var r=He;try{return He=t,e()}finally{He=r}};su=function(t,e,r){switch(e){case"input":if(Ql(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=jo(n);if(!i)throw Error(te(90));Uh(n),Ql(n,i)}}}break;case"textarea":Hh(t,r);break;case"select":e=r.value,e!=null&&Ci(t,!!r.multiple,e,!1)}};Kh=Uc;Xh=Zn;var My={usingClientEntryPoint:!1,Events:[Xs,gi,jo,Zh,Yh,Uc]},is={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uy={bundleType:is.bundleType,version:is.version,rendererPackageName:is.rendererPackageName,rendererConfig:is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ep(t),t===null?null:t.stateNode},findFiberByHostInstance:is.findFiberByHostInstance||Py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Lo=ka.inject(Uy),Pr=ka}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;ir.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zc(e))throw Error(te(200));return Oy(t,e,null,r)};ir.createRoot=function(t,e){if(!Zc(t))throw Error(te(299));var r=!1,n="",i=Lm;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$c(t,1,!1,null,null,r,!1,n,i),t[tn]=e.current,Bs(t.nodeType===8?t.parentNode:t),new Gc(e)};ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=ep(e),t=t===null?null:t.stateNode,t};ir.flushSync=function(t){return Zn(t)};ir.hydrate=function(t,e,r){if(!$o(e))throw Error(te(200));return Vo(null,t,e,!0,r)};ir.hydrateRoot=function(t,e,r){if(!Zc(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Lm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Im(e,null,t,1,r??null,i,!1,s,a),t[tn]=e.current,Bs(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new qo(e)};ir.render=function(t,e,r){if(!$o(e))throw Error(te(200));return Vo(null,t,e,!1,r)};ir.unmountComponentAtNode=function(t){if(!$o(t))throw Error(te(40));return t._reactRootContainer?(Zn(function(){Vo(null,null,t,!1,function(){t._reactRootContainer=null,t[tn]=null})}),!0):!1};ir.unstable_batchedUpdates=Uc;ir.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$o(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Vo(t,e,r,!1,n)};ir.version="18.3.1-next-f1338f8080-20240426";function Bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bm)}catch(t){console.error(t)}}Bm(),Bh.exports=ir;var Wy=Bh.exports,Rm,If=Wy;Rm=If.createRoot,If.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Me=(t,e)=>{const r=Y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>Y.createElement("svg",{ref:c,...Hy,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${qy(t)}`,o].join(" "),...u},[...e.map(([f,m])=>Y.createElement(f,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Me("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=Me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=Me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=Me("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Me("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Me("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Me("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Me("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Me("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Me("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mu=(t,e)=>e.some(r=>t instanceof r);let Rf,zf;function a2(){return Rf||(Rf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return zf||(zf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uu=new WeakMap,Il=new WeakMap,Go=new WeakMap;function l2(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Hn(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return Go.set(e,t),e}function u2(t){if(Uu.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Uu.set(t,e)}let Wu={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Uu.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Hn(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Wm(t){Wu=t(Wu)}function c2(t){return o2().includes(t)?function(...e){return t.apply(Hu(this),e),Hn(this.request)}:function(...e){return Hn(t.apply(Hu(this),e))}}function d2(t){return typeof t=="function"?c2(t):(t instanceof IDBTransaction&&u2(t),Mu(t,a2())?new Proxy(t,Wu):t)}function Hn(t){if(t instanceof IDBRequest)return l2(t);if(Il.has(t))return Il.get(t);const e=d2(t);return e!==t&&(Il.set(t,e),Go.set(e,t)),e}const Hu=t=>Go.get(t);function Hm(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Hn(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Hn(a.result),l.oldVersion,l.newVersion,Hn(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const f2=["get","getKey","getAll","getAllKeys","count"],h2=["put","add","delete","clear"],Ll=new Map;function jf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ll.get(e))return Ll.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=h2.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||f2.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return Ll.set(e,s),s}Wm(t=>({...t,get:(e,r,n)=>jf(e,r)||t.get(e,r,n),has:(e,r)=>!!jf(e,r)||t.has(e,r)}));const p2=["continue","continuePrimaryKey","advance"],Of={},qu=new WeakMap,qm=new WeakMap,m2={get(t,e){if(!p2.includes(e))return t[e];let r=Of[e];return r||(r=Of[e]=function(...n){qu.set(this,qm.get(this)[e](...n))}),r}};async function*g2(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,m2);for(qm.set(r,e),Go.set(r,Hu(e));e;)yield r,e=await(qu.get(r)||e.continue()),qu.delete(r)}function Pf(t,e){return e===Symbol.asyncIterator&&Mu(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Mu(t,[IDBIndex,IDBObjectStore])}Wm(t=>({...t,get(e,r,n){return Pf(e,r)?g2:t.get(e,r,n)},has(e,r){return Pf(e,r)||t.has(e,r)}}));const vo=[{id:"light",name:"Light",description:"Clean and bright interface with excellent readability",isDefault:!0,colors:{headerBackground:"#ffffff",headerText:"#1f2937",headerBorder:"#e5e7eb",panelBackground:"#ffffff",panelText:"#1f2937",panelBorder:"#e5e7eb",panelSecondaryBackground:"#f9fafb",buttonPrimary:"#007BFF",buttonPrimaryText:"#ffffff",buttonSecondary:"#f3f4f6",buttonSecondaryText:"#374151",buttonHover:"#0056b3",inputBackground:"#ffffff",inputText:"#1f2937",inputBorder:"#d1d5db",inputFocus:"#007BFF",accent:"#007BFF",accentHover:"#0056b3",success:"#10b981",warning:"#f59e0b",error:"#ef4444",textPrimary:"#1f2937",textSecondary:"#6b7280",textMuted:"#9ca3af",linkColor:"#007BFF",linkHover:"#0056b3",divider:"#e5e7eb",shadow:"rgba(0, 0, 0, 0.1)",overlay:"rgba(0, 0, 0, 0.5)"}},{id:"dark",name:"Dark",description:"Modern dark theme perfect for low-light reading",colors:{headerBackground:"#1f2937",headerText:"#f9fafb",headerBorder:"#374151",panelBackground:"#1f2937",panelText:"#f9fafb",panelBorder:"#374151",panelSecondaryBackground:"#111827",buttonPrimary:"#3b82f6",buttonPrimaryText:"#ffffff",buttonSecondary:"#374151",buttonSecondaryText:"#d1d5db",buttonHover:"#2563eb",inputBackground:"#374151",inputText:"#f9fafb",inputBorder:"#4b5563",inputFocus:"#3b82f6",accent:"#3b82f6",accentHover:"#2563eb",success:"#10b981",warning:"#f59e0b",error:"#ef4444",textPrimary:"#f9fafb",textSecondary:"#d1d5db",textMuted:"#9ca3af",linkColor:"#60a5fa",linkHover:"#3b82f6",divider:"#374151",shadow:"rgba(0, 0, 0, 0.3)",overlay:"rgba(0, 0, 0, 0.7)"}},{id:"sepia",name:"Sepia",description:"Warm, paper-like interface that reduces eye strain",colors:{headerBackground:"#f7f3e9",headerText:"#5d4e37",headerBorder:"#e6d7c3",panelBackground:"#f7f3e9",panelText:"#5d4e37",panelBorder:"#e6d7c3",panelSecondaryBackground:"#f0e6d2",buttonPrimary:"#8b4513",buttonPrimaryText:"#f7f3e9",buttonSecondary:"#e6d7c3",buttonSecondaryText:"#5d4e37",buttonHover:"#a0522d",inputBackground:"#faf6ed",inputText:"#5d4e37",inputBorder:"#d4c4a8",inputFocus:"#8b4513",accent:"#8b4513",accentHover:"#a0522d",success:"#6b8e23",warning:"#daa520",error:"#cd5c5c",textPrimary:"#5d4e37",textSecondary:"#8b7355",textMuted:"#a0916d",linkColor:"#8b4513",linkHover:"#a0522d",divider:"#e6d7c3",shadow:"rgba(93, 78, 55, 0.15)",overlay:"rgba(93, 78, 55, 0.5)"}},{id:"high-contrast",name:"High Contrast",description:"Maximum contrast for enhanced accessibility",colors:{headerBackground:"#000000",headerText:"#ffffff",headerBorder:"#ffffff",panelBackground:"#000000",panelText:"#ffffff",panelBorder:"#ffffff",panelSecondaryBackground:"#1a1a1a",buttonPrimary:"#ffffff",buttonPrimaryText:"#000000",buttonSecondary:"#333333",buttonSecondaryText:"#ffffff",buttonHover:"#cccccc",inputBackground:"#000000",inputText:"#ffffff",inputBorder:"#ffffff",inputFocus:"#ffff00",accent:"#ffff00",accentHover:"#cccc00",success:"#00ff00",warning:"#ffff00",error:"#ff0000",textPrimary:"#ffffff",textSecondary:"#cccccc",textMuted:"#999999",linkColor:"#ffff00",linkHover:"#cccc00",divider:"#ffffff",shadow:"rgba(255, 255, 255, 0.3)",overlay:"rgba(0, 0, 0, 0.8)"}},{id:"ocean",name:"Ocean",description:"Cool blue tones inspired by deep ocean waters",colors:{headerBackground:"#0f172a",headerText:"#e2e8f0",headerBorder:"#1e293b",panelBackground:"#0f172a",panelText:"#e2e8f0",panelBorder:"#1e293b",panelSecondaryBackground:"#020617",buttonPrimary:"#0ea5e9",buttonPrimaryText:"#ffffff",buttonSecondary:"#1e293b",buttonSecondaryText:"#cbd5e1",buttonHover:"#0284c7",inputBackground:"#1e293b",inputText:"#e2e8f0",inputBorder:"#334155",inputFocus:"#0ea5e9",accent:"#0ea5e9",accentHover:"#0284c7",success:"#06b6d4",warning:"#f59e0b",error:"#ef4444",textPrimary:"#e2e8f0",textSecondary:"#cbd5e1",textMuted:"#94a3b8",linkColor:"#38bdf8",linkHover:"#0ea5e9",divider:"#1e293b",shadow:"rgba(15, 23, 42, 0.4)",overlay:"rgba(15, 23, 42, 0.7)"}},{id:"forest",name:"Forest",description:"Natural green theme inspired by forest environments",colors:{headerBackground:"#14532d",headerText:"#f0fdf4",headerBorder:"#166534",panelBackground:"#14532d",panelText:"#f0fdf4",panelBorder:"#166534",panelSecondaryBackground:"#052e16",buttonPrimary:"#22c55e",buttonPrimaryText:"#ffffff",buttonSecondary:"#166534",buttonSecondaryText:"#dcfce7",buttonHover:"#16a34a",inputBackground:"#166534",inputText:"#f0fdf4",inputBorder:"#15803d",inputFocus:"#22c55e",accent:"#22c55e",accentHover:"#16a34a",success:"#10b981",warning:"#f59e0b",error:"#ef4444",textPrimary:"#f0fdf4",textSecondary:"#dcfce7",textMuted:"#bbf7d0",linkColor:"#4ade80",linkHover:"#22c55e",divider:"#166534",shadow:"rgba(20, 83, 45, 0.4)",overlay:"rgba(20, 83, 45, 0.7)"}},{id:"sunset",name:"Sunset",description:"Warm orange and purple gradients like a beautiful sunset",colors:{headerBackground:"#451a03",headerText:"#fed7aa",headerBorder:"#9a3412",panelBackground:"#451a03",panelText:"#fed7aa",panelBorder:"#9a3412",panelSecondaryBackground:"#1c0701",buttonPrimary:"#ea580c",buttonPrimaryText:"#ffffff",buttonSecondary:"#9a3412",buttonSecondaryText:"#fed7aa",buttonHover:"#dc2626",inputBackground:"#9a3412",inputText:"#fed7aa",inputBorder:"#c2410c",inputFocus:"#ea580c",accent:"#ea580c",accentHover:"#dc2626",success:"#22c55e",warning:"#f59e0b",error:"#ef4444",textPrimary:"#fed7aa",textSecondary:"#fdba74",textMuted:"#fb923c",linkColor:"#fb923c",linkHover:"#ea580c",divider:"#9a3412",shadow:"rgba(69, 26, 3, 0.4)",overlay:"rgba(69, 26, 3, 0.7)"}},{id:"lavender",name:"Lavender",description:"Soft purple theme with calming lavender tones",colors:{headerBackground:"#581c87",headerText:"#f3e8ff",headerBorder:"#7c3aed",panelBackground:"#581c87",panelText:"#f3e8ff",panelBorder:"#7c3aed",panelSecondaryBackground:"#3b0764",buttonPrimary:"#8b5cf6",buttonPrimaryText:"#ffffff",buttonSecondary:"#7c3aed",buttonSecondaryText:"#e9d5ff",buttonHover:"#7c3aed",inputBackground:"#7c3aed",inputText:"#f3e8ff",inputBorder:"#8b5cf6",inputFocus:"#a855f7",accent:"#8b5cf6",accentHover:"#7c3aed",success:"#22c55e",warning:"#f59e0b",error:"#ef4444",textPrimary:"#f3e8ff",textSecondary:"#e9d5ff",textMuted:"#d8b4fe",linkColor:"#a855f7",linkHover:"#8b5cf6",divider:"#7c3aed",shadow:"rgba(88, 28, 135, 0.4)",overlay:"rgba(88, 28, 135, 0.7)"}}],Bl=[{id:"light",name:"Light",description:"Classic black text on white background",colors:{chapterTitleColor:"#1f2937",textColor:"#000000",backgroundColor:"#ffffff"}},{id:"dark",name:"Dark",description:"White text on dark background for low-light reading",colors:{chapterTitleColor:"#e5e7eb",textColor:"#f9fafb",backgroundColor:"#1f2937"}},{id:"sepia",name:"Sepia",description:"Warm, paper-like reading experience",colors:{chapterTitleColor:"#5d4e37",textColor:"#5d4e37",backgroundColor:"#f7f3e9"}},{id:"high-contrast",name:"High Contrast",description:"Maximum contrast for accessibility",colors:{chapterTitleColor:"#ffffff",textColor:"#ffffff",backgroundColor:"#000000"}},{id:"ocean",name:"Ocean",description:"Cool blue tones for reduced eye strain",colors:{chapterTitleColor:"#e2e8f0",textColor:"#cbd5e1",backgroundColor:"#0f172a"}},{id:"forest",name:"Forest",description:"Natural green theme for comfortable reading",colors:{chapterTitleColor:"#f0fdf4",textColor:"#dcfce7",backgroundColor:"#14532d"}},{id:"sunset",name:"Sunset",description:"Warm orange tones for evening reading",colors:{chapterTitleColor:"#fed7aa",textColor:"#fdba74",backgroundColor:"#451a03"}},{id:"lavender",name:"Lavender",description:"Soft purple theme for calming reading",colors:{chapterTitleColor:"#f3e8ff",textColor:"#e9d5ff",backgroundColor:"#581c87"}},{id:"custom",name:"Custom",description:"Create your own color combination",colors:{chapterTitleColor:"#1f2937",textColor:"#000000",backgroundColor:"#ffffff"}}],Or=t=>vo.find(e=>e.id===t)||vo[0],_i=t=>{const e=document.documentElement;Object.entries(t.colors).forEach(([r,n])=>{e.style.setProperty(`--interface-${r}`,n)})},$m="EBookReaderDB",v2=3;let Ca=null;const Ma={fontSize:38,fontFamily:"Inter",lineHeight:1.6,marginSize:.5,theme:"light",maxWidth:"full",hideMenuWhileReading:!0,colors:{chapterTitleColor:"#1f2937",textColor:"#000000",backgroundColor:"#ffffff"},interfaceTheme:"light",interfaceColors:vo[0].colors,scrollButtons:{visible:!1,size:"medium",customSize:48},cornerNavigation:{visible:!1},selectedColorTheme:"light",selectedInterfaceTheme:"light",useThemeBasedColors:!0,syncInterfaceWithReading:!0,applyFontGlobally:!1,enablePageTurning:!1,enableReadingProgress:!0,enableNightMode:!1,enableFocusMode:!1,enableTextToSpeech:!1,enableFastFavorite:!1,fastFavoriteName:"Quick Bookmark"},_t=async()=>{if(Ca)return Ca;try{return Ca=await Hm($m,v2,{upgrade(t,e){if(!t.objectStoreNames.contains("books")){const r=t.createObjectStore("books",{keyPath:"id"});r.createIndex("title","title"),r.createIndex("author","author"),r.createIndex("lastRead","lastRead")}if(t.objectStoreNames.contains("preferences")||t.createObjectStore("preferences",{keyPath:"id"}),!t.objectStoreNames.contains("bookmarks")){const r=t.createObjectStore("bookmarks",{keyPath:"id"});r.createIndex("bookId","bookId"),r.createIndex("createdAt","createdAt")}if(t.objectStoreNames.contains("stats")||t.createObjectStore("stats",{keyPath:"id"}),t.objectStoreNames.contains("chapters")||t.createObjectStore("chapters",{keyPath:"id"}).createIndex("bookId","bookId"),t.objectStoreNames.contains("covers")||t.createObjectStore("covers",{keyPath:"bookId"}).createIndex("createdAt","createdAt"),!t.objectStoreNames.contains("navigation")){const r=t.createObjectStore("navigation",{keyPath:"id"});r.createIndex("bookId","bookId"),r.createIndex("timestamp","timestamp")}}}),console.log("Database initialized successfully"),Ca}catch(t){throw console.error("Database initialization failed:",t),ze("DB_INIT_FAILED",t),t}},ze=async(t,e,r)=>{const n={type:t,error:e.message||e,context:r,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.error("Error logged:",n);try{const i=await _t();if(i.objectStoreNames.contains("errorLogs"))await i.put("errorLogs",n);else{const s=i.version+1;i.close(),await(await Hm($m,s,{upgrade(o){if(!o.objectStoreNames.contains("errorLogs")){const l=o.createObjectStore("errorLogs",{keyPath:"id",autoIncrement:!0});l.createIndex("type","type"),l.createIndex("timestamp","timestamp")}}})).put("errorLogs",n)}}catch(i){console.error("Failed to log error to database:",i)}},Ua=async t=>{try{await(await _t()).put("books",t)}catch(e){throw ze("SAVE_BOOK_FAILED",e,{bookId:t.id}),e}},Vm=async()=>{try{return(await _t()).getAll("books")}catch(t){return ze("GET_BOOKS_FAILED",t),[]}},y2=async t=>{try{return(await _t()).get("books",t)}catch(e){ze("GET_BOOK_FAILED",e,{bookId:t});return}},w2=async t=>{try{const r=(await _t()).transaction(["books","bookmarks","chapters","covers","navigation"],"readwrite");await Promise.all([r.objectStore("books").delete(t),r.objectStore("bookmarks").index("bookId").getAllKeys(t).then(n=>Promise.all(n.map(i=>r.objectStore("bookmarks").delete(i)))),r.objectStore("chapters").index("bookId").getAllKeys(t).then(n=>Promise.all(n.map(i=>r.objectStore("chapters").delete(i)))),r.objectStore("covers").delete(t),r.objectStore("navigation").index("bookId").getAllKeys(t).then(n=>Promise.all(n.map(i=>r.objectStore("navigation").delete(i))))])}catch(e){throw ze("DELETE_BOOK_FAILED",e,{bookId:t}),e}},Ff=async(t,e)=>{try{await(await _t()).put("covers",{bookId:t,imageBlob:e,createdAt:new Date})}catch(r){throw ze("SAVE_COVER_FAILED",r,{bookId:t}),r}},Mf=async t=>{try{const r=await(await _t()).get("covers",t);return r!=null&&r.imageBlob?URL.createObjectURL(r.imageBlob):null}catch(e){return ze("GET_COVER_FAILED",e,{bookId:t}),null}},x2=async t=>{try{const e=await _t(),r=Or(t.selectedInterfaceTheme||"light"),n={...t,interfaceColors:r.colors,interfaceTheme:r.id};await e.put("preferences",{id:"default",...n})}catch(e){throw ze("SAVE_PREFERENCES_FAILED",e),e}},Gm=async()=>{try{const e=await(await _t()).get("preferences","default");if(!e)return Ma;const r=Or(e.selectedInterfaceTheme||"light");return{...Ma,...e,interfaceColors:r.colors,interfaceTheme:r.id}}catch(t){return ze("GET_PREFERENCES_FAILED",t),Ma}},b2=async()=>{try{const e=(await _t()).transaction(["preferences"],"readwrite"),n=(await e.objectStore("preferences").getAll()).filter(i=>i.id.startsWith("bookmark-state-"));await e.objectStore("preferences").clear(),await Promise.all(n.map(i=>e.objectStore("preferences").put(i))),await e.objectStore("preferences").put({id:"default",...Ma}),await e.done}catch(t){throw ze("RESET_TO_DEFAULTS_FAILED",t),t}},E2=async(t,e,r=0)=>{try{await(await _t()).put("navigation",{id:`${t}-${e}`,bookId:t,chapterIndex:e,scrollPosition:r,timestamp:new Date})}catch(n){ze("SAVE_NAVIGATION_FAILED",n,{bookId:t,chapterIndex:e})}},$u=async t=>{try{await(await _t()).put("bookmarks",t)}catch(e){throw ze("SAVE_BOOKMARK_FAILED",e,{bookmarkId:t.id}),e}},Zm=async t=>{try{const e=await _t();return t?e.getAllFromIndex("bookmarks","bookId",t):e.getAll("bookmarks")}catch(e){return ze("GET_BOOKMARKS_FAILED",e,{bookId:t}),[]}},_2=async t=>{try{await(await _t()).delete("bookmarks",t)}catch(e){throw ze("DELETE_BOOKMARK_FAILED",e,{bookmarkId:t}),e}},Uf=async(t,e)=>{try{await(await _t()).put("preferences",{id:`bookmark-state-${t}`,isOpen:e,lastUpdated:new Date})}catch(r){ze("SAVE_BOOKMARK_STATE_FAILED",r,{bookId:t})}},k2=async()=>{try{return await(await _t()).get("stats","default")||{totalTimeRead:0,booksCompleted:0,pagesRead:0,averageReadingSpeed:0,streakDays:0,lastReadDate:new Date}}catch(t){return ze("GET_STATS_FAILED",t),{totalTimeRead:0,booksCompleted:0,pagesRead:0,averageReadingSpeed:0,streakDays:0,lastReadDate:new Date}}},C2=async()=>{try{const[t,e,r,n]=await Promise.all([Vm(),Gm(),Zm(),k2()]);return{books:t.map(i=>({...i,file:null})),preferences:e,bookmarks:r,stats:n,exportedAt:new Date().toISOString()}}catch(t){throw ze("EXPORT_DATA_FAILED",t),t}},S2=async t=>{try{const r=(await _t()).transaction(["preferences","bookmarks","stats"],"readwrite");await Promise.all([r.objectStore("preferences").put({id:"default",...t.preferences}),...t.bookmarks.map(n=>r.objectStore("bookmarks").put(n)),r.objectStore("stats").put({id:"default",...t.stats})])}catch(e){throw ze("IMPORT_DATA_FAILED",e),e}};var Vu={exports:{}},Ym={exports:{}},D2=void 0,Km=function(t){return t!==D2&&t!==null},A2=Km,N2={object:!0,function:!0,undefined:!0},T2=function(t){return A2(t)?hasOwnProperty.call(N2,typeof t):!1},I2=T2,L2=function(t){if(!I2(t))return!1;try{return t.constructor?t.constructor.prototype===t:!1}catch{return!1}},B2=L2,R2=function(t){if(typeof t!="function"||!hasOwnProperty.call(t,"length"))return!1;try{if(typeof t.length!="number"||typeof t.call!="function"||typeof t.apply!="function")return!1}catch{return!1}return!B2(t)},z2=R2,j2=/^\s*class[\s{/}]/,O2=Function.prototype.toString,P2=function(t){return!(!z2(t)||j2.test(O2.call(t)))},F2=function(){var t=Object.assign,e;return typeof t!="function"?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")},Rl,Wf;function M2(){return Wf||(Wf=1,Rl=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),Rl}var U2=function(){},W2=U2(),Kc=function(t){return t!==W2&&t!==null},zl,Hf;function H2(){if(Hf)return zl;Hf=1;var t=Kc,e=Object.keys;return zl=function(r){return e(t(r)?Object(r):r)},zl}var jl,qf;function q2(){return qf||(qf=1,jl=M2()()?Object.keys:H2()),jl}var Ol,$f;function $2(){if($f)return Ol;$f=1;var t=Kc;return Ol=function(e){if(!t(e))throw new TypeError("Cannot use null or undefined");return e},Ol}var Pl,Vf;function V2(){if(Vf)return Pl;Vf=1;var t=q2(),e=$2(),r=Math.max;return Pl=function(n,i){var s,a,o=r(arguments.length,2),l;for(n=Object(e(n)),l=function(u){try{n[u]=i[u]}catch(c){s||(s=c)}},a=1;a<o;++a)i=arguments[a],t(i).forEach(l);if(s!==void 0)throw s;return n},Pl}var G2=F2()?Object.assign:V2(),Z2=Kc,Y2=Array.prototype.forEach,K2=Object.create,X2=function(t,e){var r;for(r in t)e[r]=t[r]},Q2=function(t){var e=K2(null);return Y2.call(arguments,function(r){Z2(r)&&X2(Object(r),e)}),e},Fl="razdwatrzy",J2=function(){return typeof Fl.contains!="function"?!1:Fl.contains("dwa")===!0&&Fl.contains("foo")===!1},Ml,Gf;function e1(){if(Gf)return Ml;Gf=1;var t=String.prototype.indexOf;return Ml=function(e){return t.call(this,e,arguments[1])>-1},Ml}var t1=J2()?String.prototype.contains:e1(),Wa=Km,Zf=P2,Xm=G2,Qm=Q2,_s=t1,r1=Ym.exports=function(t,e){var r,n,i,s,a;return arguments.length<2||typeof t!="string"?(s=e,e=t,t=null):s=arguments[2],Wa(t)?(r=_s.call(t,"c"),n=_s.call(t,"e"),i=_s.call(t,"w")):(r=i=!0,n=!1),a={value:e,configurable:r,enumerable:n,writable:i},s?Xm(Qm(s),a):a};r1.gs=function(t,e,r){var n,i,s,a;return typeof t!="string"?(s=r,r=e,e=t,t=null):s=arguments[3],Wa(e)?Zf(e)?Wa(r)?Zf(r)||(s=r,r=void 0):r=void 0:(s=e,e=r=void 0):e=void 0,Wa(t)?(n=_s.call(t,"c"),i=_s.call(t,"e")):(n=!0,i=!1),a={get:e,set:r,configurable:n,enumerable:i},s?Xm(Qm(s),a):a};var n1=Ym.exports,i1=function(t){if(typeof t!="function")throw new TypeError(t+" is not a function");return t};(function(t,e){var r=n1,n=i1,i=Function.prototype.apply,s=Function.prototype.call,a=Object.create,o=Object.defineProperty,l=Object.defineProperties,u=Object.prototype.hasOwnProperty,c={configurable:!0,enumerable:!1,writable:!0},f,m,y,S,C,g,h;f=function(p,x){var N;return n(x),u.call(this,"__ee__")?N=this.__ee__:(N=c.value=a(null),o(this,"__ee__",c),c.value=null),N[p]?typeof N[p]=="object"?N[p].push(x):N[p]=[N[p],x]:N[p]=x,this},m=function(p,x){var N,w;return n(x),w=this,f.call(this,p,N=function(){y.call(w,p,N),i.call(x,this,arguments)}),N.__eeOnceListener__=x,this},y=function(p,x){var N,w,b,_;if(n(x),!u.call(this,"__ee__"))return this;if(N=this.__ee__,!N[p])return this;if(w=N[p],typeof w=="object")for(_=0;b=w[_];++_)(b===x||b.__eeOnceListener__===x)&&(w.length===2?N[p]=w[_?0:1]:w.splice(_,1));else(w===x||w.__eeOnceListener__===x)&&delete N[p];return this},S=function(p){var x,N,w,b,_;if(u.call(this,"__ee__")&&(b=this.__ee__[p],!!b))if(typeof b=="object"){for(N=arguments.length,_=new Array(N-1),x=1;x<N;++x)_[x-1]=arguments[x];for(b=b.slice(),x=0;w=b[x];++x)i.call(w,this,_)}else switch(arguments.length){case 1:s.call(b,this);break;case 2:s.call(b,this,arguments[1]);break;case 3:s.call(b,this,arguments[1],arguments[2]);break;default:for(N=arguments.length,_=new Array(N-1),x=1;x<N;++x)_[x-1]=arguments[x];i.call(b,this,_)}},C={on:f,once:m,off:y,emit:S},g={on:r(f),once:r(m),off:r(y),emit:r(S)},h=l({},g),t.exports=e=function(p){return p==null?a(h):l(Object(p),g)},e.methods=C})(Vu,Vu.exports);var s1=Vu.exports;const Hr=$i(s1);var Rn={},zn={};function a1(t,e,r){if(r===void 0&&(r=Array.prototype),t&&typeof r.find=="function")return r.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];if(e.call(void 0,i,n,t))return i}}function Xc(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}var Jm=Xc({HTML:"text/html",isHTML:function(t){return t===Jm.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),eg=Xc({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===eg.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});zn.find=a1;zn.freeze=Xc;zn.MIME_TYPE=Jm;zn.NAMESPACE=eg;var tg=zn,Mr=tg.find,Ws=tg.NAMESPACE;function o1(t){return t!==""}function l1(t){return t?t.split(/[\t\n\f\r ]+/).filter(o1):[]}function u1(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function Yf(t){if(!t)return[];var e=l1(t);return Object.keys(e.reduce(u1,{}))}function c1(t){return function(e){return t&&t.indexOf(e)!==-1}}function ea(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function Qt(t,e){var r=t.prototype;if(!(r instanceof e)){let i=function(){};var n=i;i.prototype=e.prototype,i=new i,ea(r,i),t.prototype=r=i}r.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),r.constructor=t)}var Jt={},Ir=Jt.ELEMENT_NODE=1,Ui=Jt.ATTRIBUTE_NODE=2,yo=Jt.TEXT_NODE=3,rg=Jt.CDATA_SECTION_NODE=4,ng=Jt.ENTITY_REFERENCE_NODE=5,d1=Jt.ENTITY_NODE=6,ig=Jt.PROCESSING_INSTRUCTION_NODE=7,sg=Jt.COMMENT_NODE=8,ag=Jt.DOCUMENT_NODE=9,og=Jt.DOCUMENT_TYPE_NODE=10,sn=Jt.DOCUMENT_FRAGMENT_NODE=11,f1=Jt.NOTATION_NODE=12,zt={},Et={};zt.INDEX_SIZE_ERR=(Et[1]="Index size error",1);zt.DOMSTRING_SIZE_ERR=(Et[2]="DOMString size error",2);var Gt=zt.HIERARCHY_REQUEST_ERR=(Et[3]="Hierarchy request error",3);zt.WRONG_DOCUMENT_ERR=(Et[4]="Wrong document",4);zt.INVALID_CHARACTER_ERR=(Et[5]="Invalid character",5);zt.NO_DATA_ALLOWED_ERR=(Et[6]="No data allowed",6);zt.NO_MODIFICATION_ALLOWED_ERR=(Et[7]="No modification allowed",7);var lg=zt.NOT_FOUND_ERR=(Et[8]="Not found",8);zt.NOT_SUPPORTED_ERR=(Et[9]="Not supported",9);var Kf=zt.INUSE_ATTRIBUTE_ERR=(Et[10]="Attribute in use",10);zt.INVALID_STATE_ERR=(Et[11]="Invalid state",11);zt.SYNTAX_ERR=(Et[12]="Syntax error",12);zt.INVALID_MODIFICATION_ERR=(Et[13]="Invalid modification",13);zt.NAMESPACE_ERR=(Et[14]="Invalid namespace",14);zt.INVALID_ACCESS_ERR=(Et[15]="Invalid access",15);function ct(t,e){if(e instanceof Error)var r=e;else r=this,Error.call(this,Et[t]),this.message=Et[t],Error.captureStackTrace&&Error.captureStackTrace(this,ct);return r.code=t,e&&(this.message=this.message+": "+e),r}ct.prototype=Error.prototype;ea(zt,ct);function Jr(){}Jr.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var r=[],n=0;n<this.length;n++)ki(this[n],r,t,e);return r.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Wi(t,e){this._node=t,this._refresh=e,Qc(this)}function Qc(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var r=t._refresh(t._node);if(xg(t,"length",r.length),!t.$$length||r.length<t.$$length)for(var n=r.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];ea(r,t),t._inc=e}}Wi.prototype.item=function(t){return Qc(this),this[t]||null};Qt(Wi,Jr);function wo(){}function ug(t,e){for(var r=t.length;r--;)if(t[r]===e)return r}function Xf(t,e,r,n){if(n?e[ug(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var i=t.ownerDocument;i&&(n&&fg(i,t,n),h1(i,t,r))}}function Qf(t,e,r){var n=ug(e,r);if(n>=0){for(var i=e.length-1;n<i;)e[n]=e[++n];if(e.length=i,t){var s=t.ownerDocument;s&&(fg(s,t,r),r.ownerElement=null)}}else throw new ct(lg,new Error(t.tagName+"@"+r))}wo.prototype={length:0,item:Jr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var r=this[e];if(r.nodeName==t)return r}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new ct(Kf);var r=this.getNamedItem(t.nodeName);return Xf(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e=t.ownerElement,r;if(e&&e!=this._ownerElement)throw new ct(Kf);return r=this.getNamedItemNS(t.namespaceURI,t.localName),Xf(this._ownerElement,this,t,r),r},removeNamedItem:function(t){var e=this.getNamedItem(t);return Qf(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return Qf(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var r=this.length;r--;){var n=this[r];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function cg(){}cg.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,r){var n=new ta;if(n.implementation=this,n.childNodes=new Jr,n.doctype=r||null,r&&n.appendChild(r),e){var i=n.createElementNS(t,e);n.appendChild(i)}return n},createDocumentType:function(t,e,r){var n=new Zo;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=r||"",n}};function qe(){}qe.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return xo(this,t,e)},replaceChild:function(t,e){xo(this,t,e,pg),e&&this.removeChild(e)},removeChild:function(t){return hg(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Gu(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==yo&&t.nodeType==yo?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var r=e._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===t)return n}e=e.nodeType==Ui?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var r=e._nsMap;if(r&&t in r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];e=e.nodeType==Ui?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function dg(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}ea(Jt,qe);ea(Jt,qe.prototype);function Hs(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Hs(t,e))return!0;while(t=t.nextSibling)}function ta(){this.ownerDocument=this}function h1(t,e,r){t&&t._inc++;var n=r.namespaceURI;n===Ws.XMLNS&&(e._nsMap[r.prefix?r.localName:""]=r.value)}function fg(t,e,r,n){t&&t._inc++;var i=r.namespaceURI;i===Ws.XMLNS&&delete e._nsMap[r.prefix?r.localName:""]}function Jc(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var i=e.firstChild,s=0;i;)n[s++]=i,i=i.nextSibling;n.length=s,delete n[n.length]}}}function hg(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Jc(t.ownerDocument,t),e}function p1(t){return t&&(t.nodeType===qe.DOCUMENT_NODE||t.nodeType===qe.DOCUMENT_FRAGMENT_NODE||t.nodeType===qe.ELEMENT_NODE)}function m1(t){return t&&(Ur(t)||ed(t)||an(t)||t.nodeType===qe.DOCUMENT_FRAGMENT_NODE||t.nodeType===qe.COMMENT_NODE||t.nodeType===qe.PROCESSING_INSTRUCTION_NODE)}function an(t){return t&&t.nodeType===qe.DOCUMENT_TYPE_NODE}function Ur(t){return t&&t.nodeType===qe.ELEMENT_NODE}function ed(t){return t&&t.nodeType===qe.TEXT_NODE}function Jf(t,e){var r=t.childNodes||[];if(Mr(r,Ur)||an(e))return!1;var n=Mr(r,an);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function eh(t,e){var r=t.childNodes||[];function n(s){return Ur(s)&&s!==e}if(Mr(r,n))return!1;var i=Mr(r,an);return!(e&&i&&r.indexOf(i)>r.indexOf(e))}function g1(t,e,r){if(!p1(t))throw new ct(Gt,"Unexpected parent node type "+t.nodeType);if(r&&r.parentNode!==t)throw new ct(lg,"child not in parent");if(!m1(e)||an(e)&&t.nodeType!==qe.DOCUMENT_NODE)throw new ct(Gt,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function v1(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===qe.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Ur);if(s.length>1||Mr(i,ed))throw new ct(Gt,"More than one element or text in fragment");if(s.length===1&&!Jf(t,r))throw new ct(Gt,"Element in fragment can not be inserted before doctype")}if(Ur(e)&&!Jf(t,r))throw new ct(Gt,"Only one element can be added and only after doctype");if(an(e)){if(Mr(n,an))throw new ct(Gt,"Only one doctype is allowed");var a=Mr(n,Ur);if(r&&n.indexOf(a)<n.indexOf(r))throw new ct(Gt,"Doctype can only be inserted before an element");if(!r&&a)throw new ct(Gt,"Doctype can not be appended since element is present")}}function pg(t,e,r){var n=t.childNodes||[],i=e.childNodes||[];if(e.nodeType===qe.DOCUMENT_FRAGMENT_NODE){var s=i.filter(Ur);if(s.length>1||Mr(i,ed))throw new ct(Gt,"More than one element or text in fragment");if(s.length===1&&!eh(t,r))throw new ct(Gt,"Element in fragment can not be inserted before doctype")}if(Ur(e)&&!eh(t,r))throw new ct(Gt,"Only one element can be added and only after doctype");if(an(e)){let l=function(u){return an(u)&&u!==r};var o=l;if(Mr(n,l))throw new ct(Gt,"Only one doctype is allowed");var a=Mr(n,Ur);if(r&&n.indexOf(a)<n.indexOf(r))throw new ct(Gt,"Doctype can only be inserted before an element")}}function xo(t,e,r,n){g1(t,e,r),t.nodeType===qe.DOCUMENT_NODE&&(n||v1)(t,e,r);var i=e.parentNode;if(i&&i.removeChild(e),e.nodeType===sn){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=r?r.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=r,o?o.nextSibling=s:t.firstChild=s,r==null?t.lastChild=a:r.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return Jc(t.ownerDocument||t,t),e.nodeType==sn&&(e.firstChild=e.lastChild=null),e}function y1(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Jc(t.ownerDocument,t,e),e}ta.prototype={nodeName:"#document",nodeType:ag,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==sn){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return xo(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===Ir&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),hg(this,t)},replaceChild:function(t,e){xo(this,t,e,pg),t.ownerDocument=this,e&&this.removeChild(e),Ur(t)&&(this.documentElement=t)},importNode:function(t,e){return wg(this,t,e)},getElementById:function(t){var e=null;return Hs(this.documentElement,function(r){if(r.nodeType==Ir&&r.getAttribute("id")==t)return e=r,!0}),e},getElementsByClassName:function(t){var e=Yf(t);return new Wi(this,function(r){var n=[];return e.length>0&&Hs(r.documentElement,function(i){if(i!==r&&i.nodeType===Ir){var s=i.getAttribute("class");if(s){var a=t===s;if(!a){var o=Yf(s);a=e.every(c1(o))}a&&n.push(i)}}}),n})},createElement:function(t){var e=new Yn;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Jr;var r=e.attributes=new wo;return r._ownerElement=e,e},createDocumentFragment:function(){var t=new Yo;return t.ownerDocument=this,t.childNodes=new Jr,t},createTextNode:function(t){var e=new td;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new rd;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new nd;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var r=new sd;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=t,r.nodeValue=r.data=e,r},createAttribute:function(t){var e=new bo;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new id;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new Yn,n=e.split(":"),i=r.attributes=new wo;return r.childNodes=new Jr,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,i._ownerElement=r,r},createAttributeNS:function(t,e){var r=new bo,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}};Qt(ta,qe);function Yn(){this._nsMap={}}Yn.prototype={nodeType:Ir,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===sn?this.insertBefore(t,null):y1(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Wi(this,function(e){var r=[];return Hs(e,function(n){n!==e&&n.nodeType==Ir&&(t==="*"||n.tagName==t)&&r.push(n)}),r})},getElementsByTagNameNS:function(t,e){return new Wi(this,function(r){var n=[];return Hs(r,function(i){i!==r&&i.nodeType===Ir&&(t==="*"||i.namespaceURI===t)&&(e==="*"||i.localName==e)&&n.push(i)}),n})}};ta.prototype.getElementsByTagName=Yn.prototype.getElementsByTagName;ta.prototype.getElementsByTagNameNS=Yn.prototype.getElementsByTagNameNS;Qt(Yn,qe);function bo(){}bo.prototype.nodeType=Ui;Qt(bo,qe);function ra(){}ra.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Et[Gt])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,r){var n=this.data.substring(0,t),i=this.data.substring(t+e);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};Qt(ra,qe);function td(){}td.prototype={nodeName:"#text",nodeType:yo,splitText:function(t){var e=this.data,r=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Qt(td,ra);function rd(){}rd.prototype={nodeName:"#comment",nodeType:sg};Qt(rd,ra);function nd(){}nd.prototype={nodeName:"#cdata-section",nodeType:rg};Qt(nd,ra);function Zo(){}Zo.prototype.nodeType=og;Qt(Zo,qe);function mg(){}mg.prototype.nodeType=f1;Qt(mg,qe);function gg(){}gg.prototype.nodeType=d1;Qt(gg,qe);function id(){}id.prototype.nodeType=ng;Qt(id,qe);function Yo(){}Yo.prototype.nodeName="#document-fragment";Yo.prototype.nodeType=sn;Qt(Yo,qe);function sd(){}sd.prototype.nodeType=ig;Qt(sd,qe);function vg(){}vg.prototype.serializeToString=function(t,e,r){return yg.call(t,e,r)};qe.prototype.toString=yg;function yg(t,e){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,s=n.namespaceURI;if(s&&i==null){var i=n.lookupPrefix(s);if(i==null)var a=[{namespace:s,prefix:null}]}return ki(this,r,t,e,a),r.join("")}function th(t,e,r){var n=t.prefix||"",i=t.namespaceURI;if(!i||n==="xml"&&i===Ws.XML||i===Ws.XMLNS)return!1;for(var s=r.length;s--;){var a=r[s];if(a.prefix===n)return a.namespace!==i}return!0}function Ul(t,e,r){t.push(" ",e,'="',r.replace(/[<&"]/g,dg),'"')}function ki(t,e,r,n,i){if(i||(i=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Ir:var s=t.attributes,a=s.length,h=t.firstChild,o=t.tagName;r=Ws.isHTML(t.namespaceURI)||r;var l=o;if(!r&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){u=s.item(c).value;break}if(!u)for(var f=i.length-1;f>=0;f--){var m=i[f];if(m.prefix===""&&m.namespace===t.namespaceURI){u=m.namespace;break}}if(u!==t.namespaceURI)for(var f=i.length-1;f>=0;f--){var m=i[f];if(m.namespace===t.namespaceURI){m.prefix&&(l=m.prefix+":"+o);break}}}e.push("<",l);for(var y=0;y<a;y++){var S=s.item(y);S.prefix=="xmlns"?i.push({prefix:S.localName,namespace:S.value}):S.nodeName=="xmlns"&&i.push({prefix:"",namespace:S.value})}for(var y=0;y<a;y++){var S=s.item(y);if(th(S,r,i)){var C=S.prefix||"",g=S.namespaceURI;Ul(e,C?"xmlns:"+C:"xmlns",g),i.push({prefix:C,namespace:g})}ki(S,e,r,n,i)}if(o===l&&th(t,r,i)){var C=t.prefix||"",g=t.namespaceURI;Ul(e,C?"xmlns:"+C:"xmlns",g),i.push({prefix:C,namespace:g})}if(h||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),r&&/^script$/i.test(o))for(;h;)h.data?e.push(h.data):ki(h,e,r,n,i.slice()),h=h.nextSibling;else for(;h;)ki(h,e,r,n,i.slice()),h=h.nextSibling;e.push("</",l,">")}else e.push("/>");return;case ag:case sn:for(var h=t.firstChild;h;)ki(h,e,r,n,i.slice()),h=h.nextSibling;return;case Ui:return Ul(e,t.name,t.value);case yo:return e.push(t.data.replace(/[<&]/g,dg).replace(/]]>/g,"]]&gt;"));case rg:return e.push("<![CDATA[",t.data,"]]>");case sg:return e.push("<!--",t.data,"-->");case og:var p=t.publicId,x=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(" PUBLIC ",p),x&&x!="."&&e.push(" ",x),e.push(">");else if(x&&x!=".")e.push(" SYSTEM ",x,">");else{var N=t.internalSubset;N&&e.push(" [",N,"]"),e.push(">")}return;case ig:return e.push("<?",t.target," ",t.data,"?>");case ng:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function wg(t,e,r){var n;switch(e.nodeType){case Ir:n=e.cloneNode(!1),n.ownerDocument=t;case sn:break;case Ui:r=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,r)for(var i=e.firstChild;i;)n.appendChild(wg(t,i,r)),i=i.nextSibling;return n}function Gu(t,e,r){var n=new e.constructor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=e[i];typeof s!="object"&&s!=n[i]&&(n[i]=s)}switch(e.childNodes&&(n.childNodes=new Jr),n.ownerDocument=t,n.nodeType){case Ir:var a=e.attributes,o=n.attributes=new wo,l=a.length;o._ownerElement=n;for(var u=0;u<l;u++)n.setAttributeNode(Gu(t,a.item(u),!0));break;case Ui:r=!0}if(r)for(var c=e.firstChild;c;)n.appendChild(Gu(t,c,r)),c=c.nextSibling;return n}function xg(t,e,r){t[e]=r}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Ir:case sn:var r=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}};var Yx=t;Object.defineProperty(Wi.prototype,"length",{get:function(){return Qc(this),this.$$length}}),Object.defineProperty(qe.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Ir:case sn:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),xg=function(e,r,n){e["$$"+r]=n}}}catch{}Rn.DocumentType=Zo;Rn.DOMException=ct;Rn.DOMImplementation=cg;Rn.Element=Yn;Rn.Node=qe;Rn.NodeList=Jr;Rn.XMLSerializer=vg;var na={},bg={};(function(t){var e=zn.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES})(bg);var ad={},qs=zn.NAMESPACE,Zu=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,rh=new RegExp("[\\-\\.0-9"+Zu.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),nh=new RegExp("^"+Zu.source+rh.source+"*(?::"+Zu.source+rh.source+"*)?$"),ss=0,fn=1,ni=2,as=3,ii=4,si=5,os=6,Sa=7;function Hi(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Hi)}Hi.prototype=new Error;Hi.prototype.name=Hi.name;function Eg(){}Eg.prototype={parse:function(t,e,r){var n=this.domBuilder;n.startDocument(),_g(e,e={}),w1(t,e,r,n,this.errorHandler),n.endDocument()}};function w1(t,e,r,n,i){function s(ae){if(ae>65535){ae-=65536;var oe=55296+(ae>>10),H=56320+(ae&1023);return String.fromCharCode(oe,H)}else return String.fromCharCode(ae)}function a(ae){var oe=ae.slice(1,-1);return oe in r?r[oe]:oe.charAt(0)==="#"?s(parseInt(oe.substr(1).replace("x","0x"))):(i.error("entity not found:"+ae),ae)}function o(ae){if(ae>C){var oe=t.substring(C,ae).replace(/&#?\w+;/g,a);m&&l(C),n.characters(oe,0,ae-C),C=ae}}function l(ae,oe){for(;ae>=c&&(oe=f.exec(t));)u=oe.index,c=u+oe[0].length,m.lineNumber++;m.columnNumber=ae-u+1}for(var u=0,c=0,f=/.*(?:\r\n?|\n)|.*$/g,m=n.locator,y=[{currentNSMap:e}],S={},C=0;;){try{var g=t.indexOf("<",C);if(g<0){if(!t.substr(C).match(/^\s*$/)){var h=n.doc,p=h.createTextNode(t.substr(C));h.appendChild(p),n.currentElement=p}return}switch(g>C&&o(g),t.charAt(g+1)){case"/":var L=t.indexOf(">",g+3),x=t.substring(g+2,L).replace(/[ \t\n\r]+$/g,""),N=y.pop();L<0?(x=t.substring(g+2).replace(/[\s<].*/,""),i.error("end tag name: "+x+" is not complete:"+N.tagName),L=g+1+x.length):x.match(/\s</)&&(x=x.replace(/[\s<].*/,""),i.error("end tag name: "+x+" maybe not complete"),L=g+1+x.length);var w=N.localNSMap,b=N.tagName==x,_=b||N.tagName&&N.tagName.toLowerCase()==x.toLowerCase();if(_){if(n.endElement(N.uri,N.localName,x),w)for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&n.endPrefixMapping(D);b||i.fatalError("end tag name: "+x+" is not match the current start tagName:"+N.tagName)}else y.push(N);L++;break;case"?":m&&l(g),L=k1(t,g,n);break;case"!":m&&l(g),L=_1(t,g,n,i);break;default:m&&l(g);var j=new kg,R=y[y.length-1].currentNSMap,L=x1(t,g,j,R,a,i),W=j.length;if(!j.closed&&E1(t,L,j.tagName,S)&&(j.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),m&&W){for(var J=ih(m,{}),ue=0;ue<W;ue++){var ie=j[ue];l(ie.offset),ie.locator=ih(m,{})}n.locator=J,sh(j,n,R)&&y.push(j),n.locator=m}else sh(j,n,R)&&y.push(j);qs.isHTML(j.uri)&&!j.closed?L=b1(t,L,j.tagName,a,n):L++}}catch(ae){if(ae instanceof Hi)throw ae;i.error("element parse error: "+ae),L=-1}L>C?C=L:o(Math.max(g,C)+1)}}function ih(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function x1(t,e,r,n,i,s){function a(m,y,S){r.attributeNames.hasOwnProperty(m)&&s.fatalError("Attribute "+m+" redefined"),r.addValue(m,y,S)}for(var o,l,u=++e,c=ss;;){var f=t.charAt(u);switch(f){case"=":if(c===fn)o=t.slice(e,u),c=as;else if(c===ni)c=as;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===as||c===fn)if(c===fn&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(f,e),u>0)l=t.slice(e,u).replace(/&#?\w+;/g,i),a(o,l,e-1),c=si;else throw new Error("attribute value no end '"+f+"' match");else if(c==ii)l=t.slice(e,u).replace(/&#?\w+;/g,i),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+f+")!!"),e=u+1,c=si;else throw new Error('attribute value must after "="');break;case"/":switch(c){case ss:r.setTagName(t.slice(e,u));case si:case os:case Sa:c=Sa,r.closed=!0;case ii:case fn:break;case ni:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==ss&&r.setTagName(t.slice(e,u)),u;case">":switch(c){case ss:r.setTagName(t.slice(e,u));case si:case os:case Sa:break;case ii:case fn:l=t.slice(e,u),l.slice(-1)==="/"&&(r.closed=!0,l=l.slice(0,-1));case ni:c===ni&&(l=o),c==ii?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l.replace(/&#?\w+;/g,i),e)):((!qs.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case as:throw new Error("attribute value missed!!")}return u;case"":f=" ";default:if(f<=" ")switch(c){case ss:r.setTagName(t.slice(e,u)),c=os;break;case fn:o=t.slice(e,u),c=ni;break;case ii:var l=t.slice(e,u).replace(/&#?\w+;/g,i);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case si:c=os;break}else switch(c){case ni:r.tagName,(!qs.isHTML(n[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=fn;break;case si:s.warning('attribute space is required"'+o+'"!!');case os:c=fn,e=u;break;case as:c=ii,e=u;break;case Sa:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function sh(t,e,r){for(var n=t.tagName,i=null,f=t.length;f--;){var s=t[f],a=s.qName,o=s.value,m=a.indexOf(":");if(m>0)var l=s.prefix=a.slice(0,m),u=a.slice(m+1),c=l==="xmlns"&&u;else u=a,l=null,c=a==="xmlns"&&"";s.localName=u,c!==!1&&(i==null&&(i={},_g(r,r={})),r[c]=i[c]=o,s.uri=qs.XMLNS,e.startPrefixMapping(c,o))}for(var f=t.length;f--;){s=t[f];var l=s.prefix;l&&(l==="xml"&&(s.uri=qs.XML),l!=="xmlns"&&(s.uri=r[l||""]))}var m=n.indexOf(":");m>0?(l=t.prefix=n.slice(0,m),u=t.localName=n.slice(m+1)):(l=null,u=t.localName=n);var y=t.uri=r[l||""];if(e.startElement(y,u,n,t),t.closed){if(e.endElement(y,u,n),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=r,t.localNSMap=i,!0}function b1(t,e,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var s=t.indexOf("</"+r+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),s)}return e+1}function E1(t,e,r,n){var i=n[r];return i==null&&(i=t.lastIndexOf("</"+r+">"),i<e&&(i=t.lastIndexOf("</"+r)),n[r]=i),i<e}function _g(t,e){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function _1(t,e,r,n){var i=t.charAt(e+2);switch(i){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(r.comment(t,e+4,s-e-4),s+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return r.startCDATA(),r.characters(t,e+9,s-e-9),r.endCDATA(),s+3}var a=C1(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var f=a[o-1];return r.startDTD(l,u,c),r.endDTD(),f.index+f[0].length}}return-1}function k1(t,e,r){var n=t.indexOf("?>",e);if(n){var i=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,r.processingInstruction(i[1],i[2]),n+2):-1}return-1}function kg(){this.attributeNames={}}kg.prototype={setTagName:function(t){if(!nh.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,r){if(!nh.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function C1(t,e){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=e,i.exec(t);r=i.exec(t);)if(n.push(r),r[1])return n}ad.XMLReader=Eg;ad.ParseError=Hi;var S1=zn,od=Rn,ah=bg,Cg=ad,D1=od.DOMImplementation,oh=S1.NAMESPACE,A1=Cg.ParseError,N1=Cg.XMLReader;function Sg(t){this.options=t||{locator:{}}}Sg.prototype.parseFromString=function(t,e){var r=this.options,n=new N1,i=r.domBuilder||new ia,s=r.errorHandler,a=r.locator,o=r.xmlns||{},l=/\/x?html?$/.test(e),u=l?ah.HTML_ENTITIES:ah.XML_ENTITIES;return a&&i.setDocumentLocator(a),n.errorHandler=T1(s,i,a),n.domBuilder=r.domBuilder||i,l&&(o[""]=oh.HTML),o.xml=o.xml||oh.XML,t&&typeof t=="string"?n.parse(t,o,u):n.errorHandler.error("invalid doc source"),i.doc};function T1(t,e,r){if(!t){if(e instanceof ia)return e;t=e}var n={},i=t instanceof Function;r=r||{};function s(a){var o=t[a];!o&&i&&(o=t.length==2?function(l){t(a,l)}:t),n[a]=o&&function(l){o("[xmldom "+a+"]	"+l+Yu(r))}||function(){}}return s("warning"),s("error"),s("fatalError"),n}function ia(){this.cdata=!1}function ai(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}ia.prototype={startDocument:function(){this.doc=new D1().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var i=this.doc,s=i.createElementNS(t,r||e),a=n.length;Da(this,s),this.currentElement=s,this.locator&&ai(this.locator,s);for(var o=0;o<a;o++){var t=n.getURI(o),l=n.getValue(o),r=n.getQName(o),u=i.createAttributeNS(t,r);this.locator&&ai(n.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var r=this.doc.createProcessingInstruction(t,e);this.locator&&ai(this.locator,r),Da(this,r)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=lh.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&ai(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=lh.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&ai(this.locator,n),Da(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(t,e,r);this.locator&&ai(this.locator,i),Da(this,i),this.doc.doctype=i}},warning:function(t){console.warn("[xmldom warning]	"+t,Yu(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Yu(this.locator))},fatalError:function(t){throw new A1(t,this.locator)}};function Yu(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function lh(t,e,r){return typeof t=="string"?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){ia.prototype[t]=function(){return null}});function Da(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}na.__DOMHandler=ia;na.DOMParser=Sg;na.DOMImplementation=od.DOMImplementation;na.XMLSerializer=od.XMLSerializer;var Dg=na.DOMParser;const ld=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,I1=1,L1=3,Ag=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function Ko(){var t=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(r=="x"?n:n&7|8).toString(16)});return e}function B1(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function Ng(t){return!!(t&&t.nodeType==1)}function st(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Tg(t){let e=parseFloat(t);return st(t)===!1?!1:typeof t=="string"&&t.indexOf(".")>-1?!0:Math.floor(e)!==e}function li(t){var e=["Webkit","webkit","Moz","O","ms"],r=["-webkit-","-webkit-","-moz-","-o-","-ms-"],n=t.toLowerCase(),i=e.length;if(typeof document>"u"||typeof document.body.style[n]<"u")return t;for(var s=0;s<i;s++)if(typeof document.body.style[r[s]+n]<"u")return r[s]+n;return t}function Ig(t){for(var e=1,r=arguments.length;e<r;e++){var n=arguments[e];for(var i in n)t[i]===void 0&&(t[i]=n[i])}return t}function Dt(t){var e=[].slice.call(arguments,1);return e.forEach(function(r){r&&Object.getOwnPropertyNames(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}),t}function R1(t,e,r){var n=qi(t,e,r);return e.splice(n,0,t),n}function qi(t,e,r,n,i){var s=n||0,a=i||e.length,o=parseInt(s+(a-s)/2),l;return r||(r=function(u,c){if(u>c)return 1;if(u<c)return-1;if(u==c)return 0}),a-s<=0?o:(l=r(e[o],t),a-s===1?l>=0?o:o+1:l===0?o:l===-1?qi(t,e,r,o,a):qi(t,e,r,s,o))}function Eo(t,e,r,n,i){var s=n||0,a=i||e.length,o=parseInt(s+(a-s)/2),l;return r||(r=function(u,c){if(u>c)return 1;if(u<c)return-1;if(u==c)return 0}),a-s<=0?-1:(l=r(e[o],t),a-s===1?l===0?o:-1:l===0?o:l===-1?Eo(t,e,r,o,a):Eo(t,e,r,s,o))}function Ha(t){var e=window.getComputedStyle(t),r=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],n=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return r.forEach(function(a){i+=parseFloat(e[a])||0}),n.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:i}}function _o(t){var e=window.getComputedStyle(t),r=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],n=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],i=0,s=0;return r.forEach(function(a){i+=parseFloat(e[a])||0}),n.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:i}}function Ku(t){let e,r=t.ownerDocument;if(t.nodeType==Node.TEXT_NODE){let n=r.createRange();n.selectNodeContents(t),e=n.getBoundingClientRect()}else e=t.getBoundingClientRect();return e}function ko(){var t=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:t,bottom:e,width:t,height:e}}function ud(t,e){for(var r=t.parentNode,n=r.childNodes,i,s=-1,a=0;a<n.length&&(i=n[a],i.nodeType===e&&s++,i!=t);a++);return s}function z1(t){return ud(t,L1)}function Lg(t){return ud(t,I1)}function $s(t){return["xml","opf","ncx"].indexOf(t)>-1}function Bg(t,e){return new Blob([t],{type:e})}function Co(t,e){var r,n=Bg(t,e);return r=Ag.createObjectURL(n),r}function Rg(t){return Ag.revokeObjectURL(t)}function Xu(t,e){var r,n;if(typeof t=="string")return r=btoa(t),n="data:"+e+";base64,"+r,n}function zg(t){return Object.prototype.toString.call(t).slice(8,-1)}function Wr(t,e,r){var n,i;return typeof DOMParser>"u"||r?i=Dg:i=DOMParser,t.charCodeAt(0)===65279&&(t=t.slice(1)),n=new i().parseFromString(t,e),n}function Ve(t,e){var r;if(!t)throw new Error("No Element Provided");if(typeof t.querySelector<"u")return t.querySelector(e);if(r=t.getElementsByTagName(e),r.length)return r[0]}function on(t,e){return typeof t.querySelector<"u"?t.querySelectorAll(e):t.getElementsByTagName(e)}function ui(t,e,r){var n,i;if(typeof t.querySelector<"u"){e+="[";for(var s in r)e+=s+"~='"+r[s]+"'";return e+="]",t.querySelector(e)}else if(n=t.getElementsByTagName(e),i=Array.prototype.slice.call(n,0).filter(function(a){for(var o in r)if(a.getAttribute(o)===r[o])return!0;return!1}),i)return i[0]}function So(t,e){var r=t.ownerDocument||t;typeof r.createTreeWalker<"u"?jg(t,e,NodeFilter.SHOW_TEXT):cd(t,function(n){n&&n.nodeType===3&&e(n)})}function jg(t,e,r){var n=document.createTreeWalker(t,r,null,!1);let i;for(;i=n.nextNode();)e(i)}function cd(t,e){if(e(t))return!0;if(t=t.firstChild,t)do{if(cd(t,e))return!0;t=t.nextSibling}while(t)}function Og(t){return new Promise(function(e,r){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){e(n.result)}})}function Le(){this.resolve=null,this.reject=null,this.id=Ko(),this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e}),Object.freeze(this)}function Do(t,e,r){var n;if(typeof t.querySelector<"u"&&(n=t.querySelector(`${e}[*|type="${r}"]`)),!n||n.length===0){n=on(t,e);for(var i=0;i<n.length;i++)if(n[i].getAttributeNS("http://www.idpf.org/2007/ops","type")===r||n[i].getAttribute("epub:type")===r)return n[i]}else return n}function Qu(t){for(var e=[],r=t.childNodes,n=0;n<r.length;n++){let i=r[n];i.nodeType===1&&e.push(i)}return e}function Ju(t){for(var e=[t];t;t=t.parentNode)e.unshift(t);return e}function ci(t,e,r){for(var n=[],i=t.childNodes,s=0;s<i.length;s++){let a=i[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(r)return a;n.push(a)}}if(!r)return n}function j1(t,e){let r;if(!(t===null||e===""))for(r=t.parentNode;r.nodeType===1;){if(r.tagName.toLowerCase()===e)return r;r=r.parentNode}}class Pg{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,r){this.startContainer=e,this.startOffset=r,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,r){this.endContainer=e,this.endOffset=r,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let r=e.parentNode,n=Array.prototype.indexOf.call(r.childNodes,e);this.setStart(r,n),this.setEnd(r,n+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let r=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,r)}_commonAncestorContainer(e,r){var n=Ju(e||this.startContainer),i=Ju(r||this.endContainer);if(n[0]==i[0]){for(var s=0;s<n.length;s++)if(n[s]!=i[s])return n[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const O1=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:Pg,blob2base64:Og,borders:_o,bounds:Ha,createBase64Url:Xu,createBlob:Bg,createBlobUrl:Co,defaults:Ig,defer:Le,documentHeight:B1,extend:Dt,filterChildren:ci,findChildren:Qu,getParentByTagName:j1,indexOfElementNode:Lg,indexOfNode:ud,indexOfSorted:Eo,indexOfTextNode:z1,insert:R1,isElement:Ng,isFloat:Tg,isNumber:st,isXml:$s,locationOf:qi,nodeBounds:Ku,parents:Ju,parse:Wr,prefixed:li,qs:Ve,qsa:on,qsp:ui,querySelectorByType:Do,requestAnimationFrame:ld,revokeBlobUrl:Rg,sprint:So,treeWalker:jg,type:zg,uuid:Ko,walk:cd,windowBounds:ko},Symbol.toStringTag,{value:"Module"}));if(!Fg)var Fg={cwd:function(){return"/"}};function Rr(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+t)}function uh(t,e){for(var r="",n=-1,i=0,s,a=0;a<=t.length;++a){if(a<t.length)s=t.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(n===a-1||i===1))if(n!==a-1&&i===2){if(r.length<2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){for(var o=r.length-1,l=o;l>=0&&r.charCodeAt(l)!==47;--l);if(l!==o){l===-1?r="":r=r.slice(0,l),n=a,i=0;continue}}else if(r.length===2||r.length===1){r="",n=a,i=0;continue}}e&&(r.length>0?r+="/..":r="..")}else r.length>0?r+="/"+t.slice(n+1,a):r=t.slice(n+1,a);n=a,i=0}else s===46&&i!==-1?++i:i=-1}return r}function P1(t,e){var r=e.dir||e.root,n=e.base||(e.name||"")+(e.ext||"");return r?r===e.root?r+n:r+t+n:n}var qa={resolve:function(){for(var e="",r=!1,n,i=arguments.length-1;i>=-1&&!r;i--){var s;i>=0?s=arguments[i]:(n===void 0&&(n=Fg.cwd()),s=n),Rr(s),s.length!==0&&(e=s+"/"+e,r=s.charCodeAt(0)===47)}return e=uh(e,!r),r?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Rr(e),e.length===0)return".";var r=e.charCodeAt(0)===47,n=e.charCodeAt(e.length-1)===47;return e=uh(e,!r),e.length===0&&!r&&(e="."),e.length>0&&n&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return Rr(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];Rr(n),n.length>0&&(e===void 0?e=n:e+="/"+n)}return e===void 0?".":qa.normalize(e)},relative:function(e,r){if(Rr(e),Rr(r),e===r||(e=qa.resolve(e),r=qa.resolve(r),e===r))return"";for(var n=1;n<e.length&&e.charCodeAt(n)===47;++n);for(var i=e.length,s=i-n,a=1;a<r.length&&r.charCodeAt(a)===47;++a);for(var o=r.length,l=o-a,u=s<l?s:l,c=-1,f=0;f<=u;++f){if(f===u){if(l>u){if(r.charCodeAt(a+f)===47)return r.slice(a+f+1);if(f===0)return r.slice(a+f)}else s>u&&(e.charCodeAt(n+f)===47?c=f:f===0&&(c=0));break}var m=e.charCodeAt(n+f),y=r.charCodeAt(a+f);if(m!==y)break;m===47&&(c=f)}var S="";for(f=n+c+1;f<=i;++f)(f===i||e.charCodeAt(f)===47)&&(S.length===0?S+="..":S+="/..");return S.length>0?S+r.slice(a+c):(a+=c,r.charCodeAt(a)===47&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(Rr(e),e.length===0)return".";for(var r=e.charCodeAt(0),n=r===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(r=e.charCodeAt(a),r===47){if(!s){i=a;break}}else s=!1;return i===-1?n?"/":".":n&&i===1?"//":e.slice(0,i)},basename:function(e,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');Rr(e);var n=0,i=-1,s=!0,a;if(r!==void 0&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var o=r.length-1,l=-1;for(a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(u===47){if(!s){n=a+1;break}}else l===-1&&(s=!1,l=a+1),o>=0&&(u===r.charCodeAt(o)?--o===-1&&(i=a):(o=-1,i=l))}return n===i?i=l:i===-1&&(i=e.length),e.slice(n,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){n=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(n,i)}},extname:function(e){Rr(e);for(var r=-1,n=0,i=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var l=e.charCodeAt(o);if(l===47){if(!s){n=o+1;break}continue}i===-1&&(s=!1,i=o+1),l===46?r===-1?r=o:a!==1&&(a=1):r!==-1&&(a=-1)}return r===-1||i===-1||a===0||a===1&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof e);return P1("/",e)},parse:function(e){Rr(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return r;var n=e.charCodeAt(0),i=n===47,s;i?(r.root="/",s=1):s=0;for(var a=-1,o=0,l=-1,u=!0,c=e.length-1,f=0;c>=s;--c){if(n=e.charCodeAt(c),n===47){if(!u){o=c+1;break}continue}l===-1&&(u=!1,l=c+1),n===46?a===-1?a=c:f!==1&&(f=1):a!==-1&&(f=-1)}return a===-1||l===-1||f===0||f===1&&a===l-1&&a===o+1?l!==-1&&(o===0&&i?r.base=r.name=e.slice(1,l):r.base=r.name=e.slice(o,l)):(o===0&&i?(r.name=e.slice(1,a),r.base=e.slice(1,l)):(r.name=e.slice(o,a),r.base=e.slice(o,l)),r.ext=e.slice(a,l)),o>0?r.dir=e.slice(0,o-1):i&&(r.dir="/"),r},sep:"/",delimiter:":",posix:null},F1=qa;const wn=$i(F1);class ln{constructor(e){var r,n;r=e.indexOf("://"),r>-1&&(e=new URL(e).pathname),n=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=n.dir+"/",this.filename=n.base,this.extension=n.ext.slice(1)}parse(e){return wn.parse(e)}isAbsolute(e){return wn.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return wn.resolve(this.directory,e)}relative(e){var r=e&&e.indexOf("://")>-1;return r?e:wn.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class Cr{constructor(e,r){var n=e.indexOf("://")>-1,i=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=r,!n&&r!==!1&&typeof r!="string"&&window&&window.location&&(this.base=window.location.href),n||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,i=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new ln(this.base),i=s.resolve(i))}this.Path=new ln(i),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var r=e.indexOf("://")>-1,n;return r?e:(n=wn.resolve(this.directory,e),this.origin+n)}relative(e){return wn.relative(e,this.directory)}toString(){return this.href}}const oi=1,lr=3,M1=9;class Be{constructor(e,r,n){var i;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Be))return new Be(e,r,n);if(typeof r=="string"?this.base=this.parseComponent(r):typeof r=="object"&&r.steps&&(this.base=r),i=this.checkType(e),i==="string")return this.str=e,Dt(this,this.parse(e));if(i==="range")return Dt(this,this.fromRange(e,this.base,n));if(i==="node")return Dt(this,this.fromNode(e,this.base,n));if(i==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(zg(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Be?"EpubCFI":!1}parse(e){var r={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},n,i,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),n=this.getChapterComponent(e),n?(r.base=this.parseComponent(n),i=this.getPathComponent(e),r.path=this.parseComponent(i),s=this.getRange(e),s&&(r.range=!0,r.start=this.parseComponent(s[0]),r.end=this.parseComponent(s[1])),r.spinePos=r.base.steps[1].index,r):{spinePos:-1})}parseComponent(e){var r={steps:[],terminal:{offset:null,assertion:null}},n=e.split(":"),i=n[0].split("/"),s;return n.length>1&&(s=n[1],r.terminal=this.parseTerminal(s)),i[0]===""&&i.shift(),r.steps=i.map((function(a){return this.parseStep(a)}).bind(this)),r}parseStep(e){var r,n,i,s,a;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(a=s[1]),n=parseInt(e),!isNaN(n))return n%2===0?(r="element",i=n/2-1):(r="text",i=(n-1)/2),{type:r,index:i,id:a||null}}parseTerminal(e){var r,n,i=e.match(/\[(.*)\]/);return i&&i[1]?(r=parseInt(e.split("[")[0]),n=i[1]):r=parseInt(e),st(r)||(r=null),{offset:r,assertion:n}}getChapterComponent(e){var r=e.split("!");return r[0]}getPathComponent(e){var r=e.split("!");if(r[1])return r[1].split(",")[0]}getRange(e){var r=e.split(",");return r.length===3?[r[1],r[2]]:!1}getCharecterOffsetComponent(e){var r=e.split(":");return r[1]||""}joinSteps(e){return e?e.map(function(r){var n="";return r.type==="element"&&(n+=(r.index+1)*2),r.type==="text"&&(n+=1+2*r.index),r.id&&(n+="["+r.id+"]"),n}).join("/"):""}segmentString(e){var r="/";return r+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(r+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(r+="["+e.terminal.assertion+"]"),r}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,r){var n,i,s,a;if(typeof e=="string"&&(e=new Be(e)),typeof r=="string"&&(r=new Be(r)),e.spinePos>r.spinePos)return 1;if(e.spinePos<r.spinePos)return-1;e.range?(n=e.path.steps.concat(e.start.steps),s=e.start.terminal):(n=e.path.steps,s=e.path.terminal),r.range?(i=r.path.steps.concat(r.start.steps),a=r.start.terminal):(i=r.path.steps,a=r.path.terminal);for(var o=0;o<n.length;o++){if(!n[o])return-1;if(!i[o]||n[o].index>i[o].index)return 1;if(n[o].index<i[o].index)return-1}return n.length<i.length?-1:s.offset>a.offset?1:s.offset<a.offset?-1:0}step(e){var r=e.nodeType===lr?"text":"element";return{id:e.id,tagName:e.tagName,type:r,index:this.position(e)}}filteredStep(e,r){var n=this.filter(e,r),i;if(n)return i=n.nodeType===lr?"text":"element",{id:n.id,tagName:n.tagName,type:i,index:this.filteredPosition(n,r)}}pathTo(e,r,n){for(var i={steps:[],terminal:{offset:null,assertion:null}},s=e,a;s&&s.parentNode&&s.parentNode.nodeType!=M1;)n?a=this.filteredStep(s,n):a=this.step(s),a&&i.steps.unshift(a),s=s.parentNode;return r!=null&&r>=0&&(i.terminal.offset=r,i.steps[i.steps.length-1].type!="text"&&i.steps.push({type:"text",index:0})),i}equalStep(e,r){return!e||!r?!1:e.index===r.index&&e.id===r.id&&e.type===r.type}fromRange(e,r,n){var i={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,a=e.endContainer,o=e.startOffset,l=e.endOffset,u=!1;if(n&&(u=s.ownerDocument.querySelector("."+n)!=null),typeof r=="string"?(i.base=this.parseComponent(r),i.spinePos=i.base.steps[1].index):typeof r=="object"&&(i.base=r),e.collapsed)u&&(o=this.patchOffset(s,o,n)),i.path=this.pathTo(s,o,n);else{i.range=!0,u&&(o=this.patchOffset(s,o,n)),i.start=this.pathTo(s,o,n),u&&(l=this.patchOffset(a,l,n)),i.end=this.pathTo(a,l,n),i.path={steps:[],terminal:null};var c=i.start.steps.length,f;for(f=0;f<c&&this.equalStep(i.start.steps[f],i.end.steps[f]);f++)f===c-1?i.start.terminal===i.end.terminal&&(i.path.steps.push(i.start.steps[f]),i.range=!1):i.path.steps.push(i.start.steps[f]);i.start.steps=i.start.steps.slice(i.path.steps.length),i.end.steps=i.end.steps.slice(i.path.steps.length)}return i}fromNode(e,r,n){var i={range:!1,base:{},path:{},start:null,end:null};return typeof r=="string"?(i.base=this.parseComponent(r),i.spinePos=i.base.steps[1].index):typeof r=="object"&&(i.base=r),i.path=this.pathTo(e,null,n),i}filter(e,r){var n,i,s,a,o,l=!1;return e.nodeType===lr?(l=!0,s=e.parentNode,n=e.parentNode.classList.contains(r)):(l=!1,n=e.classList.contains(r)),n&&l?(a=s.previousSibling,o=s.nextSibling,a&&a.nodeType===lr?i=a:o&&o.nodeType===lr&&(i=o),i||e):n&&!l?!1:e}patchOffset(e,r,n){if(e.nodeType!=lr)throw new Error("Anchor must be a text node");var i=e,s=r;for(e.parentNode.classList.contains(n)&&(i=e.parentNode);i.previousSibling;){if(i.previousSibling.nodeType===oi)if(i.previousSibling.classList.contains(n))s+=i.previousSibling.textContent.length;else break;else s+=i.previousSibling.textContent.length;i=i.previousSibling}return s}normalizedMap(e,r,n){var i={},s=-1,a,o=e.length,l,u;for(a=0;a<o;a++)l=e[a].nodeType,l===oi&&e[a].classList.contains(n)&&(l=lr),a>0&&l===lr&&u===lr?i[a]=s:r===l&&(s=s+1,i[a]=s),u=l;return i}position(e){var r,n;return e.nodeType===oi?(r=e.parentNode.children,r||(r=Qu(e.parentNode)),n=Array.prototype.indexOf.call(r,e)):(r=this.textNodes(e.parentNode),n=r.indexOf(e)),n}filteredPosition(e,r){var n,i,s;return e.nodeType===oi?(n=e.parentNode.children,s=this.normalizedMap(n,oi,r)):(n=e.parentNode.childNodes,e.parentNode.classList.contains(r)&&(e=e.parentNode,n=e.parentNode.childNodes),s=this.normalizedMap(n,lr,r)),i=Array.prototype.indexOf.call(n,e),s[i]}stepsToXpath(e){var r=[".","*"];return e.forEach(function(n){var i=n.index+1;n.id?r.push("*[position()="+i+" and @id='"+n.id+"']"):n.type==="text"?r.push("text()["+i+"]"):r.push("*["+i+"]")}),r.join("/")}stepsToQuerySelector(e){var r=["html"];return e.forEach(function(n){var i=n.index+1;n.id?r.push("#"+n.id):n.type==="text"||r.push("*:nth-child("+i+")")}),r.join(">")}textNodes(e,r){return Array.prototype.slice.call(e.childNodes).filter(function(n){return n.nodeType===lr?!0:!!(r&&n.classList.contains(r))})}walkToNode(e,r,n){var i=r||document,s=i.documentElement,a,o,l=e.length,u;for(u=0;u<l&&(o=e[u],o.type==="element"?o.id?s=i.getElementById(o.id):(a=s.children||Qu(s),s=a[o.index]):o.type==="text"&&(s=this.textNodes(s,n)[o.index]),!!s);u++);return s}findNode(e,r,n){var i=r||document,s,a;return!n&&typeof i.evaluate<"u"?(a=this.stepsToXpath(e),s=i.evaluate(a,i,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):n?s=this.walkToNode(e,i,n):s=this.walkToNode(e,i),s}fixMiss(e,r,n,i){var s=this.findNode(e.slice(0,-1),n,i),a=s.childNodes,o=this.normalizedMap(a,lr,i),l,u,c=e[e.length-1].index;for(let f in o){if(!o.hasOwnProperty(f))return;if(o[f]===c)if(l=a[f],u=l.textContent.length,r>u)r=r-u;else{l.nodeType===oi?s=l.childNodes[0]:s=l;break}}return{container:s,offset:r}}toRange(e,r){var n=e||document,i,s,a,o,l,u=this,c,f,m=r?n.querySelector("."+r)!=null:!1,y;if(typeof n.createRange<"u"?i=n.createRange():i=new Pg,u.range?(s=u.start,c=u.path.steps.concat(s.steps),o=this.findNode(c,n,m?r:null),a=u.end,f=u.path.steps.concat(a.steps),l=this.findNode(f,n,m?r:null)):(s=u.path,c=u.path.steps,o=this.findNode(u.path.steps,n,m?r:null)),o)try{s.terminal.offset!=null?i.setStart(o,s.terminal.offset):i.setStart(o,0)}catch{y=this.fixMiss(c,s.terminal.offset,n,m?r:null),i.setStart(y.container,y.offset)}else return console.log("No startContainer found for",this.toString()),null;if(l)try{a.terminal.offset!=null?i.setEnd(l,a.terminal.offset):i.setEnd(l,0)}catch{y=this.fixMiss(f,u.end.terminal.offset,n,m?r:null),i.setEnd(y.container,y.offset)}return i}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,r,n){var i=parseInt(r),s=(e+1)*2,a="/"+s+"/";return a+=(i+1)*2,n&&(a+="["+n+"]"),a}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Dr{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var r=0;r<arguments[e].length;++r)this.hooks.push(arguments[e][r])}deregister(e){let r;for(let n=0;n<this.hooks.length;n++)if(r=this.hooks[n],r===e){this.hooks.splice(n,1);break}}trigger(){var e=arguments,r=this.context,n=[];return this.hooks.forEach(function(i){try{var s=i.apply(r,e)}catch(a){console.log(a)}s&&typeof s.then=="function"&&n.push(s)}),Promise.all(n)}list(){return this.hooks}clear(){return this.hooks=[]}}function Mg(t,e){var r,n,i=e.url,s=i.indexOf("://")>-1;t&&(n=Ve(t,"head"),r=Ve(n,"base"),r||(r=t.createElement("base"),n.insertBefore(r,n.firstChild)),!s&&window&&window.location&&(i=window.location.origin+i),r.setAttribute("href",i))}function U1(t,e){var r,n,i=e.canonical;t&&(r=Ve(t,"head"),n=Ve(r,"link[rel='canonical']"),n?n.setAttribute("href",i):(n=t.createElement("link"),n.setAttribute("rel","canonical"),n.setAttribute("href",i),r.appendChild(n)))}function W1(t,e){var r,n,i=e.idref;t&&(r=Ve(t,"head"),n=Ve(r,"link[property='dc.identifier']"),n?n.setAttribute("content",i):(n=t.createElement("meta"),n.setAttribute("name","dc.identifier"),n.setAttribute("content",i),r.appendChild(n)))}function H1(t,e){var r=t.querySelectorAll("a[href]");if(r.length)for(var n=Ve(t.ownerDocument,"base"),i=n?n.getAttribute("href"):void 0,s=(function(o){var l=o.getAttribute("href");if(l.indexOf("mailto:")!==0){var u=l.indexOf("://")>-1;if(u)o.setAttribute("target","_blank");else{var c;try{c=new Cr(l,i)}catch{}o.onclick=function(){return c&&c.hash?e(c.Path.path+c.hash):e(c?c.Path.path:l),!1}}}}).bind(this),a=0;a<r.length;a++)s(r[a])}function ch(t,e,r){return e.forEach(function(n,i){n&&r[i]&&(n=n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),t=t.replace(new RegExp(n,"g"),r[i]))}),t}function Vs(t,e,r,n){var i=typeof window<"u"?window.URL:!1,s=i?"blob":"arraybuffer",a=new Le,o=new XMLHttpRequest,l=XMLHttpRequest.prototype,u;"overrideMimeType"in l||Object.defineProperty(l,"overrideMimeType",{value:function(){}}),r&&(o.withCredentials=!0),o.onreadystatechange=f,o.onerror=c,o.open("GET",t,!0);for(u in n)o.setRequestHeader(u,n[u]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new ln(t).extension),e=="blob"&&(o.responseType=s),$s(e)&&o.overrideMimeType("text/xml"),e=="binary"&&(o.responseType="arraybuffer"),o.send();function c(m){a.reject(m)}function f(){if(this.readyState===XMLHttpRequest.DONE){var m=!1;if((this.responseType===""||this.responseType==="document")&&(m=this.responseXML),this.status===200||this.status===0||m){var y;if(!this.response&&!m)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;m?y=this.responseXML:$s(e)?y=Wr(this.response,"text/xml"):e=="xhtml"?y=Wr(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?y=Wr(this.response,"text/html"):e=="json"?y=JSON.parse(this.response):e=="blob"?i?y=this.response:y=new Blob([this.response]):y=this.response,a.resolve(y)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}class q1{constructor(e,r){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,r?this.hooks=r:(this.hooks={},this.hooks.serialize=new Dr(this),this.hooks.content=new Dr(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var r=e||this.request||Vs,n=new Le,i=n.promise;return this.contents?n.resolve(this.contents):r(this.url).then((function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){n.resolve(this.contents)}).bind(this)).catch(function(s){n.reject(s)}),i}base(){return Mg(this.document,this)}render(e){var r=new Le,n=r.promise;return this.output,this.load(e).then((function(i){var s=typeof navigator<"u"&&navigator.userAgent||"",a=s.indexOf("Trident")>=0,o;typeof XMLSerializer>"u"||a?o=Dg:o=XMLSerializer;var l=new o;return this.output=l.serializeToString(i),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){r.resolve(this.output)}).bind(this)).catch(function(i){r.reject(i)}),n}find(e){var r=this,n=[],i=e.toLowerCase(),s=function(a){for(var o=a.textContent.toLowerCase(),l=r.document.createRange(),u,c,f=-1,m,y=150;c!=-1;)c=o.indexOf(i,f+1),c!=-1&&(l=r.document.createRange(),l.setStart(a,c),l.setEnd(a,c+i.length),u=r.cfiFromRange(l),a.textContent.length<y?m=a.textContent:(m=a.textContent.substring(c-y/2,c+y/2),m="..."+m+"..."),n.push({cfi:u,excerpt:m})),f=c};return So(r.document,function(a){s(a)}),n}search(e,r=5){if(typeof document.createTreeWalker>"u")return this.find(e);let n=[];const i=150,s=this,a=e.toLowerCase(),o=function(f){const S=f.reduce((C,g)=>C+g.textContent,"").toLowerCase().indexOf(a);if(S!=-1){const g=S+a.length;let h=0,p=0;if(S<f[0].length){let x;for(;h<f.length-1&&(p+=f[h].length,!(g<=p));)h+=1;let N=f[0],w=f[h],b=s.document.createRange();b.setStart(N,S);let _=f.slice(0,h).reduce((j,R)=>j+R.textContent.length,0);b.setEnd(w,_>g?g:g-_),x=s.cfiFromRange(b);let D=f.slice(0,h+1).reduce((j,R)=>j+R.textContent,"");D.length>i&&(D=D.substring(S-i/2,S+i/2),D="..."+D+"..."),n.push({cfi:x,excerpt:D})}}},l=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let u,c=[];for(;u=l.nextNode();)c.push(u),c.length==r&&(o(c.slice(0,r)),c=c.slice(1,r));return c.length>0&&o(c),n}reconcileLayoutSettings(e){var r={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(n){var i=n.replace("rendition:",""),s=i.indexOf("-"),a,o;s!=-1&&(a=i.slice(0,s),o=i.slice(s+1),r[a]=o)}),r}cfiFromRange(e){return new Be(e,this.cfiBase).toString()}cfiFromElement(e){return new Be(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class $1{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Dr,this.hooks.content=new Dr,this.hooks.content.register(Mg),this.hooks.content.register(U1),this.hooks.content.register(W1),this.epubcfi=new Be,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,r,n){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((i,s)=>{var a=this.manifest[i.idref],o;i.index=s,i.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,i.index,i.id),i.href&&(i.url=r(i.href,!0),i.canonical=n(i.href)),a&&(i.href=a.href,i.url=r(i.href,!0),i.canonical=n(i.href),a.properties.length&&i.properties.push.apply(i.properties,a.properties)),i.linear==="yes"?(i.prev=(function(){let l=i.index;for(;l>0;){let u=this.get(l-1);if(u&&u.linear)return u;l-=1}}).bind(this),i.next=(function(){let l=i.index;for(;l<this.spineItems.length-1;){let u=this.get(l+1);if(u&&u.linear)return u;l+=1}}).bind(this)):(i.prev=function(){},i.next=function(){}),o=new q1(i,this.hooks),this.append(o)}),this.loaded=!0}get(e){var r=0;if(typeof e>"u")for(;r<this.spineItems.length;){let n=this.spineItems[r];if(n&&n.linear)break;r+=1}else this.epubcfi.isCfiString(e)?r=new Be(e).spinePos:typeof e=="number"||isNaN(e)===!1?r=e:typeof e=="string"&&e.indexOf("#")===0?r=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],r=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[r]||null}append(e){var r=this.spineItems.length;return e.index=r,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=r,this.spineByHref[encodeURI(e.href)]=r,this.spineByHref[e.href]=r,this.spineById[e.idref]=r,r}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(r,n){r.index=n}),0}remove(e){var r=this.spineItems.indexOf(e);if(r>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(r,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let r=this.get(e);if(r&&r.linear)return r;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let r=this.get(e);if(r&&r.linear)return r;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class dd{constructor(e){this._q=[],this.context=e,this.tick=ld,this.running=!1,this.paused=!1}enqueue(){var e,r,n,i=[].shift.call(arguments),s=arguments;if(!i)throw new Error("No Task Provided");return typeof i=="function"?(e=new Le,r=e.promise,n={task:i,args:s,deferred:e,promise:r}):n={promise:i},this._q.push(n),this.paused==!1&&!this.running&&this.run(),n.promise}dequeue(){var e,r,n;if(this._q.length&&!this.paused){if(e=this._q.shift(),r=e.task,r)return n=r.apply(this.context,e.args),n&&typeof n.then=="function"?n.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,n),e.promise);if(e.promise)return e.promise}else return e=new Le,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Le),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Xo="0.3",$a=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],fe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Ug{constructor(e,r,n){this.spine=e,this.request=r,this.pause=n||100,this.q=new dd(this),this.epubcfi=new Be,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(r){r.linear&&this.q.enqueue(this.process.bind(this),r)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(r){var n=new Le,i=this.parse(r,e.cfiBase);return this._locations=this._locations.concat(i),e.unload(),this.processingTimeout=setTimeout(()=>n.resolve(i),this.pause),n.promise}).bind(this))}parse(e,r,n){var i=[],s,a=e.ownerDocument,o=Ve(a,"body"),l=0,u,c=n||this.break,f=function(m){var y=m.length,S,C=0;if(m.textContent.trim().length===0)return!1;for(l==0&&(s=this.createRange(),s.startContainer=m,s.startOffset=0),S=c-l,S>y&&(l+=y,C=y);C<y;)if(S=c-l,l===0&&(C+=1,s=this.createRange(),s.startContainer=m,s.startOffset=C),C+S>=y)l+=y-C,C=y;else{C+=S,s.endContainer=m,s.endOffset=C;let g=new Be(s,r).toString();i.push(g),l=0}u=m};if(So(o,f.bind(this)),s&&s.startContainer&&u){s.endContainer=u,s.endOffset=u.length;let m=new Be(s,r).toString();i.push(m),l=0}return i}generateFromWords(e,r,n){var i=e?new Be(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(s){s.linear&&(i?s.index>=i.spinePos&&this.q.enqueue(this.processWords.bind(this),s,r,i,n):this.q.enqueue(this.processWords.bind(this),s,r,i,n))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,r,n,i){return i&&this._locationsWords.length>=i?Promise.resolve():e.load(this.request).then((function(s){var a=new Le,o=this.parseWords(s,e,r,n),l=i-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=i?o.slice(0,l):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,r,n,i){var s=r.cfiBase,a=[],o=e.ownerDocument,l=Ve(o,"body"),u=n,c=i?i.spinePos!==r.index:!0,f;i&&r.index===i.spinePos&&(f=i.findNode(i.range?i.path.steps.concat(i.start.steps):i.path.steps,e.ownerDocument));var m=function(y){if(!c)if(y===f)c=!0;else return!1;if(y.textContent.length<10&&y.textContent.trim().length===0)return!1;var S=this.countWords(y.textContent),C,g=0;if(S===0)return!1;for(C=u-this._wordCounter,C>S&&(this._wordCounter+=S,g=S);g<S;)if(C=u-this._wordCounter,g+C>=S)this._wordCounter+=S-g,g=S;else{g+=C;let h=new Be(y,s);a.push({cfi:h.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return So(l,m.bind(this)),a}locationFromCfi(e){let r;return Be.prototype.isCfiString(e)&&(e=new Be(e)),this._locations.length===0?-1:(r=qi(e,this._locations,this.epubcfi.compare),r>this.total?this.total:r)}percentageFromCfi(e){if(this._locations.length===0)return null;var r=this.locationFromCfi(e);return this.percentageFromLocation(r)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var r=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(r=this._locations[e]),r}cfiFromPercentage(e){let r;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let n=new Be(this._locations[this.total]);return n.collapse(),n.toString()}return r=Math.ceil(this.total*e),this.cfiFromLocation(r)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var r;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(r=this.locationFromCfi(e),this._current=r):r=e,this.emit(fe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(r)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}Hr(Ug.prototype);class V1{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var r;if(!e)throw new Error("Container File Not Found");if(r=Ve(e,"rootfile"),!r)throw new Error("No RootFile Found");this.packagePath=r.getAttribute("full-path"),this.directory=wn.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class dh{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var r,n,i;if(!e)throw new Error("Package File Not Found");if(r=Ve(e,"metadata"),!r)throw new Error("No Metadata Found");if(n=Ve(e,"manifest"),!n)throw new Error("No Manifest Found");if(i=Ve(e,"spine"),!i)throw new Error("No Spine Found");return this.manifest=this.parseManifest(n),this.navPath=this.findNavPath(n),this.ncxPath=this.findNcxPath(n,i),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=Lg(i),this.spine=this.parseSpine(i,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(r),this.metadata.direction=i.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var r={};return r.title=this.getElementText(e,"title"),r.creator=this.getElementText(e,"creator"),r.description=this.getElementText(e,"description"),r.pubdate=this.getElementText(e,"date"),r.publisher=this.getElementText(e,"publisher"),r.identifier=this.getElementText(e,"identifier"),r.language=this.getElementText(e,"language"),r.rights=this.getElementText(e,"rights"),r.modified_date=this.getPropertyText(e,"dcterms:modified"),r.layout=this.getPropertyText(e,"rendition:layout"),r.orientation=this.getPropertyText(e,"rendition:orientation"),r.flow=this.getPropertyText(e,"rendition:flow"),r.viewport=this.getPropertyText(e,"rendition:viewport"),r.media_active_class=this.getPropertyText(e,"media:active-class"),r.spread=this.getPropertyText(e,"rendition:spread"),r}parseManifest(e){var r={},n=on(e,"item"),i=Array.prototype.slice.call(n);return i.forEach(function(s){var a=s.getAttribute("id"),o=s.getAttribute("href")||"",l=s.getAttribute("media-type")||"",u=s.getAttribute("media-overlay")||"",c=s.getAttribute("properties")||"";r[a]={href:o,type:l,overlay:u,properties:c.length?c.split(" "):[]}}),r}parseSpine(e,r){var n=[],i=on(e,"itemref"),s=Array.prototype.slice.call(i);return s.forEach(function(a,o){var l=a.getAttribute("idref"),u=a.getAttribute("properties")||"",c=u.length?u.split(" "):[],f={id:a.getAttribute("id"),idref:l,linear:a.getAttribute("linear")||"yes",properties:c,index:o};n.push(f)}),n}findUniqueIdentifier(e){var r=e.documentElement.getAttribute("unique-identifier");if(!r)return"";var n=e.getElementById(r);return n&&n.localName==="identifier"&&n.namespaceURI==="http://purl.org/dc/elements/1.1/"&&n.childNodes.length>0?n.childNodes[0].nodeValue.trim():""}findNavPath(e){var r=ui(e,"item",{properties:"nav"});return r?r.getAttribute("href"):!1}findNcxPath(e,r){var n=ui(e,"item",{"media-type":"application/x-dtbncx+xml"}),i;return n||(i=r.getAttribute("toc"),i&&(n=e.querySelector(`#${i}`))),n?n.getAttribute("href"):!1}findCoverPath(e){var r=Ve(e,"package");r.getAttribute("version");var n=ui(e,"item",{properties:"cover-image"});if(n)return n.getAttribute("href");var i=ui(e,"meta",{name:"cover"});if(i){var s=i.getAttribute("content"),a=e.getElementById(s);return a?a.getAttribute("href"):""}else return!1}getElementText(e,r){var n=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",r),i;return!n||n.length===0?"":(i=n[0],i.childNodes.length?i.childNodes[0].nodeValue:"")}getPropertyText(e,r){var n=ui(e,"meta",{property:r});return n&&n.childNodes.length?n.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let r=e.readingOrder||e.spine;return this.spine=r.map((n,i)=>(n.index=i,n.linear=n.linear||"yes",n)),e.resources.forEach((n,i)=>{this.manifest[i]=n,n.rel&&n.rel[0]==="cover"&&(this.coverPath=n.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((n,i)=>(n.label=n.title,n)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Wl{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let r=e.nodeType,n,i;r&&(n=Ve(e,"html"),i=Ve(e,"ncx")),r?n?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):i&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var r,n=0;n<e.length;n++)r=e[n],r.href&&(this.tocByHref[r.href]=n),r.id&&(this.tocById[r.id]=n),this.length++,r.subitems.length&&this.unpack(r.subitems)}get(e){var r;return e?(e.indexOf("#")===0?r=this.tocById[e.substring(1)]:e in this.tocByHref&&(r=this.tocByHref[e]),this.getByIndex(e,r,this.toc)):this.toc}getByIndex(e,r,n){if(n.length===0)return;const i=n[r];if(i&&(e===i.id||e===i.href))return i;{let s;for(let a=0;a<n.length&&(s=this.getByIndex(e,r,n[a].subitems),!s);++a);return s}}landmark(e){var r;return e?(r=this.landmarksByType[e],this.landmarks[r]):this.landmarks}parseNav(e){var r=Do(e,"nav","toc"),n=[];if(!r)return n;let i=ci(r,"ol",!0);return i&&(n=this.parseNavList(i)),n}parseNavList(e,r){const n=[];if(!e||!e.children)return n;for(let i=0;i<e.children.length;i++){const s=this.navItem(e.children[i],r);s&&n.push(s)}return n}navItem(e,r){let n=e.getAttribute("id")||void 0,i=ci(e,"a",!0)||ci(e,"span",!0);if(!i)return;let s=i.getAttribute("href")||"";n||(n=s);let a=i.textContent||"",o=[],l=ci(e,"ol",!0);return l&&(o=this.parseNavList(l,n)),{id:n,href:s,label:a,subitems:o,parent:r}}parseLandmarks(e){var r=Do(e,"nav","landmarks"),n=r?on(r,"li"):[],i=n.length,s,a=[],o;if(!n||i===0)return a;for(s=0;s<i;++s)o=this.landmarkItem(n[s]),o&&(a.push(o),this.landmarksByType[o.type]=s);return a}landmarkItem(e){let r=ci(e,"a",!0);if(!r)return;let n=r.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,i=r.getAttribute("href")||"",s=r.textContent||"";return{href:i,label:s,type:n}}parseNcx(e){var r=on(e,"navPoint"),n=r.length,i,s={},a=[],o,l;if(!r||n===0)return a;for(i=0;i<n;++i)o=this.ncxItem(r[i]),s[o.id]=o,o.parent?(l=s[o.parent],l.subitems.push(o)):a.push(o);return a}ncxItem(e){var r=e.getAttribute("id")||!1,n=Ve(e,"content"),i=n.getAttribute("src"),s=Ve(e,"navLabel"),a=s.textContent?s.textContent:"",o=[],l=e.parentNode,u;return l&&(l.nodeName==="navPoint"||l.nodeName.split(":").slice(-1)[0]==="navPoint")&&(u=l.getAttribute("id")),{id:r,href:i,label:a,subitems:o,parent:u}}load(e){return e.map(r=>(r.label=r.title,r.subitems=r.children?this.load(r.children):[],r))}forEach(e){return this.toc.forEach(e)}}var ls={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},G1=function(){var t,e,r,n,i={};for(t in ls)if(ls.hasOwnProperty(t)){for(e in ls[t])if(ls[t].hasOwnProperty(e))if(r=ls[t][e],typeof r=="string")i[r]=t+"/"+e;else for(n=0;n<r.length;n++)i[r[n]]=t+"/"+e}return i}(),Z1="text/plain";function Y1(t){return t&&G1[t.split(".").pop().toLowerCase()]||Z1}const Bi={lookup:Y1};class K1{constructor(e,r){this.settings={replacements:r&&r.replacements||"base64",archive:r&&r.archive,resolver:r&&r.resolver,request:r&&r.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(r){return e[r]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var r=new Cr(e),n=Bi.lookup(r.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(i=>Og(i)).then(i=>Xu(i,n)):this.settings.request(e,"blob").then(i=>Co(i,n))}replacements(){if(this.settings.replacements==="none")return new Promise((function(r){r(this.urls)}).bind(this));var e=this.urls.map(r=>{var n=this.settings.resolver(r);return this.createUrl(n).catch(i=>(console.error(i),null))});return Promise.all(e).then(r=>(this.replacementUrls=r.filter(n=>typeof n=="string"),r))}replaceCss(e,r){var n=[];return e=e||this.settings.archive,r=r||this.settings.resolver,this.cssUrls.forEach((function(i){var s=this.createCssFile(i,e,r).then((function(a){var o=this.urls.indexOf(i);o>-1&&(this.replacementUrls[o]=a)}).bind(this));n.push(s)}).bind(this)),Promise.all(n)}createCssFile(e){var r;if(wn.isAbsolute(e))return new Promise(function(a){a()});var n=this.settings.resolver(e),i;this.settings.archive?i=this.settings.archive.getText(n):i=this.settings.request(n,"text");var s=this.urls.map(a=>{var o=this.settings.resolver(a),l=new ln(n).relative(o);return l});return i?i.then(a=>(a=ch(a,s,this.replacementUrls),this.settings.replacements==="base64"?r=Xu(a,"text/css"):r=Co(a,"text/css"),r),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,r){return r=r||this.settings.resolver,this.urls.map((function(n){var i=r(n),s=new ln(e).relative(i);return s}).bind(this))}get(e){var r=this.urls.indexOf(e);if(r!==-1)return this.replacementUrls.length?new Promise((function(n,i){n(this.replacementUrls[r])}).bind(this)):this.createUrl(e)}substitute(e,r){var n;return r?n=this.relativeTo(r):n=this.urls,ch(e,n,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Hl{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Be,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var r=Ve(e,"html"),n=Ve(e,"ncx");if(r)return this.parseNav(e);if(n)return this.parseNcx(e)}parseNav(e){var r=Do(e,"nav","page-list"),n=r?on(r,"li"):[],i=n.length,s,a=[],o;if(!n||i===0)return a;for(s=0;s<i;++s)o=this.item(n[s]),a.push(o);return a}parseNcx(e){var r=[],n=0,i,s,a,o=0;if(s=Ve(e,"pageList"),!s||(a=on(s,"pageTarget"),o=a.length,!a||a.length===0))return r;for(n=0;n<o;++n)i=this.ncxItem(a[n]),r.push(i);return r}ncxItem(e){var r=Ve(e,"navLabel"),n=Ve(r,"text"),i=n.textContent,s=Ve(e,"content"),a=s.getAttribute("src"),o=parseInt(i,10);return{href:a,page:o}}item(e){var r=Ve(e,"a"),n=r.getAttribute("href")||"",i=r.textContent||"",s=parseInt(i),a=n.indexOf("epubcfi"),o,l,u;return a!=-1?(o=n.split("#"),l=o[0],u=o.length>1?o[1]:!1,{cfi:u,href:n,packageUrl:l,page:s}):{href:n,page:s}}process(e){e.forEach(function(r){this.pages.push(r.page),r.cfi&&this.locations.push(r.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var r=-1;if(this.locations.length===0)return-1;var n=Eo(e,this.locations,this.epubcfi.compare);return n!=-1?r=this.pages[n]:(n=qi(e,this.locations,this.epubcfi.compare),r=n-1>=0?this.pages[n-1]:this.pages[0],r!==void 0||(r=-1)),r}cfiFromPage(e){var r=-1;typeof e!="number"&&(e=parseInt(e));var n=this.pages.indexOf(e);return n!=-1&&(r=this.locations[n]),r}pageFromPercentage(e){var r=Math.round(this.totalPages*e);return r}percentageFromPage(e){var r=(e-this.firstPage)/this.totalPages;return Math.round(r*1e3)/1e3}percentageFromCfi(e){var r=this.pageFromCfi(e),n=this.percentageFromPage(r);return n}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class Wg{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,r){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),r>=0&&(this._minSpreadWidth=r),this._spread}calculate(e,r,n){var i=1,s=n||0,a=e,o=r,l=Math.floor(a/12),u,c,f,m;this._spread&&a>=this._minSpreadWidth?i=2:i=1,this.name==="reflowable"&&this._flow==="paginated"&&!(n>=0)&&(s=l%2===0?l:l-1),this.name==="pre-paginated"&&(s=0),i>1?(u=a/i-s,f=u+s):(u=a,f=a),this.name==="pre-paginated"&&i>1&&(a=u),c=u*i+s,m=a,this.width=a,this.height=o,this.spreadWidth=c,this.pageWidth=f,this.delta=m,this.columnWidth=u,this.gap=s,this.divisor=i,this.update({width:a,height:o,spreadWidth:c,pageWidth:f,delta:m,columnWidth:u,gap:s,divisor:i})}format(e,r,n){var i;return this.name==="pre-paginated"?i=e.fit(this.columnWidth,this.height,r):this._flow==="paginated"?i=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):n&&n==="horizontal"?i=e.size(null,this.height):i=e.size(this.width,null),i}count(e,r){let n,i;return this.name==="pre-paginated"?(n=1,i=1):this._flow==="paginated"?(r=r||this.delta,n=Math.ceil(e/r),i=n*this.divisor):(r=r||this.height,n=Math.ceil(e/r),i=n),{spreads:n,pages:i}}update(e){if(Object.keys(e).forEach(r=>{this.props[r]===e[r]&&delete e[r]}),Object.keys(e).length>0){let r=Dt(this.props,e);this.emit(fe.LAYOUT.UPDATED,r,e)}}}Hr(Wg.prototype);class X1{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var r in e)e.hasOwnProperty(r)&&(typeof e[r]=="string"?this.registerUrl(r,e[r]):this.registerRules(r,e[r]))}registerCss(e,r){this._themes[e]={serialized:r},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,r){var n=new Cr(r);this._themes[e]={url:n.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,r){this._themes[e]={rules:r},(this._injected[e]||e=="default")&&this.update(e)}select(e){var r=this._current,n;this._current=e,this.update(e),n=this.rendition.getContents(),n.forEach(i=>{i.removeClass(r),i.addClass(e)})}update(e){var r=this.rendition.getContents();r.forEach(n=>{this.add(e,n)})}inject(e){var r=[],n=this._themes,i;for(var s in n)n.hasOwnProperty(s)&&(s===this._current||s==="default")&&(i=n[s],(i.rules&&Object.keys(i.rules).length>0||i.url&&r.indexOf(i.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,r){var n=this._themes[e];!n||!r||(n.url?r.addStylesheet(n.url):n.serialized?(r.addStylesheetCss(n.serialized,e),n.injected=!0):n.rules&&(r.addStylesheetRules(n.rules,e),n.injected=!0))}override(e,r,n){var i=this.rendition.getContents();this._overrides[e]={value:r,priority:n===!0},i.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var r=this.rendition.getContents();delete this._overrides[e],r.forEach(n=>{n.css(e)})}overrides(e){var r=this._overrides;for(var n in r)r.hasOwnProperty(n)&&e.css(n,r[n].value,r[n].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Ao{constructor(e,r,n,i=!1){this.layout=e,this.horizontal=n==="horizontal",this.direction=r||"ltr",this._dev=i}section(e){var r=this.findRanges(e),n=this.rangeListToCfiList(e.section.cfiBase,r);return n}page(e,r,n,i){var s=e&&e.document?e.document.body:!1,a;if(s){if(a=this.rangePairToCfiPair(r,{start:this.findStart(s,n,i),end:this.findEnd(s,n,i)}),this._dev===!0){let o=e.document,l=new Be(a.start).toRange(o),u=new Be(a.end).toRange(o),c=o.defaultView.getSelection(),f=o.createRange();c.removeAllRanges(),f.setStart(l.startContainer,l.startOffset),f.setEnd(u.endContainer,u.endOffset),c.addRange(f)}return a}}walk(e,r){if(!(e&&e.nodeType===Node.TEXT_NODE)){var n={acceptNode:function(l){return l.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},i=n.acceptNode;i.acceptNode=n.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,i,!1),a,o;(a=s.nextNode())&&(o=r(a),!o););return o}}findRanges(e){for(var r=[],n=e.contents.scrollWidth(),i=Math.ceil(n/this.layout.spreadWidth),s=i*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,l,u,c=0;c<s.pages;c++)l=(a+o)*c,u=a*(c+1)+o*c,r.push({start:this.findStart(e.document.body,l,u),end:this.findEnd(e.document.body,l,u)});return r}findStart(e,r,n){for(var i=[e],s,a,o=e;i.length;)if(s=i.shift(),a=this.walk(s,l=>{var u,c,f,m,y;if(y=Ku(l),this.horizontal&&this.direction==="ltr"){if(u=this.horizontal?y.left:y.top,c=this.horizontal?y.right:y.bottom,u>=r&&u<=n)return l;if(c>r)return l;o=l,i.push(l)}else if(this.horizontal&&this.direction==="rtl"){if(u=y.left,c=y.right,c<=n&&c>=r)return l;if(u<n)return l;o=l,i.push(l)}else{if(f=y.top,m=y.bottom,f>=r&&f<=n)return l;if(m>r)return l;o=l,i.push(l)}}),a)return this.findTextStartRange(a,r,n);return this.findTextStartRange(o,r,n)}findEnd(e,r,n){for(var i=[e],s,a=e,o;i.length;)if(s=i.shift(),o=this.walk(s,l=>{var u,c,f,m,y;if(y=Ku(l),this.horizontal&&this.direction==="ltr"){if(u=Math.round(y.left),c=Math.round(y.right),u>n&&a)return a;if(c>n)return l;a=l,i.push(l)}else if(this.horizontal&&this.direction==="rtl"){if(u=Math.round(this.horizontal?y.left:y.top),c=Math.round(this.horizontal?y.right:y.bottom),c<r&&a)return a;if(u<r)return l;a=l,i.push(l)}else{if(f=Math.round(y.top),m=Math.round(y.bottom),f>n&&a)return a;if(m>n)return l;a=l,i.push(l)}}),o)return this.findTextEndRange(o,r,n);return this.findTextEndRange(a,r,n)}findTextStartRange(e,r,n){for(var i=this.splitTextNodeIntoRanges(e),s,a,o,l,u,c=0;c<i.length;c++)if(s=i[c],a=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=r)return s}else if(this.horizontal&&this.direction==="rtl"){if(u=a.right,u<=n)return s}else if(l=a.top,l>=r)return s;return i[0]}findTextEndRange(e,r,n){for(var i=this.splitTextNodeIntoRanges(e),s,a,o,l,u,c,f,m=0;m<i.length;m++){if(a=i[m],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(l=o.left,u=o.right,l>n&&s)return s;if(u>n)return a}else if(this.horizontal&&this.direction==="rtl"){if(l=o.left,u=o.right,u<r&&s)return s;if(l<r)return a}else{if(c=o.top,f=o.bottom,c>n&&s)return s;if(f>n)return a}s=a}return i[i.length-1]}splitTextNodeIntoRanges(e,r){var n=[],i=e.textContent||"",s=i.trim(),a,o=e.ownerDocument,l=r||" ",u=s.indexOf(l);if(u===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,u),n.push(a),a=!1;u!=-1;)u=s.indexOf(l,u+1),u>0&&(a&&(a.setEnd(e,u),n.push(a)),a=o.createRange(),a.setStart(e,u+1));return a&&(a.setEnd(e,s.length),n.push(a)),n}rangePairToCfiPair(e,r){var n=r.start,i=r.end;n.collapse(!0),i.collapse(!1);let s=new Be(n,e).toString(),a=new Be(i,e).toString();return{start:s,end:a}}rangeListToCfiList(e,r){for(var n=[],i,s=0;s<r.length;s++)i=this.rangePairToCfiPair(e,r[s]),n.push(i);return n}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Hg=typeof navigator<"u",Q1=Hg&&/Chrome/.test(navigator.userAgent),fh=Hg&&!Q1&&/AppleWebKit/.test(navigator.userAgent),J1=1;class fd{constructor(e,r,n,i){this.epubcfi=new Be,this.document=e,this.documentElement=this.document.documentElement,this.content=r||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=i||0,this.cfiBase=n||"",this.epubReadingSystem("epub.js",Xo),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return $a}width(e){var r=this.content;return e&&st(e)&&(e=e+"px"),e&&(r.style.width=e),parseInt(this.window.getComputedStyle(r).width)}height(e){var r=this.content;return e&&st(e)&&(e=e+"px"),e&&(r.style.height=e),parseInt(this.window.getComputedStyle(r).height)}contentWidth(e){var r=this.content||this.document.body;return e&&st(e)&&(e=e+"px"),e&&(r.style.width=e),parseInt(this.window.getComputedStyle(r).width)}contentHeight(e){var r=this.content||this.document.body;return e&&st(e)&&(e=e+"px"),e&&(r.style.height=e),parseInt(this.window.getComputedStyle(r).height)}textWidth(){let e,r,n=this.document.createRange(),i=this.content||this.document.body,s=_o(i);return n.selectNodeContents(i),e=n.getBoundingClientRect(),r=e.width,s&&s.width&&(r+=s.width),Math.round(r)}textHeight(){let e,r,n=this.document.createRange(),i=this.content||this.document.body;return n.selectNodeContents(i),e=n.getBoundingClientRect(),r=e.bottom,Math.round(r)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,r,n){var i=this.content||this.document.body;return r?i.style.setProperty(e,r,n?"important":""):i.style.removeProperty(e),this.window.getComputedStyle(i)[e]}viewport(e){var r=this.document.querySelector("meta[name='viewport']"),n={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},i=[],s={};if(r&&r.hasAttribute("content")){let a=r.getAttribute("content"),o=a.match(/width\s*=\s*([^,]*)/),l=a.match(/height\s*=\s*([^,]*)/),u=a.match(/initial-scale\s*=\s*([^,]*)/),c=a.match(/minimum-scale\s*=\s*([^,]*)/),f=a.match(/maximum-scale\s*=\s*([^,]*)/),m=a.match(/user-scalable\s*=\s*([^,]*)/);o&&o.length&&typeof o[1]<"u"&&(n.width=o[1]),l&&l.length&&typeof l[1]<"u"&&(n.height=l[1]),u&&u.length&&typeof u[1]<"u"&&(n.scale=u[1]),c&&c.length&&typeof c[1]<"u"&&(n.minimum=c[1]),f&&f.length&&typeof f[1]<"u"&&(n.maximum=f[1]),m&&m.length&&typeof m[1]<"u"&&(n.scalable=m[1])}return s=Ig(e||{},n),e&&(s.width&&i.push("width="+s.width),s.height&&i.push("height="+s.height),s.scale&&i.push("initial-scale="+s.scale),s.scalable==="no"?(i.push("minimum-scale="+s.scale),i.push("maximum-scale="+s.scale),i.push("user-scalable="+s.scalable)):(s.scalable&&i.push("user-scalable="+s.scalable),s.minimum&&i.push("minimum-scale="+s.minimum),s.maximum&&i.push("minimum-scale="+s.maximum)),r||(r=this.document.createElement("meta"),r.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(r)),r.setAttribute("content",i.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(fe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),r=this.textHeight();(e!=this._size.width||r!=this._size.height)&&(this._size={width:e,height:r},this.onResize&&this.onResize(this._size),this.emit(fe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,r=(function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),n=0;n<e.length;n+=1){var i;try{i=e[n].cssRules}catch{return}if(!i)return;for(var s=0;s<i.length;s+=1)if(i[s].media){var a=this.window.matchMedia(i[s].media.mediaText);a.addListener(r)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(r=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),r,n=0;n<e.length;n++)r=e[n],typeof r.naturalWidth<"u"&&r.naturalWidth===0&&(r.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,r){var n,i={left:0,top:0};if(!this.document)return i;if(this.epubcfi.isCfiString(e)){let s=new Be(e).toRange(this.document,r);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let a=s.startContainer.textContent.indexOf(" ",s.startOffset);a==-1&&(a=s.startContainer.textContent.length),s.setEnd(s.startContainer,a)}}catch(a){console.error("setting end offset to start container length failed",a)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)n=s.startContainer.getBoundingClientRect(),i.left=n.left,i.top=n.top;else if(fh){let a=s.startContainer,o=new Range;try{a.nodeType===J1?n=a.getBoundingClientRect():s.startOffset+2<a.length?(o.setStart(a,s.startOffset),o.setEnd(a,s.startOffset+2),n=o.getBoundingClientRect()):s.startOffset-2>0?(o.setStart(a,s.startOffset-2),o.setEnd(a,s.startOffset),n=o.getBoundingClientRect()):n=a.parentNode.getBoundingClientRect()}catch(l){console.error(l,l.stack)}}else n=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),a=this.document.getElementById(s);if(a)if(fh){let o=new Range;o.selectNode(a),n=o.getBoundingClientRect()}else n=a.getBoundingClientRect()}return n&&(i.left=n.left,i.top=n.top),i}addStylesheet(e){return new Promise((function(r,n){var i,s=!1;if(!this.document){r(!1);return}if(i=this.document.querySelector("link[href='"+e+"']"),i){r(!0);return}i=this.document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{r(!0)},1))},this.document.head.appendChild(i)}).bind(this))}_getStylesheetNode(e){var r;return e="epubjs-inserted-css-"+(e||""),this.document?(r=this.document.getElementById(e),r||(r=this.document.createElement("style"),r.id=e,this.document.head.appendChild(r)),r):!1}addStylesheetCss(e,r){if(!this.document||!e)return!1;var n;return n=this._getStylesheetNode(r),n.innerHTML=e,!0}addStylesheetRules(e,r){var n;if(!(!this.document||!e||e.length===0))if(n=this._getStylesheetNode(r).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var i=0,s=e.length;i<s;i++){var a=1,o=e[i],l=e[i][0],u="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var c=o.length;a<c;a++){var f=o[a];u+=f[0]+":"+f[1]+(f[2]?" !important":"")+`;
`}n.insertRule(l+"{"+u+"}",n.cssRules.length)}else Object.keys(e).forEach(y=>{const S=e[y];if(Array.isArray(S))S.forEach(C=>{const h=Object.keys(C).map(p=>`${p}:${C[p]}`).join(";");n.insertRule(`${y}{${h}}`,n.cssRules.length)});else{const g=Object.keys(S).map(h=>`${h}:${S[h]}`).join(";");n.insertRule(`${y}{${g}}`,n.cssRules.length)}})}addScript(e){return new Promise((function(r,n){var i,s=!1;if(!this.document){r(!1);return}i=this.document.createElement("script"),i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){r(!0)},1))},this.document.head.appendChild(i)}).bind(this))}addClass(e){var r;this.document&&(r=this.content||this.document.body,r&&r.classList.add(e))}removeClass(e){var r;this.document&&(r=this.content||this.document.body,r&&r.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),$a.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&($a.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var r=this.window.getSelection();this.triggerSelectedEvent(r)}).bind(this),250)}triggerSelectedEvent(e){var r,n;e&&e.rangeCount>0&&(r=e.getRangeAt(0),r.collapsed||(n=new Be(r,this.cfiBase).toString(),this.emit(fe.CONTENTS.SELECTED,n),this.emit(fe.CONTENTS.SELECTED_RANGE,r)))}range(e,r){var n=new Be(e);return n.toRange(this.document,r)}cfiFromRange(e,r){return new Be(e,this.cfiBase,r).toString()}cfiFromNode(e,r){return new Be(e,this.cfiBase,r).toString()}map(e){var r=new Ao(e);return r.section()}size(e,r){var n={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),n.width=e,this.css("padding","0 "+e/12+"px")),r>=0&&(this.height(r),n.height=r),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(n)}columns(e,r,n,i,s){let a=li("column-axis"),o=li("column-gap"),l=li("column-width"),u=li("column-fill"),f=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&f==="horizontal"&&this.direction(s),this.width(e),this.height(r),this.viewport({width:e,height:r,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),f==="vertical"?(this.css("padding-top",i/2+"px",!0),this.css("padding-bottom",i/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",i/2+"px",!0),this.css("padding-right",i/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(u,"auto"),this.css(o,i+"px"),this.css(l,n+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,r,n){var i="scale("+e+")",s="";this.css("transform-origin","top left"),(r>=0||n>=0)&&(s=" translate("+(r||0)+"px, "+(n||0)+"px )"),this.css("transform",i+s)}fit(e,r,n){var i=this.viewport(),s=parseInt(i.width),a=parseInt(i.height),o=e/s,l=r/a,u=o<l?o:l;if(this.layoutStyle("paginated"),this.width(s),this.height(a),this.overflow("hidden"),this.scaler(u,0,0),this.css("background-size",s*u+"px "+a*u+"px"),this.css("background-color","transparent"),n&&n.properties.includes("page-spread-left")){var c=e-s*u;this.css("margin-left",c+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,r,n,i,s){var a=new Ao(r,s);return a.page(this,e,n,i)}linksHandler(){H1(this.content,e=>{this.emit(fe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let r=li("writing-mode");return e&&this.documentElement&&(this.documentElement.style[r]=e),this.window.getComputedStyle(this.documentElement)[r]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,r){return navigator.epubReadingSystem={name:e,version:r,layoutStyle:this.layoutStyle(),hasFeature:function(n){switch(n){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}Hr(fd.prototype);class ew{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,r,n,i,s,a){let o=encodeURI(r+e),u=new Be(r).spinePos,c=new qg({type:e,cfiRange:r,data:n,sectionIndex:u,cb:i,className:s,styles:a});return this._annotations[o]=c,u in this._annotationsBySectionIndex?this._annotationsBySectionIndex[u].push(o):this._annotationsBySectionIndex[u]=[o],this.rendition.views().forEach(m=>{c.sectionIndex===m.index&&c.attach(m)}),c}remove(e,r){let n=encodeURI(e+r);if(n in this._annotations){let i=this._annotations[n];if(r&&i.type!==r)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(i.sectionIndex,n),i.sectionIndex===a.index&&i.detach(a)}),delete this._annotations[n]}}_removeFromAnnotationBySectionIndex(e,r){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(n=>n!==r)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,r,n,i,s){return this.add("highlight",e,r,n,i,s)}underline(e,r,n,i,s){return this.add("underline",e,r,n,i,s)}mark(e,r,n){return this.add("mark",e,r,n)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let r=e.index;r in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[r].forEach(i=>{this._annotations[i].attach(e)})}clear(e){let r=e.index;r in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[r].forEach(i=>{this._annotations[i].detach(e)})}show(){}hide(){}}class qg{constructor({type:e,cfiRange:r,data:n,sectionIndex:i,cb:s,className:a,styles:o}){this.type=e,this.cfiRange=r,this.data=n,this.sectionIndex=i,this.mark=void 0,this.cb=s,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:r,data:n,type:i,mark:s,cb:a,className:o,styles:l}=this,u;return i==="highlight"?u=e.highlight(r,n,a,o,l):i==="underline"?u=e.underline(r,n,a,o,l):i==="mark"&&(u=e.mark(r,n,a)),this.mark=u,this.emit(fe.ANNOTATION.ATTACH,u),u}detach(e){let{cfiRange:r,type:n}=this,i;return e&&(n==="highlight"?i=e.unhighlight(r):n==="underline"?i=e.ununderline(r):n==="mark"&&(i=e.unmark(r))),this.mark=void 0,this.emit(fe.ANNOTATION.DETACH,i),i}text(){}}Hr(qg.prototype);var Xr={},Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.createElement=$g;function $g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}Qo.default={createElement:$g};var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.proxyMouse=Vg;sa.clone=Gg;sa.default={proxyMouse:Vg};function Vg(t,e){function r(a){for(var o=e.length-1;o>=0;o--){var l=e[o],u=a.clientX,c=a.clientY;if(a.touches&&a.touches.length&&(u=a.touches[0].clientX,c=a.touches[0].clientY),!!tw(l,t,u,c)){l.dispatchEvent(Gg(a));break}}}if(t.nodeName==="iframe"||t.nodeName==="IFRAME")try{this.target=t.contentDocument}catch{this.target=t}else this.target=t;for(var n=["mouseup","mousedown","click","touchstart"],i=0;i<n.length;i++){var s=n[i];this.target.addEventListener(s,function(a){return r(a)},!1)}}function Gg(t){var e=Object.assign({},t,{bubbles:!1});try{return new MouseEvent(t.type,e)}catch{var r=document.createEvent("MouseEvents");return r.initMouseEvent(t.type,!1,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),r}}function tw(t,e,r,n){var i=e.getBoundingClientRect();function s(c,f,m){var y=c.top-i.top,S=c.left-i.left,C=y+c.height,g=S+c.width;return y<=m&&S<=f&&C>m&&g>f}var a=t.getBoundingClientRect();if(!s(a,r,n))return!1;for(var o=t.getClientRects(),l=0,u=o.length;l<u;l++)if(s(o[l],r,n))return!0;return!1}var No,hd;Object.defineProperty(Xr,"__esModule",{value:!0});var Zg=Xr.Underline=hd=Xr.Highlight=Xr.Mark=No=Xr.Pane=void 0,rw=function t(e,r,n){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(i===void 0){var s=Object.getPrototypeOf(e);return s===null?void 0:t(s,r,n)}else{if("value"in i)return i.value;var a=i.get;return a===void 0?void 0:a.call(n)}},Jo=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),nw=Qo,Gs=Yg(nw),iw=sa,sw=Yg(iw);function Yg(t){return t&&t.__esModule?t:{default:t}}function Kg(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Xg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function el(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}No=Xr.Pane=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;el(this,t),this.target=e,this.element=Gs.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),sw.default.proxyMouse(this.target,this.marks),this.container=r,this.container.appendChild(this.element),this.render()}return Jo(t,[{key:"addMark",value:function(r){var n=Gs.default.createElement("g");return this.element.appendChild(n),r.bind(n,this.container),this.marks.push(r),r.render(),r}},{key:"removeMark",value:function(r){var n=this.marks.indexOf(r);if(n!==-1){var i=r.unbind();this.element.removeChild(i),this.marks.splice(n,1)}}},{key:"render",value:function(){uw(this.element,lw(this.target,this.container));var r=!0,n=!1,i=void 0;try{for(var s=this.marks[Symbol.iterator](),a;!(r=(a=s.next()).done);r=!0){var o=a.value;o.render()}}catch(l){n=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}}}]),t}();var aw=Xr.Mark=function(){function t(){el(this,t),this.element=null}return Jo(t,[{key:"bind",value:function(r,n){this.element=r,this.container=n}},{key:"unbind",value:function(){var r=this.element;return this.element=null,r}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(r){this.element&&this.element.dispatchEvent(r)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var r=[],n=this.element.firstChild;n;)r.push(n.getBoundingClientRect()),n=n.nextSibling;return r}},{key:"filteredRanges",value:function(){var r=Array.from(this.range.getClientRects());return r.filter(function(n){for(var i=0;i<r.length;i++){if(r[i]===n)return!0;var s=cw(r[i],n);if(s)return!1}return!0})}}]),t}(),ow=hd=Xr.Highlight=function(t){Xg(e,t);function e(r,n,i,s){el(this,e);var a=Kg(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.range=r,a.className=n,a.data=i||{},a.attributes=s||{},a}return Jo(e,[{key:"bind",value:function(n,i){rw(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bind",this).call(this,n,i);for(var s in this.data)this.data.hasOwnProperty(s)&&(this.element.dataset[s]=this.data[s]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&this.element.setAttribute(s,this.attributes[s]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var n=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,l=i.length;o<l;o++){var u=i[o],c=Gs.default.createElement("rect");c.setAttribute("x",u.left-s.left+a.left),c.setAttribute("y",u.top-s.top+a.top),c.setAttribute("height",u.height),c.setAttribute("width",u.width),n.appendChild(c)}this.element.appendChild(n)}}]),e}(aw);Zg=Xr.Underline=function(t){Xg(e,t);function e(r,n,i,s){return el(this,e),Kg(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n,i,s))}return Jo(e,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var n=this.element.ownerDocument.createDocumentFragment(),i=this.filteredRanges(),s=this.element.getBoundingClientRect(),a=this.container.getBoundingClientRect(),o=0,l=i.length;o<l;o++){var u=i[o],c=Gs.default.createElement("rect");c.setAttribute("x",u.left-s.left+a.left),c.setAttribute("y",u.top-s.top+a.top),c.setAttribute("height",u.height),c.setAttribute("width",u.width),c.setAttribute("fill","none");var f=Gs.default.createElement("line");f.setAttribute("x1",u.left-s.left+a.left),f.setAttribute("x2",u.left-s.left+a.left+u.width),f.setAttribute("y1",u.top-s.top+a.top+u.height-1),f.setAttribute("y2",u.top-s.top+a.top+u.height-1),f.setAttribute("stroke-width",1),f.setAttribute("stroke","black"),f.setAttribute("stroke-linecap","square"),n.appendChild(c),n.appendChild(f)}this.element.appendChild(n)}}]),e}(ow);function lw(t,e){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect();return{top:n.top-r.top,left:n.left-r.left,height:t.scrollHeight,width:t.scrollWidth}}function uw(t,e){t.style.setProperty("top",e.top+"px","important"),t.style.setProperty("left",e.left+"px","important"),t.style.setProperty("height",e.height+"px","important"),t.style.setProperty("width",e.width+"px","important")}function cw(t,e){return e.right<=t.right&&e.left>=t.left&&e.top>=t.top&&e.bottom<=t.bottom}class Qg{constructor(e,r){this.settings=Dt({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},r||{}),this.id="epubjs-view-"+Ko(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Be,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var r=document.createElement("div");return r.classList.add("epub-view"),r.style.height="0px",r.style.width="0px",r.style.overflow="hidden",r.style.position="relative",r.style.display="block",e&&e=="horizontal"?r.style.flex="none":r.style.flex="initial",r}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=Ha(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,r){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(n){return this.load(n)}).bind(this)).then((function(){let n=this.contents.writingMode(),i;return this.settings.flow==="scrolled"?i=n.indexOf("vertical")===0?"horizontal":"vertical":i=n.indexOf("vertical")===0?"vertical":"horizontal",n.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(i),this.emit(fe.VIEWS.AXIS,i),this.setWritingMode(n),this.emit(fe.VIEWS.WRITING_MODE,n),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}).bind(this),(function(n){return this.emit(fe.VIEWS.LOAD_ERROR,n),new Promise((i,s)=>{s(n)})}).bind(this)).then((function(){this.emit(fe.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,r){var n=e||this.settings.width,i=r||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",n,i):this.settings.axis==="horizontal"?this.lock("height",n,i):this.lock("width",n,i),this.settings.width=n,this.settings.height=i}lock(e,r,n){var i=_o(this.element),s;this.iframe?s=_o(this.iframe):s={width:0,height:0},e=="width"&&st(r)&&(this.lockedWidth=r-i.width-s.width),e=="height"&&st(n)&&(this.lockedHeight=n-i.height-s.height),e==="both"&&st(r)&&st(n)&&(this.lockedWidth=r-i.width-s.width,this.lockedHeight=n-i.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var r=this.lockedWidth,n=this.lockedHeight,i;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(r=this.layout.columnWidth,n=this.layout.height):this.settings.axis==="horizontal"?(r=this.contents.textWidth(),r%this.layout.pageWidth>0&&(r=Math.ceil(r/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(i=r/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&i%2>0&&(r+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(n=this.contents.textHeight(),this.settings.flow==="paginated"&&n%this.layout.height>0&&(n=Math.ceil(n/this.layout.height)*this.layout.height)),(this._needsReframe||r!=this._width||n!=this._height)&&this.reframe(r,n),this._expanding=!1)}reframe(e,r){var n;st(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),st(r)&&(this.element.style.height=r+"px",this.iframe.style.height=r+"px",this._height=r);let i=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?r-this.prevBounds.height:r;n={width:e,height:r,widthDelta:i,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,n),this.emit(fe.VIEWS.RESIZED,n),this.prevBounds=n,this.elementBounds=Ha(this.element)}load(e){var r=new Le,n=r.promise;if(!this.iframe)return r.reject(new Error("No Iframe Available")),n;if(this.iframe.onload=(function(s){this.onLoad(s,r)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=Co(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return r.reject(new Error("No Document Available")),n;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var i=this;MSApp.execUnsafeLocalFunction(function(){i.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return n}onLoad(e,r){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new fd(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var n=this.document.querySelector("link[rel='canonical']");n?n.setAttribute("href",this.section.canonical):(n=this.document.createElement("link"),n.setAttribute("rel","canonical"),n.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(n)),this.contents.on(fe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(fe.CONTENTS.RESIZE,i=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),r.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var r=new Le;return this.displayed?r.resolve(this):this.render(e).then((function(){this.emit(fe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,r.resolve(this)}).bind(this),function(n){r.reject(n,this)}),r.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(fe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(fe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var r=this.contents.locationOf(e,this.settings.ignoreClass);return{left:r.left,top:r.top}}onDisplayed(e){}onResize(e,r){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=Ha(this.element)),this.elementBounds}highlight(e,r={},n,i="epubjs-hl",s={}){if(!this.contents)return;const a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),l=()=>{this.emit(fe.VIEWS.MARK_CLICKED,e,r)};r.epubcfi=e,this.pane||(this.pane=new No(this.iframe,this.element));let u=new hd(o,i,r,a),c=this.pane.addMark(u);return this.highlights[e]={mark:c,element:c.element,listeners:[l,n]},c.element.setAttribute("ref",i),c.element.addEventListener("click",l),c.element.addEventListener("touchstart",l),n&&(c.element.addEventListener("click",n),c.element.addEventListener("touchstart",n)),c}underline(e,r={},n,i="epubjs-ul",s={}){if(!this.contents)return;const a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),l=()=>{this.emit(fe.VIEWS.MARK_CLICKED,e,r)};r.epubcfi=e,this.pane||(this.pane=new No(this.iframe,this.element));let u=new Zg(o,i,r,a),c=this.pane.addMark(u);return this.underlines[e]={mark:c,element:c.element,listeners:[l,n]},c.element.setAttribute("ref",i),c.element.addEventListener("click",l),c.element.addEventListener("touchstart",l),n&&(c.element.addEventListener("click",n),c.element.addEventListener("touchstart",n)),c}mark(e,r={},n){if(!this.contents)return;if(e in this.marks)return this.marks[e];let i=this.contents.range(e);if(!i)return;let s=i.commonAncestorContainer,a=s.nodeType===1?s:s.parentNode,o=u=>{this.emit(fe.VIEWS.MARK_CLICKED,e,r)};i.collapsed&&s.nodeType===1?(i=new Range,i.selectNodeContents(s)):i.collapsed&&(i=new Range,i.selectNodeContents(a));let l=this.document.createElement("a");return l.setAttribute("ref","epubjs-mk"),l.style.position="absolute",l.dataset.epubcfi=e,r&&Object.keys(r).forEach(u=>{l.dataset[u]=r[u]}),n&&(l.addEventListener("click",n),l.addEventListener("touchstart",n)),l.addEventListener("click",o),l.addEventListener("touchstart",o),this.placeMark(l,i),this.element.appendChild(l),this.marks[e]={element:l,range:i,listeners:[o,n]},a}placeMark(e,r){let n,i,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=r.getBoundingClientRect();n=o.top,i=o.right}else{let o=r.getClientRects(),l;for(var a=0;a!=o.length;a++)l=o[a],(!s||l.left<s)&&(s=l.left,i=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,n=l.top)}e.style.top=`${n}px`,e.style.left=`${i}px`}unhighlight(e){let r;e in this.highlights&&(r=this.highlights[e],this.pane.removeMark(r.mark),r.listeners.forEach(n=>{n&&(r.element.removeEventListener("click",n),r.element.removeEventListener("touchstart",n))}),delete this.highlights[e])}ununderline(e){let r;e in this.underlines&&(r=this.underlines[e],this.pane.removeMark(r.mark),r.listeners.forEach(n=>{n&&(r.element.removeEventListener("click",n),r.element.removeEventListener("touchstart",n))}),delete this.underlines[e])}unmark(e){let r;e in this.marks&&(r=this.marks[e],this.element.removeChild(r.element),r.listeners.forEach(n=>{n&&(r.element.removeEventListener("click",n),r.element.removeEventListener("touchstart",n))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&Rg(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}Hr(Qg.prototype);function dw(){var t="reverse",e=fw();return document.body.appendChild(e),e.scrollLeft>0?t="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(t="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(t="negative")),document.body.removeChild(e),t}function fw(){var t=document.createElement("div");t.dir="rtl",t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="0px",t.style.left="0px",t.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var r=document.createElement("span");r.style.width="1px",r.style.display="inline-block";var n=document.createElement("span");return n.style.width="1px",n.style.display="inline-block",e.appendChild(r),e.appendChild(n),t.appendChild(e),t}function hw(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pd=hw,pw=typeof dr=="object"&&dr&&dr.Object===Object&&dr,mw=pw,gw=mw,vw=typeof self=="object"&&self&&self.Object===Object&&self,yw=gw||vw||Function("return this")(),Jg=yw,ww=Jg,xw=function(){return ww.Date.now()},bw=xw,Ew=/\s/;function _w(t){for(var e=t.length;e--&&Ew.test(t.charAt(e)););return e}var kw=_w,Cw=kw,Sw=/^\s+/;function Dw(t){return t&&t.slice(0,Cw(t)+1).replace(Sw,"")}var Aw=Dw,Nw=Jg,Tw=Nw.Symbol,ev=Tw,hh=ev,tv=Object.prototype,Iw=tv.hasOwnProperty,Lw=tv.toString,us=hh?hh.toStringTag:void 0;function Bw(t){var e=Iw.call(t,us),r=t[us];try{t[us]=void 0;var n=!0}catch{}var i=Lw.call(t);return n&&(e?t[us]=r:delete t[us]),i}var Rw=Bw,zw=Object.prototype,jw=zw.toString;function Ow(t){return jw.call(t)}var Pw=Ow,ph=ev,Fw=Rw,Mw=Pw,Uw="[object Null]",Ww="[object Undefined]",mh=ph?ph.toStringTag:void 0;function Hw(t){return t==null?t===void 0?Ww:Uw:mh&&mh in Object(t)?Fw(t):Mw(t)}var qw=Hw;function $w(t){return t!=null&&typeof t=="object"}var Vw=$w,Gw=qw,Zw=Vw,Yw="[object Symbol]";function Kw(t){return typeof t=="symbol"||Zw(t)&&Gw(t)==Yw}var Xw=Kw,Qw=Aw,gh=pd,Jw=Xw,vh=NaN,ex=/^[-+]0x[0-9a-f]+$/i,tx=/^0b[01]+$/i,rx=/^0o[0-7]+$/i,nx=parseInt;function ix(t){if(typeof t=="number")return t;if(Jw(t))return vh;if(gh(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=gh(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qw(t);var r=tx.test(t);return r||rx.test(t)?nx(t.slice(2),r?2:8):ex.test(t)?vh:+t}var sx=ix,ax=pd,ql=bw,yh=sx,ox="Expected a function",lx=Math.max,ux=Math.min;function cx(t,e,r){var n,i,s,a,o,l,u=0,c=!1,f=!1,m=!0;if(typeof t!="function")throw new TypeError(ox);e=yh(e)||0,ax(r)&&(c=!!r.leading,f="maxWait"in r,s=f?lx(yh(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function y(b){var _=n,D=i;return n=i=void 0,u=b,a=t.apply(D,_),a}function S(b){return u=b,o=setTimeout(h,e),c?y(b):a}function C(b){var _=b-l,D=b-u,j=e-_;return f?ux(j,s-D):j}function g(b){var _=b-l,D=b-u;return l===void 0||_>=e||_<0||f&&D>=s}function h(){var b=ql();if(g(b))return p(b);o=setTimeout(h,C(b))}function p(b){return o=void 0,m&&n?y(b):(n=i=void 0,a)}function x(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function N(){return o===void 0?a:p(ql())}function w(){var b=ql(),_=g(b);if(n=arguments,i=this,l=b,_){if(o===void 0)return S(l);if(f)return clearTimeout(o),o=setTimeout(h,e),y(l)}return o===void 0&&(o=setTimeout(h,e)),a}return w.cancel=x,w.flush=N,w}var rv=cx;const dx=$i(rv);var fx=rv,hx=pd,px="Expected a function";function mx(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(px);return hx(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),fx(t,e,{leading:n,maxWait:e,trailing:i})}var gx=mx;const vx=$i(gx);class yx{constructor(e){this.settings=e||{},this.id="epubjs-container-"+Ko(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let r=e.height,n=e.width,i=e.overflow||!1,s=e.axis||"vertical",a=e.direction;Dt(this.settings,e),e.height&&st(e.height)&&(r=e.height+"px"),e.width&&st(e.width)&&(n=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",s==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),n&&(o.style.width=n),r&&(o.style.height=r),i&&(i==="scroll"&&s==="vertical"?(o.style["overflow-y"]=i,o.style["overflow-x"]="hidden"):i==="scroll"&&s==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=i):o.style.overflow=i),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var r=document.createElement("div");return r.style.visibility="hidden",r.style.overflow="hidden",r.style.width="0",r.style.height="0",r.appendChild(e),r}getElement(e){var r;if(Ng(e)?r=e:typeof e=="string"&&(r=document.getElementById(e)),!r)throw new Error("Not an Element");return r}attachTo(e){var r=this.getElement(e),n;if(r)return this.settings.hidden?n=this.wrapper:n=this.container,r.appendChild(n),this.element=r,r}getContainer(){return this.container}onResize(e){(!st(this.settings.width)||!st(this.settings.height))&&(this.resizeFunc=vx(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,r){var n;let i=e||this.settings.width,s=r||this.settings.height;e===null?(n=this.element.getBoundingClientRect(),n.width&&(e=Math.floor(n.width),this.container.style.width=e+"px")):st(e)?this.container.style.width=e+"px":this.container.style.width=e,r===null?(n=n||this.element.getBoundingClientRect(),n.height&&(r=n.height,this.container.style.height=r+"px")):st(r)?this.container.style.height=r+"px":this.container.style.height=r,st(e)||(e=this.container.clientWidth),st(r)||(r=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=ko(),o=window.getComputedStyle(document.body),l={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return i||(e=a.width-l.left-l.right),(this.settings.fullsize&&!s||!s)&&(r=a.height-l.top-l.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:r-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?ko():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,r){var n="#"+this.id+" ",i="";this.sheet||(this.sheet=this.getSheet()),r.forEach(function(s){for(var a in s)s.hasOwnProperty(a)&&(i+=a+":"+s[a]+";")}),this.sheet.insertRule(n+e+" {"+i+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class wx{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,r){return this._views.splice(r,0,e),this.container&&(r<this.container.children.length?this.container.insertBefore(e.element,this.container.children[r]):this.container.appendChild(e.element)),this.length++,e}remove(e){var r=this._views.indexOf(e);r>-1&&this._views.splice(r,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,r=this.length;if(this.length){for(var n=0;n<r;n++)e=this._views[n],this.destroy(e);this._views=[],this.length=0}}find(e){for(var r,n=this.length,i=0;i<n;i++)if(r=this._views[i],r.displayed&&r.section.index==e.index)return r}displayed(){for(var e=[],r,n=this.length,i=0;i<n;i++)r=this._views[i],r.displayed&&e.push(r);return e}show(){for(var e,r=this.length,n=0;n<r;n++)e=this._views[n],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,r=this.length,n=0;n<r;n++)e=this._views[n],e.displayed&&e.hide();this.hidden=!0}}class To{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new dd(this),this.settings=Dt(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Dt(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,r){let n=e.tagName;typeof this.settings.fullsize>"u"&&n&&(n.toLowerCase()=="body"||n.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=r,this.settings.rtlScrollType=dw(),this.stage=new yx({width:r.width,height:r.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new wx(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(r){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:r}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(fe.MANAGERS.ORIENTATION_CHANGE,r)}).bind(this),500)}onResized(e){this.resize()}resize(e,r,n){let i=this.stage.size(e,r);if(this.winBounds=ko(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===i.width&&this._stageSize.height===i.height||(this._stageSize=i,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(fe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},n))}createView(e,r){return new this.View(e,Dt(this.viewSettings,{forceRight:r}))}handleNextPrePaginated(e,r,n){let i;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||r.index===0)return;if(i=r.next(),i&&!i.properties.includes("page-spread-left"))return n.call(this,i)}}display(e,r){var n=new Le,i=n.promise;(r===e.href||st(r))&&(r=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let o=s.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let l=s.width();this.scrollTo(o.left+l,o.top,!0)}if(r){let l=s.locationOf(r),u=s.width();this.moveTo(l,u)}return n.resolve(),i}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then((function(o){if(r){let l=o.locationOf(r),u=o.width();this.moveTo(l,u)}}).bind(this),o=>{n.reject(o)}).then((function(){return this.handleNextPrePaginated(a,e,this.add)}).bind(this)).then((function(){this.views.show(),n.resolve()}).bind(this)),i}afterDisplayed(e){this.emit(fe.MANAGERS.ADDED,e)}afterResized(e){this.emit(fe.MANAGERS.RESIZE,e.section)}moveTo(e,r){var n=0,i=0;this.isPaginated?(n=Math.floor(e.left/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollWidth&&(n=this.container.scrollWidth-this.layout.delta),i=Math.floor(e.top/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollHeight&&(i=this.container.scrollHeight-this.layout.delta)):i=e.top,this.settings.direction==="rtl"&&(n=n+this.layout.delta,n=n-r),this.scrollTo(n,i,!0)}add(e,r){var n=this.createView(e,r);return this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(fe.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(fe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),n.display(this.request)}append(e,r){var n=this.createView(e,r);return this.views.append(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(fe.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(fe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),n.display(this.request)}prepend(e,r){var n=this.createView(e,r);return n.on(fe.VIEWS.RESIZED,i=>{this.counter(i)}),this.views.prepend(n),n.onDisplayed=this.afterDisplayed.bind(this),n.onResize=this.afterResized.bind(this),n.on(fe.VIEWS.AXIS,i=>{this.updateAxis(i)}),n.on(fe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),n.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,r;let n=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!n||n==="ltr")?(this.scrollLeft=this.container.scrollLeft,r=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,r<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&n==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(r=this.container.scrollLeft,r>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(r=this.container.scrollLeft+this.layout.delta*-1,r>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(i=!0),this.append(e,i).then((function(){return this.handleNextPrePaginated(i,e,this.append)}).bind(this),s=>s).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,r;let n=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!n||n==="ltr")?(this.scrollLeft=this.container.scrollLeft,r=this.container.scrollLeft,r>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&n==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(r=this.container.scrollLeft+this.container.offsetWidth,r<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(r=this.container.scrollLeft,r<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let i=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(i=!0),this.prepend(e,i).then((function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}).bind(this),s=>s).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),r=this.container.getBoundingClientRect(),n=r.height<window.innerHeight?r.height:window.innerHeight,i=r.width<window.innerWidth?r.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let a=0,o=0;return this.settings.fullsize&&(a=s?window.scrollY:window.scrollX),e.map(u=>{let{index:c,href:f}=u.section,m=u.position(),y=u.width(),S=u.height(),C,g,h,p;s?(C=a+r.top-m.top+o,g=C+n-o,p=this.layout.count(S,n).pages,h=n):(C=a+r.left-m.left+o,g=C+i-o,p=this.layout.count(y,i).pages,h=i);let x=Math.ceil(C/h),N=[],w=Math.ceil(g/h);if(this.settings.direction==="rtl"&&!s){let D=x;x=p-w,w=p-D}N=[];for(var b=x;b<=w;b++){let D=b+1;N.push(D)}let _=this.mapping.page(u.contents,u.section.cfiBase,C,g);return{index:c,href:f,pages:N,totalPages:p,mapping:_}})}paginatedLocation(){let e=this.visible(),r=this.container.getBoundingClientRect(),n=0,i=0;return this.settings.fullsize&&(n=window.scrollX),e.map(a=>{let{index:o,href:l}=a.section,u,c=a.position(),f=a.width(),m,y,S;this.settings.direction==="rtl"?(u=r.right-n,S=Math.min(Math.abs(u-c.left),this.layout.width)-i,y=c.width-(c.right-u)-i,m=y-S):(u=r.left+n,S=Math.min(c.right-u,this.layout.width)-i,m=u-c.left+i,y=m+S),i+=S;let C=this.mapping.page(a.contents,a.section.cfiBase,m,y),g=this.layout.count(f).pages,h=Math.floor(m/this.layout.pageWidth),p=[],x=Math.floor(y/this.layout.pageWidth);if(h<0&&(h=0,x=x+1),this.settings.direction==="rtl"){let w=h;h=g-x,x=g-w}for(var N=h+1;N<=x;N++){let w=N;p.push(w)}return{index:o,href:l,pages:p,totalPages:g,mapping:C}})}isVisible(e,r,n,i){var s=e.position(),a=i||this.bounds();return this.settings.axis==="horizontal"&&s.right>a.left-r&&s.left<a.right+n?!0:this.settings.axis==="vertical"&&s.bottom>a.top-r&&s.top<a.bottom+n}visible(){for(var e=this.bounds(),r=this.views.displayed(),n=r.length,i=[],s,a,o=0;o<n;o++)a=r[o],s=this.isVisible(a,0,0,e),s===!0&&i.push(a);return i}scrollBy(e,r,n){let i=this.settings.direction==="rtl"?-1:1;n&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*i,r*i):(e&&(this.container.scrollLeft+=e*i),r&&(this.container.scrollTop+=r)),this.scrolled=!0}scrollTo(e,r,n){n&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,r):(this.container.scrollLeft=e,this.container.scrollTop=r),this.scrolled=!0}onScroll(){let e,r;this.settings.fullsize?(e=window.scrollY,r=window.scrollX):(e=this.container.scrollTop,r=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=r,this.ignore?this.ignore=!1:(this.emit(fe.MANAGERS.SCROLL,{top:e,left:r}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(fe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Ao(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(r){r&&r.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,r){!r&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Ao(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,r="auto"){let n=e==="paginated"||e==="auto";this.isPaginated=n,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=n?"hidden":r,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(r){const n=r&&r.contents;n&&e.push(n)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}Hr(To.prototype);const xx=Math.PI/2,bx={easeOutSine:function(t){return Math.sin(t*xx)},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInCubic:function(t){return Math.pow(t,3)}};class ec{constructor(e,r){this.settings=Dt({duration:80,minVelocity:.2,minDistance:10,easing:bx.easeInCubic},r||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(fe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(fe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let r=e.contents;["touchstart","touchmove","touchend"].forEach(n=>{r.on(n,i=>this.triggerViewEvent(i,r))})}triggerViewEvent(e,r){this.emit(e.type,e,r)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:r,screenY:n}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=r,this.startTouchY=n,this.startTime=this.now()),this.endTouchX=r,this.endTouchY=n,this.endTime=this.now()}onTouchMove(e){let{screenX:r,screenY:n}=e.touches[0],i=Math.abs(n-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&i<10&&(this.element.scrollLeft-=r-this.endTouchX),this.endTouchX=r,this.endTouchY=n,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let r=this.wasSwiped();r!==0?this.snap(r):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,r=this.endTouchX-this.startTouchX,n=Math.abs(r),i=this.endTime-this.startTime,s=r/i,a=this.settings.minVelocity;if(n<=this.settings.minDistance||n>=e)return 0;if(s>a)return-1;if(s<-a)return 1}needsSnap(){let e=this.scrollLeft,r=this.layout.pageWidth*this.layout.divisor;return e%r!==0}snap(e=0){let r=this.scrollLeft,n=this.layout.pageWidth*this.layout.divisor,i=Math.round(r/n)*n;return e&&(i+=e*n),this.smoothScrollTo(i)}smoothScrollTo(e){const r=new Le,n=this.scrollLeft,i=this.now(),s=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){const l=this.now(),u=Math.min(1,(l-i)/s);if(a(u),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,r.resolve();return}u<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(n+(e-n)*u,0)):(this.scrollTo(e,0),this.snapping=!1,r.resolve())}return o.call(this),r.promise}scrollTo(e=0,r=0){this.fullsize?window.scroll(e,r):(this.scroller.scrollLeft=e,this.scroller.scrollTop=r)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}Hr(ec.prototype);class Ex extends To{constructor(e){super(e),this.name="continuous",this.settings=Dt(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Dt(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,r){return To.prototype.display.call(this,e,r).then((function(){return this.fill()}).bind(this))}fill(e){var r=e||new Le;return this.q.enqueue(()=>this.check()).then(n=>{n?this.fill(r):r.resolve()}),r.promise}moveTo(e){var r=0,n=0;this.isPaginated?(r=Math.floor(e.left/this.layout.delta)*this.layout.delta,r+this.settings.offsetDelta):(n=e.top,e.top+this.settings.offsetDelta),(r>0||n>0)&&this.scrollBy(r,n,!0)}afterResized(e){this.emit(fe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var r=this.createView(e);return this.views.append(r),r.on(fe.VIEWS.RESIZED,n=>{r.expanded=!0}),r.on(fe.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(fe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),r.onDisplayed=this.afterDisplayed.bind(this),r.onResize=this.afterResized.bind(this),r.display(this.request)}append(e){var r=this.createView(e);return r.on(fe.VIEWS.RESIZED,n=>{r.expanded=!0}),r.on(fe.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(fe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),this.views.append(r),r.onDisplayed=this.afterDisplayed.bind(this),r}prepend(e){var r=this.createView(e);return r.on(fe.VIEWS.RESIZED,n=>{this.counter(n),r.expanded=!0}),r.on(fe.VIEWS.AXIS,n=>{this.updateAxis(n)}),r.on(fe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),this.views.prepend(r),r.onDisplayed=this.afterDisplayed.bind(this),r}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var r=this.bounds(),n=this.views.all(),i=n.length,s=typeof e<"u"?e:this.settings.offset||0,a,o,l=new Le,u=[],c=0;c<i;c++)if(o=n[c],a=this.isVisible(o,s,s,r),a===!0)if(o.displayed)o.show();else{let f=o.display(this.request).then(function(m){m.show()},m=>{o.hide()});u.push(f)}else this.q.enqueue(o.destroy.bind(o)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return u.length?Promise.all(u).catch(f=>{l.reject(f)}):(l.resolve(),l.promise)}check(e,r){var n=new Le,i=[],s=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&s&&(a=e),r&&!s&&(a=r);var o=this._bounds;let l=s?this.scrollLeft:this.scrollTop,u=s?Math.floor(o.width):o.height,c=s?this.container.scrollWidth:this.container.scrollHeight,f=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",m=this.settings.rtlScrollType,y=this.settings.direction==="rtl";this.settings.fullsize?(s&&y&&m==="negative"||!s&&y&&m==="default")&&(l=l*-1):(y&&m==="default"&&f==="horizontal"&&(l=c-u-l),y&&m==="negative"&&f==="horizontal"&&(l=l*-1));let S=()=>{let x=this.views.first(),N=x&&x.section.prev();N&&i.push(this.prepend(N))},C=()=>{let x=this.views.last(),N=x&&x.section.next();N&&i.push(this.append(N))},g=l+u+a,h=l-a;g>=c&&C(),h<0&&S();let p=i.map(x=>x.display(this.request));return i.length?Promise.all(p).then(()=>this.check()).then(()=>this.update(a),x=>x):(this.q.enqueue((function(){this.update()}).bind(this)),n.resolve(!1),n.promise)}trim(){for(var e=new Le,r=this.views.displayed(),n=r[0],i=r[r.length-1],s=this.views.indexOf(n),a=this.views.indexOf(i),o=this.views.slice(0,s),l=this.views.slice(a+1),u=0;u<o.length-1;u++)this.erase(o[u],o);for(var c=1;c<l.length;c++)this.erase(l[c]);return e.resolve(),e.promise}erase(e,r){var n,i;this.settings.fullsize?(n=window.scrollY,i=window.scrollX):(n=this.container.scrollTop,i=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),r&&(this.settings.axis==="vertical"?this.scrollTo(0,n-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(i+Math.floor(s.width),0,!0):this.scrollTo(i,0,!0):this.scrollTo(i-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(r){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new ec(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=ld;let r=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*r,this.scrollLeft=window.scrollX*r):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=dx(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,r,n=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*n,r=window.scrollX*n):(e=this.container.scrollTop,r=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=r,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(r-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=r,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(fe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(fe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new ec(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class md{constructor(e,r){this.settings=Dt(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Dt(this.settings,r),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Dr(this),this.hooks.serialize=new Dr(this),this.hooks.content=new Dr(this),this.hooks.unloaded=new Dr(this),this.hooks.layout=new Dr(this),this.hooks.render=new Dr(this),this.hooks.show=new Dr(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new X1(this),this.annotations=new ew(this),this.epubcfi=new Be,this.q=new dd(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Le,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var r;return typeof e=="string"&&e==="default"?r=To:typeof e=="string"&&e==="continuous"?r=Ex:r=e,r}requireView(e){var r;return typeof e=="string"&&e==="iframe"?r=Qg:r=e,r}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(fe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(fe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(fe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(fe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(fe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(fe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(fe.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var r=new Le,n=r.promise,i;return this.displaying=r,this.book.locations.length()&&Tg(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),i=this.book.spine.get(e),i?(this.manager.display(i,e).then(()=>{r.resolve(i),this.displaying=void 0,this.emit(fe.RENDITION.DISPLAYED,i),this.reportLocation()},s=>{this.emit(fe.RENDITION.DISPLAY_ERROR,s)}),n):(r.reject(new Error("No Section Found")),n)}}afterDisplayed(e){e.on(fe.VIEWS.MARK_CLICKED,(r,n)=>this.triggerMarkEvent(r,n,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(fe.RENDITION.RENDERED,e.section,e)}):this.emit(fe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(fe.RENDITION.REMOVED,e.section,e)})}onResized(e,r){this.emit(fe.RENDITION.RESIZED,{width:e.width,height:e.height},r),this.location&&this.location.start&&this.display(r||this.location.start.cfi)}onOrientationChange(e){this.emit(fe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,r,n){e&&(this.settings.width=e),r&&(this.settings.height=r),this.manager.resize(e,r,n)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var r,n=this.settings.layout||e.layout||"reflowable",i=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",l=this.settings.minSpreadWidth||e.minSpreadWidth||800,u=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),r={layout:n,spread:i,orientation:s,flow:a,viewport:o,minSpreadWidth:l,direction:u},r}flow(e){var r=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(r="scrolled"),(e==="auto"||e==="paginated")&&(r="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(r),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(r),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new Wg(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(fe.LAYOUT.UPDATED,(r,n)=>{this.emit(fe.RENDITION.LAYOUT,r,n)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,r){this.settings.spread=e,r&&(this.settings.minSpreadWidth=r),this._layout&&this._layout.spread(e,r),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var n=this.manager.currentLocation();if(n&&n.then&&typeof n.then=="function")n.then((function(i){let s=this.located(i);!s||!s.start||!s.end||(this.location=s,this.emit(fe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(fe.RENDITION.RELOCATED,this.location))}).bind(this));else if(n){let i=this.located(n);if(!i||!i.start||!i.end)return;this.location=i,this.emit(fe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(fe.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(r){return this.located(r)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let r=e[0],n=e[e.length-1],i={start:{index:r.index,href:r.href,cfi:r.mapping.start,displayed:{page:r.pages[0]||1,total:r.totalPages}},end:{index:n.index,href:n.href,cfi:n.mapping.end,displayed:{page:n.pages[n.pages.length-1]||1,total:n.totalPages}}},s=this.book.locations.locationFromCfi(r.mapping.start),a=this.book.locations.locationFromCfi(n.mapping.end);s!=null&&(i.start.location=s,i.start.percentage=this.book.locations.percentageFromLocation(s)),a!=null&&(i.end.location=a,i.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(r.mapping.start),l=this.book.pageList.pageFromCfi(n.mapping.end);return o!=-1&&(i.start.page=o),l!=-1&&(i.end.page=l),n.index===this.book.spine.last().index&&i.end.displayed.page>=i.end.displayed.total&&(i.atEnd=!0),r.index===this.book.spine.first().index&&i.start.displayed.page===1&&(i.atStart=!0),i}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){$a.forEach(r=>{e.on(r,n=>this.triggerViewEvent(n,e))}),e.on(fe.CONTENTS.SELECTED,r=>this.triggerSelectedEvent(r,e))}triggerViewEvent(e,r){this.emit(e.type,e,r)}triggerSelectedEvent(e,r){this.emit(fe.RENDITION.SELECTED,e,r)}triggerMarkEvent(e,r,n){this.emit(fe.RENDITION.MARK_CLICKED,e,r,n)}getRange(e,r){var n=new Be(e),i=this.manager.visible().filter(function(s){if(n.spinePos===s.index)return!0});if(i.length)return i[0].contents.range(n,r)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let r=e.window.getComputedStyle(e.content,null),n=(e.content.offsetHeight-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)))*.95,i=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":n+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-i+"px":"100%")+"!important","max-height":n+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,a){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(fe.CONTENTS.LINK_CLICKED,r=>{let n=this.book.path.relative(r);this.display(n)})}injectStylesheet(e,r){let n=e.createElement("link");n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(n)}injectScript(e,r){let n=e.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",this.settings.script),n.textContent=" ",e.getElementsByTagName("head")[0].appendChild(n)}injectIdentifier(e,r){let n=this.book.packaging.metadata.identifier,i=e.createElement("meta");i.setAttribute("name","dc.relation.ispartof"),n&&i.setAttribute("content",n),e.getElementsByTagName("head")[0].appendChild(i)}}Hr(md.prototype);function xn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nv={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function a(u,c){if(!i[u]){if(!n[u]){var f=typeof xn=="function"&&xn;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var y=i[u]={exports:{}};n[u][0].call(y.exports,function(S){var C=n[u][1][S];return a(C||S)},y,y.exports,r,n,i,s)}return i[u].exports}for(var o=typeof xn=="function"&&xn,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u=[],c,f,m,y,S,C,g,h=0,p=l.length,x=p,N=s.getTypeOf(l)!=="string";h<l.length;)x=p-h,N?(c=l[h++],f=h<p?l[h++]:0,m=h<p?l[h++]:0):(c=l.charCodeAt(h++),f=h<p?l.charCodeAt(h++):0,m=h<p?l.charCodeAt(h++):0),y=c>>2,S=(c&3)<<4|f>>4,C=x>1?(f&15)<<2|m>>6:64,g=x>2?m&63:64,u.push(o.charAt(y)+o.charAt(S)+o.charAt(C)+o.charAt(g));return u.join("")},i.decode=function(l){var u,c,f,m,y,S,C,g=0,h=0,p="data:";if(l.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");l=l.replace(/[^A-Za-z0-9+/=]/g,"");var x=l.length*3/4;if(l.charAt(l.length-1)===o.charAt(64)&&x--,l.charAt(l.length-2)===o.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var N;for(a.uint8array?N=new Uint8Array(x|0):N=new Array(x|0);g<l.length;)m=o.indexOf(l.charAt(g++)),y=o.indexOf(l.charAt(g++)),S=o.indexOf(l.charAt(g++)),C=o.indexOf(l.charAt(g++)),u=m<<2|y>>4,c=(y&15)<<4|S>>2,f=(S&3)<<6|C,N[h++]=u,S!==64&&(N[h++]=c),C!==64&&(N[h++]=f);return N}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function u(c,f,m,y,S){this.compressedSize=c,this.uncompressedSize=f,this.crc32=m,this.compression=y,this.compressedContent=S}u.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,m){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils");function a(){for(var c,f=[],m=0;m<256;m++){c=m;for(var y=0;y<8;y++)c=c&1?3988292384^c>>>1:c>>>1;f[m]=c}return f}var o=a();function l(c,f,m,y){var S=o,C=y+m;c=c^-1;for(var g=y;g<C;g++)c=c>>>8^S[(c^f[g])&255];return c^-1}function u(c,f,m,y){var S=o,C=y+m;c=c^-1;for(var g=y;g<C;g++)c=c>>>8^S[(c^f.charCodeAt(g))&255];return c^-1}n.exports=function(f,m){if(typeof f>"u"||!f.length)return 0;var y=s.getTypeOf(f)!=="string";return y?l(m|0,f,f.length,0):u(m|0,f,f.length,0)}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;typeof Promise<"u"?s=Promise:s=r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),u=s?"uint8array":"array";i.magic="\b\0";function c(f,m){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=m,this.meta={}}o.inherits(c,l),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(m){f.push({data:m,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker"),o=r("../utf8"),l=r("../crc32"),u=r("../signature"),c=function(h,p){var x="",N;for(N=0;N<p;N++)x+=String.fromCharCode(h&255),h=h>>>8;return x},f=function(h,p){var x=h;return h||(x=p?16893:33204),(x&65535)<<16},m=function(h){return(h||0)&63},y=function(h,p,x,N,w,b){var _=h.file,D=h.compression,j=b!==o.utf8encode,R=s.transformTo("string",b(_.name)),L=s.transformTo("string",o.utf8encode(_.name)),W=_.comment,J=s.transformTo("string",b(W)),ue=s.transformTo("string",o.utf8encode(W)),ie=L.length!==_.name.length,ae=ue.length!==W.length,oe,H,le="",me="",be="",ce=_.dir,Te=_.date,ke={crc32:0,compressedSize:0,uncompressedSize:0};(!p||x)&&(ke.crc32=h.crc32,ke.compressedSize=h.compressedSize,ke.uncompressedSize=h.uncompressedSize);var Ye=0;p&&(Ye|=8),!j&&(ie||ae)&&(Ye|=2048);var de=0,xe=0;ce&&(de|=16),w==="UNIX"?(xe=798,de|=f(_.unixPermissions,ce)):(xe=20,de|=m(_.dosPermissions)),oe=Te.getUTCHours(),oe=oe<<6,oe=oe|Te.getUTCMinutes(),oe=oe<<5,oe=oe|Te.getUTCSeconds()/2,H=Te.getUTCFullYear()-1980,H=H<<4,H=H|Te.getUTCMonth()+1,H=H<<5,H=H|Te.getUTCDate(),ie&&(me=c(1,1)+c(l(R),4)+L,le+="up"+c(me.length,2)+me),ae&&(be=c(1,1)+c(l(J),4)+ue,le+="uc"+c(be.length,2)+be);var _e="";_e+=`
\0`,_e+=c(Ye,2),_e+=D.magic,_e+=c(oe,2),_e+=c(H,2),_e+=c(ke.crc32,4),_e+=c(ke.compressedSize,4),_e+=c(ke.uncompressedSize,4),_e+=c(R.length,2),_e+=c(le.length,2);var Re=u.LOCAL_FILE_HEADER+_e+R+le,$e=u.CENTRAL_FILE_HEADER+c(xe,2)+_e+c(J.length,2)+"\0\0\0\0"+c(de,4)+c(N,4)+R+le+J;return{fileRecord:Re,dirRecord:$e}},S=function(h,p,x,N,w){var b="",_=s.transformTo("string",w(N));return b=u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(h,2)+c(h,2)+c(p,4)+c(x,4)+c(_.length,2)+_,b},C=function(h){var p="";return p=u.DATA_DESCRIPTOR+c(h.crc32,4)+c(h.compressedSize,4)+c(h.uncompressedSize,4),p};function g(h,p,x,N){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=x,this.encodeFileName=N,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(g,a),g.prototype.push=function(h){var p=h.meta.percent||0,x=this.entriesCount,N=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,a.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:x?(p+100*(x-N-1))/x:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var x=y(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,x=y(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),p)this.push({data:C(h),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var x=this.bytesWritten-h,N=S(this.dirRecords.length,x,h,this.zipComment,this.encodeFileName);this.push({data:N,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(x){p.processChunk(x)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(x){p.error(x)}),this},g.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},g.prototype.error=function(h){var p=this._sources;if(!a.prototype.error.call(this,h))return!1;for(var x=0;x<p.length;x++)try{p[x].error(h)}catch{}return!0},g.prototype.lock=function(){a.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker"),o=function(l,u){var c=l||u,f=s[c];if(!f)throw new Error(c+" is not a valid compression method !");return f};i.generateWorker=function(l,u,c){var f=new a(u.streamFiles,c,u.platform,u.encodeFileName),m=0;try{l.forEach(function(y,S){m++;var C=o(S.options.compression,u.compression),g=S.options.compressionOptions||u.compressionOptions||{},h=S.dir,p=S.date;S._compressWorker(C,g).withStreamInfo("file",{name:y,dir:h,date:p,comment:S.comment||"",unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions}).pipe(f)}),f.entriesCount=m}catch(y){f.error(y)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}s.prototype=r("./object"),s.prototype.loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),u=r("./stream/Crc32Probe"),c=r("./nodejsUtils");function f(m){return new a.Promise(function(y,S){var C=m.decompressed.getContentWorker().pipe(new u);C.on("error",function(g){S(g)}).on("end",function(){C.streamInfo.crc32!==m.decompressed.crc32?S(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(m,y){var S=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,y.optimizedBinaryString,y.base64).then(function(C){var g=new l(y);return g.load(C),g}).then(function(g){var h=[a.Promise.resolve(g)],p=g.files;if(y.checkCRC32)for(var x=0;x<p.length;x++)h.push(f(p[x]));return a.Promise.all(h)}).then(function(g){for(var h=g.shift(),p=h.files,x=0;x<p.length;x++){var N=p[x],w=N.fileNameStr,b=s.resolve(N.fileNameStr);S.file(b,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:y.createFolders}),N.dir||(S.file(b).unsafeOriginalName=w)}return h.zipComment.length&&(S.comment=h.zipComment),S})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;this._stream=l,l.pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable,a=r("../utils");a.inherits(o,s);function o(l,u,c){s.call(this,u),this._helper=l;var f=this;l.on("data",function(m,y){f.push(m)||f._helper.pause(),c&&c(y)}).on("error",function(m){f.emit("error",m)}).on("end",function(){f.push(null)})}o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){var s=r("./utf8"),a=r("./utils"),o=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),u=r("./defaults"),c=r("./compressedObject"),f=r("./zipObject"),m=r("./generate"),y=r("./nodejsUtils"),S=r("./nodejs/NodejsStreamInputAdapter"),C=function(w,b,_){var D=a.getTypeOf(b),j,R=a.extend(_||{},u);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&R.unixPermissions&16384&&(R.dir=!0),R.dosPermissions&&R.dosPermissions&16&&(R.dir=!0),R.dir&&(w=h(w)),R.createFolders&&(j=g(w))&&p.call(this,j,!0);var L=D==="string"&&R.binary===!1&&R.base64===!1;(!_||typeof _.binary>"u")&&(R.binary=!L);var W=b instanceof c&&b.uncompressedSize===0;(W||R.dir||!b||b.length===0)&&(R.base64=!1,R.binary=!0,b="",R.compression="STORE",D="string");var J=null;b instanceof c||b instanceof o?J=b:y.isNode&&y.isStream(b)?J=new S(w,b):J=a.prepareContent(w,b,R.binary,R.optimizedBinaryString,R.base64);var ue=new f(w,J,R);this.files[w]=ue},g=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var b=w.lastIndexOf("/");return b>0?w.substring(0,b):""},h=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},p=function(w,b){return b=typeof b<"u"?b:u.createFolders,w=h(w),this.files[w]||C.call(this,w,null,{dir:!0,createFolders:b}),this.files[w]};function x(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var b,_,D;for(b in this.files)D=this.files[b],_=b.slice(this.root.length,b.length),_&&b.slice(0,this.root.length)===this.root&&w(_,D)},filter:function(w){var b=[];return this.forEach(function(_,D){w(_,D)&&b.push(D)}),b},file:function(w,b,_){if(arguments.length===1)if(x(w)){var D=w;return this.filter(function(R,L){return!L.dir&&D.test(R)})}else{var j=this.files[this.root+w];return j&&!j.dir?j:null}else w=this.root+w,C.call(this,w,b,_);return this},folder:function(w){if(!w)return this;if(x(w))return this.filter(function(j,R){return R.dir&&w.test(j)});var b=this.root+w,_=p.call(this,b),D=this.clone();return D.root=_.name,D},remove:function(w){w=this.root+w;var b=this.files[w];if(b||(w.slice(-1)!=="/"&&(w+="/"),b=this.files[w]),b&&!b.dir)delete this.files[w];else for(var _=this.filter(function(j,R){return R.name.slice(0,w.length)===w}),D=0;D<_.length;D++)delete this.files[_[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var b,_={};try{if(_=a.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),_.type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring"&&(_.type="string"),!_.type)throw new Error("No output type specified.");a.checkSupport(_.type),(_.platform==="darwin"||_.platform==="freebsd"||_.platform==="linux"||_.platform==="sunos")&&(_.platform="UNIX"),_.platform==="win32"&&(_.platform="DOS");var D=_.comment||this.comment||"";b=m.generateWorker(this,_,D)}catch(j){b=new o("error"),b.error(j)}return new l(b,_.type||"string",_.mimeType)},generateAsync:function(w,b){return this.generateInternalStream(w).accumulate(b)},generateNodeStream:function(w,b){return w=w||{},w.type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(b)}};n.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader"),a=r("../utils");function o(l){s.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=l[u]&255}a.inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),c=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),y=this.length-4;y>=0;--y)if(this.data[y]===u&&this.data[y+1]===c&&this.data[y+2]===f&&this.data[y+3]===m)return y-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),c=l.charCodeAt(1),f=l.charCodeAt(2),m=l.charCodeAt(3),y=this.readData(4);return u===y[0]&&c===y[1]&&f===y[2]&&m===y[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l=0,u;for(this.checkOffset(o),u=this.index+o-1;u>=this.index;u--)l=(l<<8)+this.byteAt(u);return this.index+=o,l},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader"),a=r("../utils");function o(l){s.call(this,l)}a.inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader"),a=r("../utils");function o(l){s.call(this,l)}a.inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){var u=this.readData(4);return l===u},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader"),a=r("../utils");function o(l){s.call(this,l)}a.inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),u=r("./NodeBufferReader"),c=r("./Uint8ArrayReader");n.exports=function(f){var m=s.getTypeOf(f);return s.checkSupport(m),m==="string"&&!a.uint8array?new l(f):m==="nodebuffer"?new u(f):a.uint8array?new c(s.transformTo("uint8array",f)):new o(s.transformTo("array",f))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32"),o=r("../utils");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(l,s),l.prototype.processChunk=function(u){this.streamInfo.crc32=a(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker"),o=16*1024;function l(u){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=s.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}s.inherits(l,a),l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=o,c=null,f=Math.min(this.max,this.index+u);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f);break}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),u=r("../support"),c=r("../external"),f=null;if(u.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(g,h,p){switch(g){case"blob":return s.newBlob(s.transformTo("arraybuffer",h),p);case"base64":return l.encode(h);default:return s.transformTo(g,h)}}function y(g,h){var p,x=0,N=null,w=0;for(p=0;p<h.length;p++)w+=h[p].length;switch(g){case"string":return h.join("");case"array":return Array.prototype.concat.apply([],h);case"uint8array":for(N=new Uint8Array(w),p=0;p<h.length;p++)N.set(h[p],x),x+=h[p].length;return N;case"nodebuffer":return Buffer.concat(h);default:throw new Error("concat : unsupported type '"+g+"'")}}function S(g,h){return new c.Promise(function(p,x){var N=[],w=g._internalType,b=g._outputType,_=g._mimeType;g.on("data",function(D,j){N.push(D),h&&h(j)}).on("error",function(D){N=[],x(D)}).on("end",function(){try{var D=m(b,y(w,N),_);p(D)}catch(j){x(j)}N=[]}).resume()})}function C(g,h,p){var x=h;switch(h){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=h,this._mimeType=p,s.checkSupport(x),this._worker=g.pipe(new a(x)),g.lock()}catch(N){this._worker=new o("error"),this._worker.error(N)}}C.prototype={accumulate:function(g){return S(this,g)},on:function(g,h){var p=this;return g==="data"?this._worker.on(g,function(x){h.call(p,x.data,x.meta)}):this._worker.on(g,function(){s.delay(h,arguments,p)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=C},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;u[254]=u[254]=1;var f=function(g){var h,p,x,N,w,b=g.length,_=0;for(N=0;N<b;N++)p=g.charCodeAt(N),(p&64512)===55296&&N+1<b&&(x=g.charCodeAt(N+1),(x&64512)===56320&&(p=65536+(p-55296<<10)+(x-56320),N++)),_+=p<128?1:p<2048?2:p<65536?3:4;for(a.uint8array?h=new Uint8Array(_):h=new Array(_),w=0,N=0;w<_;N++)p=g.charCodeAt(N),(p&64512)===55296&&N+1<b&&(x=g.charCodeAt(N+1),(x&64512)===56320&&(p=65536+(p-55296<<10)+(x-56320),N++)),p<128?h[w++]=p:p<2048?(h[w++]=192|p>>>6,h[w++]=128|p&63):p<65536?(h[w++]=224|p>>>12,h[w++]=128|p>>>6&63,h[w++]=128|p&63):(h[w++]=240|p>>>18,h[w++]=128|p>>>12&63,h[w++]=128|p>>>6&63,h[w++]=128|p&63);return h},m=function(g,h){var p;for(h=h||g.length,h>g.length&&(h=g.length),p=h-1;p>=0&&(g[p]&192)===128;)p--;return p<0||p===0?h:p+u[g[p]]>h?p:h},y=function(g){var h,p,x,N,w=g.length,b=new Array(w*2);for(p=0,h=0;h<w;){if(x=g[h++],x<128){b[p++]=x;continue}if(N=u[x],N>4){b[p++]=65533,h+=N-1;continue}for(x&=N===2?31:N===3?15:7;N>1&&h<w;)x=x<<6|g[h++]&63,N--;if(N>1){b[p++]=65533;continue}x<65536?b[p++]=x:(x-=65536,b[p++]=55296|x>>10&1023,b[p++]=56320|x&1023)}return b.length!==p&&(b.subarray?b=b.subarray(0,p):b.length=p),s.applyFromCharCode(b)};i.utf8encode=function(h){return a.nodebuffer?o.newBufferFrom(h,"utf-8"):f(h)},i.utf8decode=function(h){return a.nodebuffer?s.transformTo("nodebuffer",h).toString("utf-8"):(h=s.transformTo(a.uint8array?"uint8array":"array",h),y(h))};function S(){l.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(S,l),S.prototype.processChunk=function(g){var h=s.transformTo(a.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var p=h;h=new Uint8Array(p.length+this.leftOver.length),h.set(this.leftOver,0),h.set(p,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var x=m(h),N=h;x!==h.length&&(a.uint8array?(N=h.subarray(0,x),this.leftOver=h.subarray(x,h.length)):(N=h.slice(0,x),this.leftOver=h.slice(x,h.length))),this.push({data:i.utf8decode(N),meta:g.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=S;function C(){l.call(this,"utf-8 encode")}s.inherits(C,l),C.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=C},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");r("setimmediate");function u(g){var h=null;return s.uint8array?h=new Uint8Array(g.length):h=new Array(g.length),f(g,h)}i.newBlob=function(g,h){i.checkSupport("blob");try{return new Blob([g],{type:h})}catch{try{var p=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new p;return x.append(g),x.getBlob(h)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(g){return g}function f(g,h){for(var p=0;p<g.length;++p)h[p]=g.charCodeAt(p)&255;return h}var m={stringifyByChunk:function(g,h,p){var x=[],N=0,w=g.length;if(w<=p)return String.fromCharCode.apply(null,g);for(;N<w;)h==="array"||h==="nodebuffer"?x.push(String.fromCharCode.apply(null,g.slice(N,Math.min(N+p,w)))):x.push(String.fromCharCode.apply(null,g.subarray(N,Math.min(N+p,w)))),N+=p;return x.join("")},stringifyByChar:function(g){for(var h="",p=0;p<g.length;p++)h+=String.fromCharCode(g[p]);return h},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function y(g){var h=65536,p=i.getTypeOf(g),x=!0;if(p==="uint8array"?x=m.applyCanBeUsed.uint8array:p==="nodebuffer"&&(x=m.applyCanBeUsed.nodebuffer),x)for(;h>1;)try{return m.stringifyByChunk(g,p,h)}catch{h=Math.floor(h/2)}return m.stringifyByChar(g)}i.applyFromCharCode=y;function S(g,h){for(var p=0;p<g.length;p++)h[p]=g[p];return h}var C={};C.string={string:c,array:function(g){return f(g,new Array(g.length))},arraybuffer:function(g){return C.string.uint8array(g).buffer},uint8array:function(g){return f(g,new Uint8Array(g.length))},nodebuffer:function(g){return f(g,o.allocBuffer(g.length))}},C.array={string:y,array:c,arraybuffer:function(g){return new Uint8Array(g).buffer},uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(g)}},C.arraybuffer={string:function(g){return y(new Uint8Array(g))},array:function(g){return S(new Uint8Array(g),new Array(g.byteLength))},arraybuffer:c,uint8array:function(g){return new Uint8Array(g)},nodebuffer:function(g){return o.newBufferFrom(new Uint8Array(g))}},C.uint8array={string:y,array:function(g){return S(g,new Array(g.length))},arraybuffer:function(g){return g.buffer},uint8array:c,nodebuffer:function(g){return o.newBufferFrom(g)}},C.nodebuffer={string:y,array:function(g){return S(g,new Array(g.length))},arraybuffer:function(g){return C.nodebuffer.uint8array(g).buffer},uint8array:function(g){return S(g,new Uint8Array(g.length))},nodebuffer:c},i.transformTo=function(g,h){if(h||(h=""),!g)return h;i.checkSupport(g);var p=i.getTypeOf(h),x=C[p][g](h);return x},i.resolve=function(g){for(var h=g.split("/"),p=[],x=0;x<h.length;x++){var N=h[x];N==="."||N===""&&x!==0&&x!==h.length-1||(N===".."?p.pop():p.push(N))}return p.join("/")},i.getTypeOf=function(g){if(typeof g=="string")return"string";if(Object.prototype.toString.call(g)==="[object Array]")return"array";if(s.nodebuffer&&o.isBuffer(g))return"nodebuffer";if(s.uint8array&&g instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&g instanceof ArrayBuffer)return"arraybuffer"},i.checkSupport=function(g){var h=s[g.toLowerCase()];if(!h)throw new Error(g+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(g){var h="",p,x;for(x=0;x<(g||"").length;x++)p=g.charCodeAt(x),h+="\\x"+(p<16?"0":"")+p.toString(16).toUpperCase();return h},i.delay=function(g,h,p){setImmediate(function(){g.apply(p||null,h||[])})},i.inherits=function(g,h){var p=function(){};p.prototype=h.prototype,g.prototype=new p},i.extend=function(){var g={},h,p;for(h=0;h<arguments.length;h++)for(p in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],p)&&typeof g[p]>"u"&&(g[p]=arguments[h][p]);return g},i.prepareContent=function(g,h,p,x,N){var w=l.Promise.resolve(h).then(function(b){var _=s.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1);return _&&typeof FileReader<"u"?new l.Promise(function(D,j){var R=new FileReader;R.onload=function(L){D(L.target.result)},R.onerror=function(L){j(L.target.error)},R.readAsArrayBuffer(b)}):b});return w.then(function(b){var _=i.getTypeOf(b);return _?(_==="arraybuffer"?b=i.transformTo("uint8array",b):_==="string"&&(N?b=a.decode(b):p&&x!==!0&&(b=u(b))),b):l.Promise.reject(new Error("Can't read the data of '"+g+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),u=r("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(f)+")")}},isSignature:function(f,m){var y=this.reader.index;this.reader.setIndex(f);var S=this.reader.readString(4),C=S===m;return this.reader.setIndex(y),C},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",y=a.transformTo(m,f);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f=this.zip64EndOfCentralSize-44,m=0,y,S,C;m<f;)y=this.reader.readInt(2),S=this.reader.readInt(4),C=this.reader.readData(S),this.zip64ExtensibleData[y]={id:y,length:S,value:C}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,m;for(f=0;f<this.files.length;f++)m=this.files[f],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)f=new l({zip64:this.zip64},this.loadOptions),f.readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0){var m=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw m?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(f);var y=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),f<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var S=this.centralDirOffset+this.centralDirSize;this.zip64&&(S+=20,S+=12+this.zip64EndOfCentralSize);var C=y-S;if(C>0)this.isSignature(y,o.CENTRAL_FILE_HEADER)||(this.reader.zero=C);else if(C<0)throw new Error("Corrupted zip: missing "+Math.abs(C)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),u=r("./utf8"),c=r("./compressions"),f=r("./support"),m=0,y=3,S=function(g){for(var h in c)if(Object.prototype.hasOwnProperty.call(c,h)&&c[h].magic===g)return c[h];return null};function C(g,h){this.options=g,this.loadOptions=h}C.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(g){var h,p;if(g.skip(22),this.fileNameLength=g.readInt(2),p=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(p),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(h=S(this.compressionMethod),h===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,h,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var h=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(h),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),g===m&&(this.dosPermissions=this.externalFileAttributes&63),g===y&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var h=g.index+this.extraFieldsLength,p,x,N;for(this.extraFields||(this.extraFields={});g.index+4<h;)p=g.readInt(2),x=g.readInt(2),N=g.readData(x),this.extraFields[p]={id:p,length:x,value:N};g.setIndex(h)},handleUTF8:function(){var g=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var p=a.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(p)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var N=a.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(N)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var h=s(g.value);return h.readInt(1)!==1||l(this.fileName)!==h.readInt(4)?null:u.utf8decode(h.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var h=s(g.value);return h.readInt(1)!==1||l(this.fileComment)!==h.readInt(4)?null:u.utf8decode(h.readData(g.length-5))}return null}},n.exports=C},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){var s=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),o=r("./utf8"),l=r("./compressedObject"),u=r("./stream/GenericWorker"),c=function(S,C,g){this.name=S,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=C,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}};c.prototype={internalStream:function(S){var C=null,g="string";try{if(!S)throw new Error("No output type specified.");g=S.toLowerCase();var h=g==="string"||g==="text";(g==="binarystring"||g==="text")&&(g="string"),C=this._decompressWorker();var p=!this._dataBinary;p&&!h&&(C=C.pipe(new o.Utf8EncodeWorker)),!p&&h&&(C=C.pipe(new o.Utf8DecodeWorker))}catch(x){C=new u("error"),C.error(x)}return new s(C,g,"")},async:function(S,C){return this.internalStream(S).accumulate(C)},nodeStream:function(S,C){return this.internalStream(S||"nodebuffer").toNodejsStream(C)},_compressWorker:function(S,C){if(this._data instanceof l&&this._data.compression.magic===S.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new o.Utf8EncodeWorker)),l.createWorkerFrom(g,S,C)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<f.length;y++)c.prototype[f[y]]=m;n.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var l=0,u=new a(S),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),o=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=S,o=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){S(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:o=function(){setTimeout(S,0)};var m,y=[];function S(){m=!0;for(var g,h,p=y.length;p;){for(h=y,y=[],g=-1;++g<p;)h[g]();p=y.length}m=!1}n.exports=C;function C(g){y.push(g)===1&&!m&&o()}}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];n.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,w!==a&&C(this,w)}f.prototype.finally=function(w){if(typeof w!="function")return this;var b=this.constructor;return this.then(_,D);function _(j){function R(){return j}return b.resolve(w()).then(R)}function D(j){function R(){throw j}return b.resolve(w()).then(R)}},f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,b){if(typeof w!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var _=new this.constructor(a);if(this.state!==c){var D=this.state===u?w:b;y(_,D,this.outcome)}else this.queue.push(new m(_,w,b));return _};function m(w,b,_){this.promise=w,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(w){o.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){y(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){o.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){y(this.promise,this.onRejected,w)};function y(w,b,_){s(function(){var D;try{D=b(_)}catch(j){return o.reject(w,j)}D===w?o.reject(w,new TypeError("Cannot resolve promise with itself")):o.resolve(w,D)})}o.resolve=function(w,b){var _=g(S,b);if(_.status==="error")return o.reject(w,_.value);var D=_.value;if(D)C(w,D);else{w.state=u,w.outcome=b;for(var j=-1,R=w.queue.length;++j<R;)w.queue[j].callFulfilled(b)}return w},o.reject=function(w,b){w.state=l,w.outcome=b;for(var _=-1,D=w.queue.length;++_<D;)w.queue[_].callRejected(b);return w};function S(w){var b=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof b=="function")return function(){b.apply(w,arguments)}}function C(w,b){var _=!1;function D(W){_||(_=!0,o.reject(w,W))}function j(W){_||(_=!0,o.resolve(w,W))}function R(){b(j,D)}var L=g(R);L.status==="error"&&D(L.value)}function g(w,b){var _={};try{_.value=w(b),_.status="success"}catch(D){_.status="error",_.value=D}return _}f.resolve=h;function h(w){return w instanceof this?w:o.resolve(new this(a),w)}f.reject=p;function p(w){var b=new this(a);return o.reject(b,w)}f.all=x;function x(w){var b=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,D=!1;if(!_)return this.resolve([]);for(var j=new Array(_),R=0,L=-1,W=new this(a);++L<_;)J(w[L],L);return W;function J(ue,ie){b.resolve(ue).then(ae,function(oe){D||(D=!0,o.reject(W,oe))});function ae(oe){j[ie]=oe,++R===_&&!D&&(D=!0,o.resolve(W,j))}}}f.race=N;function N(w){var b=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,D=!1;if(!_)return this.resolve([]);for(var j=-1,R=new this(a);++j<_;)L(w[j]);return R;function L(W){b.resolve(W).then(function(J){D||(D=!0,o.resolve(R,J))},function(J){D||(D=!0,o.reject(R,J))})}}},{immediate:36}],38:[function(r,n,i){var s=r("./lib/utils/common").assign,a=r("./lib/deflate"),o=r("./lib/inflate"),l=r("./lib/zlib/constants"),u={};s(u,a,o,l),n.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),u=r("./zlib/zstream"),c=Object.prototype.toString,f=0,m=4,y=0,S=1,C=2,g=-1,h=0,p=8;function x(_){if(!(this instanceof x))return new x(_);this.options=a.assign({level:g,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var D=this.options;D.raw&&D.windowBits>0?D.windowBits=-D.windowBits:D.gzip&&D.windowBits>0&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var j=s.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(j!==y)throw new Error(l[j]);if(D.header&&s.deflateSetHeader(this.strm,D.header),D.dictionary){var R;if(typeof D.dictionary=="string"?R=o.string2buf(D.dictionary):c.call(D.dictionary)==="[object ArrayBuffer]"?R=new Uint8Array(D.dictionary):R=D.dictionary,j=s.deflateSetDictionary(this.strm,R),j!==y)throw new Error(l[j]);this._dict_set=!0}}x.prototype.push=function(_,D){var j=this.strm,R=this.options.chunkSize,L,W;if(this.ended)return!1;W=D===~~D?D:D===!0?m:f,typeof _=="string"?j.input=o.string2buf(_):c.call(_)==="[object ArrayBuffer]"?j.input=new Uint8Array(_):j.input=_,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new a.Buf8(R),j.next_out=0,j.avail_out=R),L=s.deflate(j,W),L!==S&&L!==y)return this.onEnd(L),this.ended=!0,!1;(j.avail_out===0||j.avail_in===0&&(W===m||W===C))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(j.output,j.next_out))):this.onData(a.shrinkBuf(j.output,j.next_out)))}while((j.avail_in>0||j.avail_out===0)&&L!==S);return W===m?(L=s.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===y):(W===C&&(this.onEnd(y),j.avail_out=0),!0)},x.prototype.onData=function(_){this.chunks.push(_)},x.prototype.onEnd=function(_){_===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg};function N(_,D){var j=new x(D);if(j.push(_,!0),j.err)throw j.msg||l[j.err];return j.result}function w(_,D){return D=D||{},D.raw=!0,N(_,D)}function b(_,D){return D=D||{},D.gzip=!0,N(_,D)}i.Deflate=x,i.deflate=N,i.deflateRaw=w,i.gzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),u=r("./zlib/messages"),c=r("./zlib/zstream"),f=r("./zlib/gzheader"),m=Object.prototype.toString;function y(g){if(!(this instanceof y))return new y(g);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},g||{});var h=this.options;h.raw&&h.windowBits>=0&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),h.windowBits>=0&&h.windowBits<16&&!(g&&g.windowBits)&&(h.windowBits+=32),h.windowBits>15&&h.windowBits<48&&(h.windowBits&15||(h.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var p=s.inflateInit2(this.strm,h.windowBits);if(p!==l.Z_OK)throw new Error(u[p]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}y.prototype.push=function(g,h){var p=this.strm,x=this.options.chunkSize,N=this.options.dictionary,w,b,_,D,j,R,L=!1;if(this.ended)return!1;b=h===~~h?h:h===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof g=="string"?p.input=o.binstring2buf(g):m.call(g)==="[object ArrayBuffer]"?p.input=new Uint8Array(g):p.input=g,p.next_in=0,p.avail_in=p.input.length;do{if(p.avail_out===0&&(p.output=new a.Buf8(x),p.next_out=0,p.avail_out=x),w=s.inflate(p,l.Z_NO_FLUSH),w===l.Z_NEED_DICT&&N&&(typeof N=="string"?R=o.string2buf(N):m.call(N)==="[object ArrayBuffer]"?R=new Uint8Array(N):R=N,w=s.inflateSetDictionary(this.strm,R)),w===l.Z_BUF_ERROR&&L===!0&&(w=l.Z_OK,L=!1),w!==l.Z_STREAM_END&&w!==l.Z_OK)return this.onEnd(w),this.ended=!0,!1;p.next_out&&(p.avail_out===0||w===l.Z_STREAM_END||p.avail_in===0&&(b===l.Z_FINISH||b===l.Z_SYNC_FLUSH))&&(this.options.to==="string"?(_=o.utf8border(p.output,p.next_out),D=p.next_out-_,j=o.buf2string(p.output,_),p.next_out=D,p.avail_out=x-D,D&&a.arraySet(p.output,p.output,_,D,0),this.onData(j)):this.onData(a.shrinkBuf(p.output,p.next_out))),p.avail_in===0&&p.avail_out===0&&(L=!0)}while((p.avail_in>0||p.avail_out===0)&&w!==l.Z_STREAM_END);return w===l.Z_STREAM_END&&(b=l.Z_FINISH),b===l.Z_FINISH?(w=s.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l.Z_OK):(b===l.Z_SYNC_FLUSH&&(this.onEnd(l.Z_OK),p.avail_out=0),!0)},y.prototype.onData=function(g){this.chunks.push(g)},y.prototype.onEnd=function(g){g===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg};function S(g,h){var p=new y(h);if(p.push(g,!0),p.err)throw p.msg||u[p.err];return p.result}function C(g,h){return h=h||{},h.raw=!0,S(g,h)}i.Inflate=y,i.inflate=S,i.inflateRaw=C,i.ungzip=S},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(l[f]=c[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,c,f,m){if(u.subarray&&l.subarray){l.set(u.subarray(c,c+f),m);return}for(var y=0;y<f;y++)l[m+y]=u[c+y]},flattenChunks:function(l){var u,c,f,m,y,S;for(f=0,u=0,c=l.length;u<c;u++)f+=l[u].length;for(S=new Uint8Array(f),m=0,u=0,c=l.length;u<c;u++)y=l[u],S.set(y,m),m+=y.length;return S}},o={arraySet:function(l,u,c,f,m){for(var y=0;y<f;y++)l[m+y]=u[c+y]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;l[254]=l[254]=1,i.string2buf=function(f){var m,y,S,C,g,h=f.length,p=0;for(C=0;C<h;C++)y=f.charCodeAt(C),(y&64512)===55296&&C+1<h&&(S=f.charCodeAt(C+1),(S&64512)===56320&&(y=65536+(y-55296<<10)+(S-56320),C++)),p+=y<128?1:y<2048?2:y<65536?3:4;for(m=new s.Buf8(p),g=0,C=0;g<p;C++)y=f.charCodeAt(C),(y&64512)===55296&&C+1<h&&(S=f.charCodeAt(C+1),(S&64512)===56320&&(y=65536+(y-55296<<10)+(S-56320),C++)),y<128?m[g++]=y:y<2048?(m[g++]=192|y>>>6,m[g++]=128|y&63):y<65536?(m[g++]=224|y>>>12,m[g++]=128|y>>>6&63,m[g++]=128|y&63):(m[g++]=240|y>>>18,m[g++]=128|y>>>12&63,m[g++]=128|y>>>6&63,m[g++]=128|y&63);return m};function c(f,m){if(m<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,m));for(var y="",S=0;S<m;S++)y+=String.fromCharCode(f[S]);return y}i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var m=new s.Buf8(f.length),y=0,S=m.length;y<S;y++)m[y]=f.charCodeAt(y);return m},i.buf2string=function(f,m){var y,S,C,g,h=m||f.length,p=new Array(h*2);for(S=0,y=0;y<h;){if(C=f[y++],C<128){p[S++]=C;continue}if(g=l[C],g>4){p[S++]=65533,y+=g-1;continue}for(C&=g===2?31:g===3?15:7;g>1&&y<h;)C=C<<6|f[y++]&63,g--;if(g>1){p[S++]=65533;continue}C<65536?p[S++]=C:(C-=65536,p[S++]=55296|C>>10&1023,p[S++]=56320|C&1023)}return c(p,S)},i.utf8border=function(f,m){var y;for(m=m||f.length,m>f.length&&(m=f.length),y=m-1;y>=0&&(f[y]&192)===128;)y--;return y<0||y===0?m:y+l[f[y]]>m?y:m}},{"./common":41}],43:[function(r,n,i){function s(a,o,l,u){for(var c=a&65535|0,f=a>>>16&65535|0,m=0;l!==0;){m=l>2e3?2e3:l,l-=m;do c=c+o[u++]|0,f=f+c|0;while(--m);c%=65521,f%=65521}return c|f<<16|0}n.exports=s},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){function s(){for(var l,u=[],c=0;c<256;c++){l=c;for(var f=0;f<8;f++)l=l&1?3988292384^l>>>1:l>>>1;u[c]=l}return u}var a=s();function o(l,u,c,f){var m=a,y=f+c;l^=-1;for(var S=f;S<y;S++)l=l>>>8^m[(l^u[S])&255];return l^-1}n.exports=o},{}],46:[function(r,n,i){var s=r("../utils/common"),a=r("./trees"),o=r("./adler32"),l=r("./crc32"),u=r("./messages"),c=0,f=1,m=3,y=4,S=5,C=0,g=1,h=-2,p=-3,x=-5,N=-1,w=1,b=2,_=3,D=4,j=0,R=2,L=8,W=9,J=15,ue=8,ie=29,ae=256,oe=ae+1+ie,H=30,le=19,me=2*oe+1,be=15,ce=3,Te=258,ke=Te+ce+1,Ye=32,de=42,xe=69,_e=73,Re=91,$e=103,Se=113,Ue=666,Oe=1,yt=2,at=3,Wt=4,Pe=3;function ht(d,$){return d.msg=u[$],$}function gr(d){return(d<<1)-(d>4?9:0)}function Nt(d){for(var $=d.length;--$>=0;)d[$]=0}function kt(d){var $=d.state,V=$.pending;V>d.avail_out&&(V=d.avail_out),V!==0&&(s.arraySet(d.output,$.pending_buf,$.pending_out,V,d.next_out),d.next_out+=V,$.pending_out+=V,d.total_out+=V,d.avail_out-=V,$.pending-=V,$.pending===0&&($.pending_out=0))}function Ge(d,$){a._tr_flush_block(d,d.block_start>=0?d.block_start:-1,d.strstart-d.block_start,$),d.block_start=d.strstart,kt(d.strm)}function Ce(d,$){d.pending_buf[d.pending++]=$}function jt(d,$){d.pending_buf[d.pending++]=$>>>8&255,d.pending_buf[d.pending++]=$&255}function qr(d,$,V,k){var z=d.avail_in;return z>k&&(z=k),z===0?0:(d.avail_in-=z,s.arraySet($,d.input,d.next_in,z,V),d.state.wrap===1?d.adler=o(d.adler,$,z,V):d.state.wrap===2&&(d.adler=l(d.adler,$,z,V)),d.next_in+=z,d.total_in+=z,z)}function vr(d,$){var V=d.max_chain_length,k=d.strstart,z,U,ye=d.prev_length,he=d.nice_match,pe=d.strstart>d.w_size-ke?d.strstart-(d.w_size-ke):0,Ae=d.window,xr=d.w_mask,Qe=d.prev,Ie=d.strstart+Te,ot=Ae[k+ye-1],wt=Ae[k+ye];d.prev_length>=d.good_match&&(V>>=2),he>d.lookahead&&(he=d.lookahead);do if(z=$,!(Ae[z+ye]!==wt||Ae[z+ye-1]!==ot||Ae[z]!==Ae[k]||Ae[++z]!==Ae[k+1])){k+=2,z++;do;while(Ae[++k]===Ae[++z]&&Ae[++k]===Ae[++z]&&Ae[++k]===Ae[++z]&&Ae[++k]===Ae[++z]&&Ae[++k]===Ae[++z]&&Ae[++k]===Ae[++z]&&Ae[++k]===Ae[++z]&&Ae[++k]===Ae[++z]&&k<Ie);if(U=Te-(Ie-k),k=Ie-Te,U>ye){if(d.match_start=$,ye=U,U>=he)break;ot=Ae[k+ye-1],wt=Ae[k+ye]}}while(($=Qe[$&xr])>pe&&--V!==0);return ye<=d.lookahead?ye:d.lookahead}function Ot(d){var $=d.w_size,V,k,z,U,ye;do{if(U=d.window_size-d.lookahead-d.strstart,d.strstart>=$+($-ke)){s.arraySet(d.window,d.window,$,$,0),d.match_start-=$,d.strstart-=$,d.block_start-=$,k=d.hash_size,V=k;do z=d.head[--V],d.head[V]=z>=$?z-$:0;while(--k);k=$,V=k;do z=d.prev[--V],d.prev[V]=z>=$?z-$:0;while(--k);U+=$}if(d.strm.avail_in===0)break;if(k=qr(d.strm,d.window,d.strstart+d.lookahead,U),d.lookahead+=k,d.lookahead+d.insert>=ce)for(ye=d.strstart-d.insert,d.ins_h=d.window[ye],d.ins_h=(d.ins_h<<d.hash_shift^d.window[ye+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[ye+ce-1])&d.hash_mask,d.prev[ye&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=ye,ye++,d.insert--,!(d.lookahead+d.insert<ce)););}while(d.lookahead<ke&&d.strm.avail_in!==0)}function $r(d,$){var V=65535;for(V>d.pending_buf_size-5&&(V=d.pending_buf_size-5);;){if(d.lookahead<=1){if(Ot(d),d.lookahead===0&&$===c)return Oe;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var k=d.block_start+V;if((d.strstart===0||d.strstart>=k)&&(d.lookahead=d.strstart-k,d.strstart=k,Ge(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-ke&&(Ge(d,!1),d.strm.avail_out===0))return Oe}return d.insert=0,$===y?(Ge(d,!0),d.strm.avail_out===0?at:Wt):(d.strstart>d.block_start&&(Ge(d,!1),d.strm.avail_out===0),Oe)}function yr(d,$){for(var V,k;;){if(d.lookahead<ke){if(Ot(d),d.lookahead<ke&&$===c)return Oe;if(d.lookahead===0)break}if(V=0,d.lookahead>=ce&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ce-1])&d.hash_mask,V=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),V!==0&&d.strstart-V<=d.w_size-ke&&(d.match_length=vr(d,V)),d.match_length>=ce)if(k=a._tr_tally(d,d.strstart-d.match_start,d.match_length-ce),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=ce){d.match_length--;do d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ce-1])&d.hash_mask,V=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart;while(--d.match_length!==0);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else k=a._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(k&&(Ge(d,!1),d.strm.avail_out===0))return Oe}return d.insert=d.strstart<ce-1?d.strstart:ce-1,$===y?(Ge(d,!0),d.strm.avail_out===0?at:Wt):d.last_lit&&(Ge(d,!1),d.strm.avail_out===0)?Oe:yt}function Ht(d,$){for(var V,k,z;;){if(d.lookahead<ke){if(Ot(d),d.lookahead<ke&&$===c)return Oe;if(d.lookahead===0)break}if(V=0,d.lookahead>=ce&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ce-1])&d.hash_mask,V=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=ce-1,V!==0&&d.prev_length<d.max_lazy_match&&d.strstart-V<=d.w_size-ke&&(d.match_length=vr(d,V),d.match_length<=5&&(d.strategy===w||d.match_length===ce&&d.strstart-d.match_start>4096)&&(d.match_length=ce-1)),d.prev_length>=ce&&d.match_length<=d.prev_length){z=d.strstart+d.lookahead-ce,k=a._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-ce),d.lookahead-=d.prev_length-1,d.prev_length-=2;do++d.strstart<=z&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+ce-1])&d.hash_mask,V=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart);while(--d.prev_length!==0);if(d.match_available=0,d.match_length=ce-1,d.strstart++,k&&(Ge(d,!1),d.strm.avail_out===0))return Oe}else if(d.match_available){if(k=a._tr_tally(d,0,d.window[d.strstart-1]),k&&Ge(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return Oe}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(k=a._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<ce-1?d.strstart:ce-1,$===y?(Ge(d,!0),d.strm.avail_out===0?at:Wt):d.last_lit&&(Ge(d,!1),d.strm.avail_out===0)?Oe:yt}function Vr(d,$){for(var V,k,z,U,ye=d.window;;){if(d.lookahead<=Te){if(Ot(d),d.lookahead<=Te&&$===c)return Oe;if(d.lookahead===0)break}if(d.match_length=0,d.lookahead>=ce&&d.strstart>0&&(z=d.strstart-1,k=ye[z],k===ye[++z]&&k===ye[++z]&&k===ye[++z])){U=d.strstart+Te;do;while(k===ye[++z]&&k===ye[++z]&&k===ye[++z]&&k===ye[++z]&&k===ye[++z]&&k===ye[++z]&&k===ye[++z]&&k===ye[++z]&&z<U);d.match_length=Te-(U-z),d.match_length>d.lookahead&&(d.match_length=d.lookahead)}if(d.match_length>=ce?(V=a._tr_tally(d,1,d.match_length-ce),d.lookahead-=d.match_length,d.strstart+=d.match_length,d.match_length=0):(V=a._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++),V&&(Ge(d,!1),d.strm.avail_out===0))return Oe}return d.insert=0,$===y?(Ge(d,!0),d.strm.avail_out===0?at:Wt):d.last_lit&&(Ge(d,!1),d.strm.avail_out===0)?Oe:yt}function wr(d,$){for(var V;;){if(d.lookahead===0&&(Ot(d),d.lookahead===0)){if($===c)return Oe;break}if(d.match_length=0,V=a._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++,V&&(Ge(d,!1),d.strm.avail_out===0))return Oe}return d.insert=0,$===y?(Ge(d,!0),d.strm.avail_out===0?at:Wt):d.last_lit&&(Ge(d,!1),d.strm.avail_out===0)?Oe:yt}function pt(d,$,V,k,z){this.good_length=d,this.max_lazy=$,this.nice_length=V,this.max_chain=k,this.func=z}var qt;qt=[new pt(0,0,0,0,$r),new pt(4,4,8,4,yr),new pt(4,5,16,8,yr),new pt(4,6,32,32,yr),new pt(4,4,16,16,Ht),new pt(8,16,32,32,Ht),new pt(8,16,128,128,Ht),new pt(8,32,128,256,Ht),new pt(32,128,258,1024,Ht),new pt(32,258,258,4096,Ht)];function cn(d){d.window_size=2*d.w_size,Nt(d.head),d.max_lazy_match=qt[d.level].max_lazy,d.good_match=qt[d.level].good_length,d.nice_match=qt[d.level].nice_length,d.max_chain_length=qt[d.level].max_chain,d.strstart=0,d.block_start=0,d.lookahead=0,d.insert=0,d.match_length=d.prev_length=ce-1,d.match_available=0,d.ins_h=0}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(me*2),this.dyn_dtree=new s.Buf16((2*H+1)*2),this.bl_tree=new s.Buf16((2*le+1)*2),Nt(this.dyn_ltree),Nt(this.dyn_dtree),Nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(be+1),this.heap=new s.Buf16(2*oe+1),Nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*oe+1),Nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(d){var $;return!d||!d.state?ht(d,h):(d.total_in=d.total_out=0,d.data_type=R,$=d.state,$.pending=0,$.pending_out=0,$.wrap<0&&($.wrap=-$.wrap),$.status=$.wrap?de:Se,d.adler=$.wrap===2?0:1,$.last_flush=c,a._tr_init($),C)}function ee(d){var $=K(d);return $===C&&cn(d.state),$}function ge(d,$){return!d||!d.state||d.state.wrap!==2?h:(d.state.gzhead=$,C)}function O(d,$,V,k,z,U){if(!d)return h;var ye=1;if($===N&&($=6),k<0?(ye=0,k=-k):k>15&&(ye=2,k-=16),z<1||z>W||V!==L||k<8||k>15||$<0||$>9||U<0||U>D)return ht(d,h);k===8&&(k=9);var he=new T;return d.state=he,he.strm=d,he.wrap=ye,he.gzhead=null,he.w_bits=k,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=z+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+ce-1)/ce),he.window=new s.Buf8(he.w_size*2),he.head=new s.Buf16(he.hash_size),he.prev=new s.Buf16(he.w_size),he.lit_bufsize=1<<z+6,he.pending_buf_size=he.lit_bufsize*4,he.pending_buf=new s.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=$,he.strategy=U,he.method=V,ee(d)}function G(d,$){return O(d,$,L,J,ue,j)}function E(d,$){var V,k,z,U;if(!d||!d.state||$>S||$<0)return d?ht(d,h):h;if(k=d.state,!d.output||!d.input&&d.avail_in!==0||k.status===Ue&&$!==y)return ht(d,d.avail_out===0?x:h);if(k.strm=d,V=k.last_flush,k.last_flush=$,k.status===de)if(k.wrap===2)d.adler=0,Ce(k,31),Ce(k,139),Ce(k,8),k.gzhead?(Ce(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Ce(k,k.gzhead.time&255),Ce(k,k.gzhead.time>>8&255),Ce(k,k.gzhead.time>>16&255),Ce(k,k.gzhead.time>>24&255),Ce(k,k.level===9?2:k.strategy>=b||k.level<2?4:0),Ce(k,k.gzhead.os&255),k.gzhead.extra&&k.gzhead.extra.length&&(Ce(k,k.gzhead.extra.length&255),Ce(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(d.adler=l(d.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=xe):(Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,0),Ce(k,k.level===9?2:k.strategy>=b||k.level<2?4:0),Ce(k,Pe),k.status=Se);else{var ye=L+(k.w_bits-8<<4)<<8,he=-1;k.strategy>=b||k.level<2?he=0:k.level<6?he=1:k.level===6?he=2:he=3,ye|=he<<6,k.strstart!==0&&(ye|=Ye),ye+=31-ye%31,k.status=Se,jt(k,ye),k.strstart!==0&&(jt(k,d.adler>>>16),jt(k,d.adler&65535)),d.adler=1}if(k.status===xe)if(k.gzhead.extra){for(z=k.pending;k.gzindex<(k.gzhead.extra.length&65535)&&!(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>z&&(d.adler=l(d.adler,k.pending_buf,k.pending-z,z)),kt(d),z=k.pending,k.pending===k.pending_buf_size));)Ce(k,k.gzhead.extra[k.gzindex]&255),k.gzindex++;k.gzhead.hcrc&&k.pending>z&&(d.adler=l(d.adler,k.pending_buf,k.pending-z,z)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=_e)}else k.status=_e;if(k.status===_e)if(k.gzhead.name){z=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>z&&(d.adler=l(d.adler,k.pending_buf,k.pending-z,z)),kt(d),z=k.pending,k.pending===k.pending_buf_size)){U=1;break}k.gzindex<k.gzhead.name.length?U=k.gzhead.name.charCodeAt(k.gzindex++)&255:U=0,Ce(k,U)}while(U!==0);k.gzhead.hcrc&&k.pending>z&&(d.adler=l(d.adler,k.pending_buf,k.pending-z,z)),U===0&&(k.gzindex=0,k.status=Re)}else k.status=Re;if(k.status===Re)if(k.gzhead.comment){z=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>z&&(d.adler=l(d.adler,k.pending_buf,k.pending-z,z)),kt(d),z=k.pending,k.pending===k.pending_buf_size)){U=1;break}k.gzindex<k.gzhead.comment.length?U=k.gzhead.comment.charCodeAt(k.gzindex++)&255:U=0,Ce(k,U)}while(U!==0);k.gzhead.hcrc&&k.pending>z&&(d.adler=l(d.adler,k.pending_buf,k.pending-z,z)),U===0&&(k.status=$e)}else k.status=$e;if(k.status===$e&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&kt(d),k.pending+2<=k.pending_buf_size&&(Ce(k,d.adler&255),Ce(k,d.adler>>8&255),d.adler=0,k.status=Se)):k.status=Se),k.pending!==0){if(kt(d),d.avail_out===0)return k.last_flush=-1,C}else if(d.avail_in===0&&gr($)<=gr(V)&&$!==y)return ht(d,x);if(k.status===Ue&&d.avail_in!==0)return ht(d,x);if(d.avail_in!==0||k.lookahead!==0||$!==c&&k.status!==Ue){var pe=k.strategy===b?wr(k,$):k.strategy===_?Vr(k,$):qt[k.level].func(k,$);if((pe===at||pe===Wt)&&(k.status=Ue),pe===Oe||pe===at)return d.avail_out===0&&(k.last_flush=-1),C;if(pe===yt&&($===f?a._tr_align(k):$!==S&&(a._tr_stored_block(k,0,0,!1),$===m&&(Nt(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),kt(d),d.avail_out===0))return k.last_flush=-1,C}return $!==y?C:k.wrap<=0?g:(k.wrap===2?(Ce(k,d.adler&255),Ce(k,d.adler>>8&255),Ce(k,d.adler>>16&255),Ce(k,d.adler>>24&255),Ce(k,d.total_in&255),Ce(k,d.total_in>>8&255),Ce(k,d.total_in>>16&255),Ce(k,d.total_in>>24&255)):(jt(k,d.adler>>>16),jt(k,d.adler&65535)),kt(d),k.wrap>0&&(k.wrap=-k.wrap),k.pending!==0?C:g)}function X(d){var $;return!d||!d.state?h:($=d.state.status,$!==de&&$!==xe&&$!==_e&&$!==Re&&$!==$e&&$!==Se&&$!==Ue?ht(d,h):(d.state=null,$===Se?ht(d,p):C))}function Ee(d,$){var V=$.length,k,z,U,ye,he,pe,Ae,xr;if(!d||!d.state||(k=d.state,ye=k.wrap,ye===2||ye===1&&k.status!==de||k.lookahead))return h;for(ye===1&&(d.adler=o(d.adler,$,V,0)),k.wrap=0,V>=k.w_size&&(ye===0&&(Nt(k.head),k.strstart=0,k.block_start=0,k.insert=0),xr=new s.Buf8(k.w_size),s.arraySet(xr,$,V-k.w_size,k.w_size,0),$=xr,V=k.w_size),he=d.avail_in,pe=d.next_in,Ae=d.input,d.avail_in=V,d.next_in=0,d.input=$,Ot(k);k.lookahead>=ce;){z=k.strstart,U=k.lookahead-(ce-1);do k.ins_h=(k.ins_h<<k.hash_shift^k.window[z+ce-1])&k.hash_mask,k.prev[z&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=z,z++;while(--U);k.strstart=z,k.lookahead=ce-1,Ot(k)}return k.strstart+=k.lookahead,k.block_start=k.strstart,k.insert=k.lookahead,k.lookahead=0,k.match_length=k.prev_length=ce-1,k.match_available=0,d.next_in=pe,d.input=Ae,d.avail_in=he,k.wrap=ye,C}i.deflateInit=G,i.deflateInit2=O,i.deflateReset=ee,i.deflateResetKeep=K,i.deflateSetHeader=ge,i.deflate=E,i.deflateEnd=X,i.deflateSetDictionary=Ee,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}n.exports=s},{}],48:[function(r,n,i){var s=30,a=12;n.exports=function(l,u){var c,f,m,y,S,C,g,h,p,x,N,w,b,_,D,j,R,L,W,J,ue,ie,ae,oe,H;c=l.state,f=l.next_in,oe=l.input,m=f+(l.avail_in-5),y=l.next_out,H=l.output,S=y-(u-l.avail_out),C=y+(l.avail_out-257),g=c.dmax,h=c.wsize,p=c.whave,x=c.wnext,N=c.window,w=c.hold,b=c.bits,_=c.lencode,D=c.distcode,j=(1<<c.lenbits)-1,R=(1<<c.distbits)-1;e:do{b<15&&(w+=oe[f++]<<b,b+=8,w+=oe[f++]<<b,b+=8),L=_[w&j];t:for(;;){if(W=L>>>24,w>>>=W,b-=W,W=L>>>16&255,W===0)H[y++]=L&65535;else if(W&16){J=L&65535,W&=15,W&&(b<W&&(w+=oe[f++]<<b,b+=8),J+=w&(1<<W)-1,w>>>=W,b-=W),b<15&&(w+=oe[f++]<<b,b+=8,w+=oe[f++]<<b,b+=8),L=D[w&R];r:for(;;){if(W=L>>>24,w>>>=W,b-=W,W=L>>>16&255,W&16){if(ue=L&65535,W&=15,b<W&&(w+=oe[f++]<<b,b+=8,b<W&&(w+=oe[f++]<<b,b+=8)),ue+=w&(1<<W)-1,ue>g){l.msg="invalid distance too far back",c.mode=s;break e}if(w>>>=W,b-=W,W=y-S,ue>W){if(W=ue-W,W>p&&c.sane){l.msg="invalid distance too far back",c.mode=s;break e}if(ie=0,ae=N,x===0){if(ie+=h-W,W<J){J-=W;do H[y++]=N[ie++];while(--W);ie=y-ue,ae=H}}else if(x<W){if(ie+=h+x-W,W-=x,W<J){J-=W;do H[y++]=N[ie++];while(--W);if(ie=0,x<J){W=x,J-=W;do H[y++]=N[ie++];while(--W);ie=y-ue,ae=H}}}else if(ie+=x-W,W<J){J-=W;do H[y++]=N[ie++];while(--W);ie=y-ue,ae=H}for(;J>2;)H[y++]=ae[ie++],H[y++]=ae[ie++],H[y++]=ae[ie++],J-=3;J&&(H[y++]=ae[ie++],J>1&&(H[y++]=ae[ie++]))}else{ie=y-ue;do H[y++]=H[ie++],H[y++]=H[ie++],H[y++]=H[ie++],J-=3;while(J>2);J&&(H[y++]=H[ie++],J>1&&(H[y++]=H[ie++]))}}else if(W&64){l.msg="invalid distance code",c.mode=s;break e}else{L=D[(L&65535)+(w&(1<<W)-1)];continue r}break}}else if(W&64)if(W&32){c.mode=a;break e}else{l.msg="invalid literal/length code",c.mode=s;break e}else{L=_[(L&65535)+(w&(1<<W)-1)];continue t}break}}while(f<m&&y<C);J=b>>3,f-=J,b-=J<<3,w&=(1<<b)-1,l.next_in=f,l.next_out=y,l.avail_in=f<m?5+(m-f):5-(f-m),l.avail_out=y<C?257+(C-y):257-(y-C),c.hold=w,c.bits=b}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),u=r("./inftrees"),c=0,f=1,m=2,y=4,S=5,C=6,g=0,h=1,p=2,x=-2,N=-3,w=-4,b=-5,_=8,D=1,j=2,R=3,L=4,W=5,J=6,ue=7,ie=8,ae=9,oe=10,H=11,le=12,me=13,be=14,ce=15,Te=16,ke=17,Ye=18,de=19,xe=20,_e=21,Re=22,$e=23,Se=24,Ue=25,Oe=26,yt=27,at=28,Wt=29,Pe=30,ht=31,gr=32,Nt=852,kt=592,Ge=15,Ce=Ge;function jt(O){return(O>>>24&255)+(O>>>8&65280)+((O&65280)<<8)+((O&255)<<24)}function qr(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function vr(O){var G;return!O||!O.state?x:(G=O.state,O.total_in=O.total_out=G.total=0,O.msg="",G.wrap&&(O.adler=G.wrap&1),G.mode=D,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new s.Buf32(Nt),G.distcode=G.distdyn=new s.Buf32(kt),G.sane=1,G.back=-1,g)}function Ot(O){var G;return!O||!O.state?x:(G=O.state,G.wsize=0,G.whave=0,G.wnext=0,vr(O))}function $r(O,G){var E,X;return!O||!O.state||(X=O.state,G<0?(E=0,G=-G):(E=(G>>4)+1,G<48&&(G&=15)),G&&(G<8||G>15))?x:(X.window!==null&&X.wbits!==G&&(X.window=null),X.wrap=E,X.wbits=G,Ot(O))}function yr(O,G){var E,X;return O?(X=new qr,O.state=X,X.window=null,E=$r(O,G),E!==g&&(O.state=null),E):x}function Ht(O){return yr(O,Ce)}var Vr=!0,wr,pt;function qt(O){if(Vr){var G;for(wr=new s.Buf32(512),pt=new s.Buf32(32),G=0;G<144;)O.lens[G++]=8;for(;G<256;)O.lens[G++]=9;for(;G<280;)O.lens[G++]=7;for(;G<288;)O.lens[G++]=8;for(u(f,O.lens,0,288,wr,0,O.work,{bits:9}),G=0;G<32;)O.lens[G++]=5;u(m,O.lens,0,32,pt,0,O.work,{bits:5}),Vr=!1}O.lencode=wr,O.lenbits=9,O.distcode=pt,O.distbits=5}function cn(O,G,E,X){var Ee,d=O.state;return d.window===null&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new s.Buf8(d.wsize)),X>=d.wsize?(s.arraySet(d.window,G,E-d.wsize,d.wsize,0),d.wnext=0,d.whave=d.wsize):(Ee=d.wsize-d.wnext,Ee>X&&(Ee=X),s.arraySet(d.window,G,E-X,Ee,d.wnext),X-=Ee,X?(s.arraySet(d.window,G,E-X,X,0),d.wnext=X,d.whave=d.wsize):(d.wnext+=Ee,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=Ee))),0}function T(O,G){var E,X,Ee,d,$,V,k,z,U,ye,he,pe,Ae,xr,Qe=0,Ie,ot,wt,Tt,Jn,ei,nt,$t,mt=new s.Buf8(4),br,ar,aa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return x;E=O.state,E.mode===le&&(E.mode=me),$=O.next_out,Ee=O.output,k=O.avail_out,d=O.next_in,X=O.input,V=O.avail_in,z=E.hold,U=E.bits,ye=V,he=k,$t=g;e:for(;;)switch(E.mode){case D:if(E.wrap===0){E.mode=me;break}for(;U<16;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(E.wrap&2&&z===35615){E.check=0,mt[0]=z&255,mt[1]=z>>>8&255,E.check=o(E.check,mt,2,0),z=0,U=0,E.mode=j;break}if(E.flags=0,E.head&&(E.head.done=!1),!(E.wrap&1)||(((z&255)<<8)+(z>>8))%31){O.msg="incorrect header check",E.mode=Pe;break}if((z&15)!==_){O.msg="unknown compression method",E.mode=Pe;break}if(z>>>=4,U-=4,nt=(z&15)+8,E.wbits===0)E.wbits=nt;else if(nt>E.wbits){O.msg="invalid window size",E.mode=Pe;break}E.dmax=1<<nt,O.adler=E.check=1,E.mode=z&512?oe:le,z=0,U=0;break;case j:for(;U<16;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(E.flags=z,(E.flags&255)!==_){O.msg="unknown compression method",E.mode=Pe;break}if(E.flags&57344){O.msg="unknown header flags set",E.mode=Pe;break}E.head&&(E.head.text=z>>8&1),E.flags&512&&(mt[0]=z&255,mt[1]=z>>>8&255,E.check=o(E.check,mt,2,0)),z=0,U=0,E.mode=R;case R:for(;U<32;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}E.head&&(E.head.time=z),E.flags&512&&(mt[0]=z&255,mt[1]=z>>>8&255,mt[2]=z>>>16&255,mt[3]=z>>>24&255,E.check=o(E.check,mt,4,0)),z=0,U=0,E.mode=L;case L:for(;U<16;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}E.head&&(E.head.xflags=z&255,E.head.os=z>>8),E.flags&512&&(mt[0]=z&255,mt[1]=z>>>8&255,E.check=o(E.check,mt,2,0)),z=0,U=0,E.mode=W;case W:if(E.flags&1024){for(;U<16;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}E.length=z,E.head&&(E.head.extra_len=z),E.flags&512&&(mt[0]=z&255,mt[1]=z>>>8&255,E.check=o(E.check,mt,2,0)),z=0,U=0}else E.head&&(E.head.extra=null);E.mode=J;case J:if(E.flags&1024&&(pe=E.length,pe>V&&(pe=V),pe&&(E.head&&(nt=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),s.arraySet(E.head.extra,X,d,pe,nt)),E.flags&512&&(E.check=o(E.check,X,pe,d)),V-=pe,d+=pe,E.length-=pe),E.length))break e;E.length=0,E.mode=ue;case ue:if(E.flags&2048){if(V===0)break e;pe=0;do nt=X[d+pe++],E.head&&nt&&E.length<65536&&(E.head.name+=String.fromCharCode(nt));while(nt&&pe<V);if(E.flags&512&&(E.check=o(E.check,X,pe,d)),V-=pe,d+=pe,nt)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=ie;case ie:if(E.flags&4096){if(V===0)break e;pe=0;do nt=X[d+pe++],E.head&&nt&&E.length<65536&&(E.head.comment+=String.fromCharCode(nt));while(nt&&pe<V);if(E.flags&512&&(E.check=o(E.check,X,pe,d)),V-=pe,d+=pe,nt)break e}else E.head&&(E.head.comment=null);E.mode=ae;case ae:if(E.flags&512){for(;U<16;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(z!==(E.check&65535)){O.msg="header crc mismatch",E.mode=Pe;break}z=0,U=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),O.adler=E.check=0,E.mode=le;break;case oe:for(;U<32;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}O.adler=E.check=jt(z),z=0,U=0,E.mode=H;case H:if(E.havedict===0)return O.next_out=$,O.avail_out=k,O.next_in=d,O.avail_in=V,E.hold=z,E.bits=U,p;O.adler=E.check=1,E.mode=le;case le:if(G===S||G===C)break e;case me:if(E.last){z>>>=U&7,U-=U&7,E.mode=yt;break}for(;U<3;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}switch(E.last=z&1,z>>>=1,U-=1,z&3){case 0:E.mode=be;break;case 1:if(qt(E),E.mode=xe,G===C){z>>>=2,U-=2;break e}break;case 2:E.mode=ke;break;case 3:O.msg="invalid block type",E.mode=Pe}z>>>=2,U-=2;break;case be:for(z>>>=U&7,U-=U&7;U<32;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if((z&65535)!==(z>>>16^65535)){O.msg="invalid stored block lengths",E.mode=Pe;break}if(E.length=z&65535,z=0,U=0,E.mode=ce,G===C)break e;case ce:E.mode=Te;case Te:if(pe=E.length,pe){if(pe>V&&(pe=V),pe>k&&(pe=k),pe===0)break e;s.arraySet(Ee,X,d,pe,$),V-=pe,d+=pe,k-=pe,$+=pe,E.length-=pe;break}E.mode=le;break;case ke:for(;U<14;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(E.nlen=(z&31)+257,z>>>=5,U-=5,E.ndist=(z&31)+1,z>>>=5,U-=5,E.ncode=(z&15)+4,z>>>=4,U-=4,E.nlen>286||E.ndist>30){O.msg="too many length or distance symbols",E.mode=Pe;break}E.have=0,E.mode=Ye;case Ye:for(;E.have<E.ncode;){for(;U<3;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}E.lens[aa[E.have++]]=z&7,z>>>=3,U-=3}for(;E.have<19;)E.lens[aa[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,br={bits:E.lenbits},$t=u(c,E.lens,0,19,E.lencode,0,E.work,br),E.lenbits=br.bits,$t){O.msg="invalid code lengths set",E.mode=Pe;break}E.have=0,E.mode=de;case de:for(;E.have<E.nlen+E.ndist;){for(;Qe=E.lencode[z&(1<<E.lenbits)-1],Ie=Qe>>>24,ot=Qe>>>16&255,wt=Qe&65535,!(Ie<=U);){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(wt<16)z>>>=Ie,U-=Ie,E.lens[E.have++]=wt;else{if(wt===16){for(ar=Ie+2;U<ar;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(z>>>=Ie,U-=Ie,E.have===0){O.msg="invalid bit length repeat",E.mode=Pe;break}nt=E.lens[E.have-1],pe=3+(z&3),z>>>=2,U-=2}else if(wt===17){for(ar=Ie+3;U<ar;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}z>>>=Ie,U-=Ie,nt=0,pe=3+(z&7),z>>>=3,U-=3}else{for(ar=Ie+7;U<ar;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}z>>>=Ie,U-=Ie,nt=0,pe=11+(z&127),z>>>=7,U-=7}if(E.have+pe>E.nlen+E.ndist){O.msg="invalid bit length repeat",E.mode=Pe;break}for(;pe--;)E.lens[E.have++]=nt}}if(E.mode===Pe)break;if(E.lens[256]===0){O.msg="invalid code -- missing end-of-block",E.mode=Pe;break}if(E.lenbits=9,br={bits:E.lenbits},$t=u(f,E.lens,0,E.nlen,E.lencode,0,E.work,br),E.lenbits=br.bits,$t){O.msg="invalid literal/lengths set",E.mode=Pe;break}if(E.distbits=6,E.distcode=E.distdyn,br={bits:E.distbits},$t=u(m,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,br),E.distbits=br.bits,$t){O.msg="invalid distances set",E.mode=Pe;break}if(E.mode=xe,G===C)break e;case xe:E.mode=_e;case _e:if(V>=6&&k>=258){O.next_out=$,O.avail_out=k,O.next_in=d,O.avail_in=V,E.hold=z,E.bits=U,l(O,he),$=O.next_out,Ee=O.output,k=O.avail_out,d=O.next_in,X=O.input,V=O.avail_in,z=E.hold,U=E.bits,E.mode===le&&(E.back=-1);break}for(E.back=0;Qe=E.lencode[z&(1<<E.lenbits)-1],Ie=Qe>>>24,ot=Qe>>>16&255,wt=Qe&65535,!(Ie<=U);){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(ot&&!(ot&240)){for(Tt=Ie,Jn=ot,ei=wt;Qe=E.lencode[ei+((z&(1<<Tt+Jn)-1)>>Tt)],Ie=Qe>>>24,ot=Qe>>>16&255,wt=Qe&65535,!(Tt+Ie<=U);){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}z>>>=Tt,U-=Tt,E.back+=Tt}if(z>>>=Ie,U-=Ie,E.back+=Ie,E.length=wt,ot===0){E.mode=Oe;break}if(ot&32){E.back=-1,E.mode=le;break}if(ot&64){O.msg="invalid literal/length code",E.mode=Pe;break}E.extra=ot&15,E.mode=Re;case Re:if(E.extra){for(ar=E.extra;U<ar;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}E.length+=z&(1<<E.extra)-1,z>>>=E.extra,U-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=$e;case $e:for(;Qe=E.distcode[z&(1<<E.distbits)-1],Ie=Qe>>>24,ot=Qe>>>16&255,wt=Qe&65535,!(Ie<=U);){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(!(ot&240)){for(Tt=Ie,Jn=ot,ei=wt;Qe=E.distcode[ei+((z&(1<<Tt+Jn)-1)>>Tt)],Ie=Qe>>>24,ot=Qe>>>16&255,wt=Qe&65535,!(Tt+Ie<=U);){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}z>>>=Tt,U-=Tt,E.back+=Tt}if(z>>>=Ie,U-=Ie,E.back+=Ie,ot&64){O.msg="invalid distance code",E.mode=Pe;break}E.offset=wt,E.extra=ot&15,E.mode=Se;case Se:if(E.extra){for(ar=E.extra;U<ar;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}E.offset+=z&(1<<E.extra)-1,z>>>=E.extra,U-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){O.msg="invalid distance too far back",E.mode=Pe;break}E.mode=Ue;case Ue:if(k===0)break e;if(pe=he-k,E.offset>pe){if(pe=E.offset-pe,pe>E.whave&&E.sane){O.msg="invalid distance too far back",E.mode=Pe;break}pe>E.wnext?(pe-=E.wnext,Ae=E.wsize-pe):Ae=E.wnext-pe,pe>E.length&&(pe=E.length),xr=E.window}else xr=Ee,Ae=$-E.offset,pe=E.length;pe>k&&(pe=k),k-=pe,E.length-=pe;do Ee[$++]=xr[Ae++];while(--pe);E.length===0&&(E.mode=_e);break;case Oe:if(k===0)break e;Ee[$++]=E.length,k--,E.mode=_e;break;case yt:if(E.wrap){for(;U<32;){if(V===0)break e;V--,z|=X[d++]<<U,U+=8}if(he-=k,O.total_out+=he,E.total+=he,he&&(O.adler=E.check=E.flags?o(E.check,Ee,he,$-he):a(E.check,Ee,he,$-he)),he=k,(E.flags?z:jt(z))!==E.check){O.msg="incorrect data check",E.mode=Pe;break}z=0,U=0}E.mode=at;case at:if(E.wrap&&E.flags){for(;U<32;){if(V===0)break e;V--,z+=X[d++]<<U,U+=8}if(z!==(E.total&4294967295)){O.msg="incorrect length check",E.mode=Pe;break}z=0,U=0}E.mode=Wt;case Wt:$t=h;break e;case Pe:$t=N;break e;case ht:return w;case gr:default:return x}return O.next_out=$,O.avail_out=k,O.next_in=d,O.avail_in=V,E.hold=z,E.bits=U,(E.wsize||he!==O.avail_out&&E.mode<Pe&&(E.mode<yt||G!==y))&&cn(O,O.output,O.next_out,he-O.avail_out),ye-=O.avail_in,he-=O.avail_out,O.total_in+=ye,O.total_out+=he,E.total+=he,E.wrap&&he&&(O.adler=E.check=E.flags?o(E.check,Ee,he,O.next_out-he):a(E.check,Ee,he,O.next_out-he)),O.data_type=E.bits+(E.last?64:0)+(E.mode===le?128:0)+(E.mode===xe||E.mode===ce?256:0),(ye===0&&he===0||G===y)&&$t===g&&($t=b),$t}function K(O){if(!O||!O.state)return x;var G=O.state;return G.window&&(G.window=null),O.state=null,g}function ee(O,G){var E;return!O||!O.state||(E=O.state,!(E.wrap&2))?x:(E.head=G,G.done=!1,g)}function ge(O,G){var E=G.length,X,Ee,d;return!O||!O.state||(X=O.state,X.wrap!==0&&X.mode!==H)?x:X.mode===H&&(Ee=1,Ee=a(Ee,G,E,0),Ee!==X.check)?N:(d=cn(O,G,E,E),d?(X.mode=ht,w):(X.havedict=1,g))}i.inflateReset=Ot,i.inflateReset2=$r,i.inflateResetKeep=vr,i.inflateInit=Ht,i.inflateInit2=yr,i.inflate=T,i.inflateEnd=K,i.inflateGetHeader=ee,i.inflateSetDictionary=ge,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=15,o=852,l=592,u=0,c=1,f=2,m=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],y=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,p,x,N,w,b,_,D){var j=D.bits,R=0,L=0,W=0,J=0,ue=0,ie=0,ae=0,oe=0,H=0,le=0,me,be,ce,Te,ke,Ye=null,de=0,xe,_e=new s.Buf16(a+1),Re=new s.Buf16(a+1),$e=null,Se=0,Ue,Oe,yt;for(R=0;R<=a;R++)_e[R]=0;for(L=0;L<N;L++)_e[p[x+L]]++;for(ue=j,J=a;J>=1&&_e[J]===0;J--);if(ue>J&&(ue=J),J===0)return w[b++]=1<<24|64<<16|0,w[b++]=1<<24|64<<16|0,D.bits=1,0;for(W=1;W<J&&_e[W]===0;W++);for(ue<W&&(ue=W),oe=1,R=1;R<=a;R++)if(oe<<=1,oe-=_e[R],oe<0)return-1;if(oe>0&&(h===u||J!==1))return-1;for(Re[1]=0,R=1;R<a;R++)Re[R+1]=Re[R]+_e[R];for(L=0;L<N;L++)p[x+L]!==0&&(_[Re[p[x+L]]++]=L);if(h===u?(Ye=$e=_,xe=19):h===c?(Ye=m,de-=257,$e=y,Se-=257,xe=256):(Ye=S,$e=C,xe=-1),le=0,L=0,R=W,ke=b,ie=ue,ae=0,ce=-1,H=1<<ue,Te=H-1,h===c&&H>o||h===f&&H>l)return 1;for(;;){Ue=R-ae,_[L]<xe?(Oe=0,yt=_[L]):_[L]>xe?(Oe=$e[Se+_[L]],yt=Ye[de+_[L]]):(Oe=96,yt=0),me=1<<R-ae,be=1<<ie,W=be;do be-=me,w[ke+(le>>ae)+be]=Ue<<24|Oe<<16|yt|0;while(be!==0);for(me=1<<R-1;le&me;)me>>=1;if(me!==0?(le&=me-1,le+=me):le=0,L++,--_e[R]===0){if(R===J)break;R=p[x+_[L]]}if(R>ue&&(le&Te)!==ce){for(ae===0&&(ae=ue),ke+=W,ie=R-ae,oe=1<<ie;ie+ae<J&&(oe-=_e[ie+ae],!(oe<=0));)ie++,oe<<=1;if(H+=1<<ie,h===c&&H>o||h===f&&H>l)return 1;ce=le&Te,w[ce]=ue<<24|ie<<16|ke-b|0}}return le!==0&&(w[ke+le]=R-ae<<24|64<<16|0),D.bits=ue,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=4,o=0,l=1,u=2;function c(T){for(var K=T.length;--K>=0;)T[K]=0}var f=0,m=1,y=2,S=3,C=258,g=29,h=256,p=h+1+g,x=30,N=19,w=2*p+1,b=15,_=16,D=7,j=256,R=16,L=17,W=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,H=new Array((p+2)*2);c(H);var le=new Array(x*2);c(le);var me=new Array(oe);c(me);var be=new Array(C-S+1);c(be);var ce=new Array(g);c(ce);var Te=new Array(x);c(Te);function ke(T,K,ee,ge,O){this.static_tree=T,this.extra_bits=K,this.extra_base=ee,this.elems=ge,this.max_length=O,this.has_stree=T&&T.length}var Ye,de,xe;function _e(T,K){this.dyn_tree=T,this.max_code=0,this.stat_desc=K}function Re(T){return T<256?me[T]:me[256+(T>>>7)]}function $e(T,K){T.pending_buf[T.pending++]=K&255,T.pending_buf[T.pending++]=K>>>8&255}function Se(T,K,ee){T.bi_valid>_-ee?(T.bi_buf|=K<<T.bi_valid&65535,$e(T,T.bi_buf),T.bi_buf=K>>_-T.bi_valid,T.bi_valid+=ee-_):(T.bi_buf|=K<<T.bi_valid&65535,T.bi_valid+=ee)}function Ue(T,K,ee){Se(T,ee[K*2],ee[K*2+1])}function Oe(T,K){var ee=0;do ee|=T&1,T>>>=1,ee<<=1;while(--K>0);return ee>>>1}function yt(T){T.bi_valid===16?($e(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):T.bi_valid>=8&&(T.pending_buf[T.pending++]=T.bi_buf&255,T.bi_buf>>=8,T.bi_valid-=8)}function at(T,K){var ee=K.dyn_tree,ge=K.max_code,O=K.stat_desc.static_tree,G=K.stat_desc.has_stree,E=K.stat_desc.extra_bits,X=K.stat_desc.extra_base,Ee=K.stat_desc.max_length,d,$,V,k,z,U,ye=0;for(k=0;k<=b;k++)T.bl_count[k]=0;for(ee[T.heap[T.heap_max]*2+1]=0,d=T.heap_max+1;d<w;d++)$=T.heap[d],k=ee[ee[$*2+1]*2+1]+1,k>Ee&&(k=Ee,ye++),ee[$*2+1]=k,!($>ge)&&(T.bl_count[k]++,z=0,$>=X&&(z=E[$-X]),U=ee[$*2],T.opt_len+=U*(k+z),G&&(T.static_len+=U*(O[$*2+1]+z)));if(ye!==0){do{for(k=Ee-1;T.bl_count[k]===0;)k--;T.bl_count[k]--,T.bl_count[k+1]+=2,T.bl_count[Ee]--,ye-=2}while(ye>0);for(k=Ee;k!==0;k--)for($=T.bl_count[k];$!==0;)V=T.heap[--d],!(V>ge)&&(ee[V*2+1]!==k&&(T.opt_len+=(k-ee[V*2+1])*ee[V*2],ee[V*2+1]=k),$--)}}function Wt(T,K,ee){var ge=new Array(b+1),O=0,G,E;for(G=1;G<=b;G++)ge[G]=O=O+ee[G-1]<<1;for(E=0;E<=K;E++){var X=T[E*2+1];X!==0&&(T[E*2]=Oe(ge[X]++,X))}}function Pe(){var T,K,ee,ge,O,G=new Array(b+1);for(ee=0,ge=0;ge<g-1;ge++)for(ce[ge]=ee,T=0;T<1<<J[ge];T++)be[ee++]=ge;for(be[ee-1]=ge,O=0,ge=0;ge<16;ge++)for(Te[ge]=O,T=0;T<1<<ue[ge];T++)me[O++]=ge;for(O>>=7;ge<x;ge++)for(Te[ge]=O<<7,T=0;T<1<<ue[ge]-7;T++)me[256+O++]=ge;for(K=0;K<=b;K++)G[K]=0;for(T=0;T<=143;)H[T*2+1]=8,T++,G[8]++;for(;T<=255;)H[T*2+1]=9,T++,G[9]++;for(;T<=279;)H[T*2+1]=7,T++,G[7]++;for(;T<=287;)H[T*2+1]=8,T++,G[8]++;for(Wt(H,p+1,G),T=0;T<x;T++)le[T*2+1]=5,le[T*2]=Oe(T,5);Ye=new ke(H,J,h+1,p,b),de=new ke(le,ue,0,x,b),xe=new ke(new Array(0),ie,0,N,D)}function ht(T){var K;for(K=0;K<p;K++)T.dyn_ltree[K*2]=0;for(K=0;K<x;K++)T.dyn_dtree[K*2]=0;for(K=0;K<N;K++)T.bl_tree[K*2]=0;T.dyn_ltree[j*2]=1,T.opt_len=T.static_len=0,T.last_lit=T.matches=0}function gr(T){T.bi_valid>8?$e(T,T.bi_buf):T.bi_valid>0&&(T.pending_buf[T.pending++]=T.bi_buf),T.bi_buf=0,T.bi_valid=0}function Nt(T,K,ee,ge){gr(T),$e(T,ee),$e(T,~ee),s.arraySet(T.pending_buf,T.window,K,ee,T.pending),T.pending+=ee}function kt(T,K,ee,ge){var O=K*2,G=ee*2;return T[O]<T[G]||T[O]===T[G]&&ge[K]<=ge[ee]}function Ge(T,K,ee){for(var ge=T.heap[ee],O=ee<<1;O<=T.heap_len&&(O<T.heap_len&&kt(K,T.heap[O+1],T.heap[O],T.depth)&&O++,!kt(K,ge,T.heap[O],T.depth));)T.heap[ee]=T.heap[O],ee=O,O<<=1;T.heap[ee]=ge}function Ce(T,K,ee){var ge,O,G=0,E,X;if(T.last_lit!==0)do ge=T.pending_buf[T.d_buf+G*2]<<8|T.pending_buf[T.d_buf+G*2+1],O=T.pending_buf[T.l_buf+G],G++,ge===0?Ue(T,O,K):(E=be[O],Ue(T,E+h+1,K),X=J[E],X!==0&&(O-=ce[E],Se(T,O,X)),ge--,E=Re(ge),Ue(T,E,ee),X=ue[E],X!==0&&(ge-=Te[E],Se(T,ge,X)));while(G<T.last_lit);Ue(T,j,K)}function jt(T,K){var ee=K.dyn_tree,ge=K.stat_desc.static_tree,O=K.stat_desc.has_stree,G=K.stat_desc.elems,E,X,Ee=-1,d;for(T.heap_len=0,T.heap_max=w,E=0;E<G;E++)ee[E*2]!==0?(T.heap[++T.heap_len]=Ee=E,T.depth[E]=0):ee[E*2+1]=0;for(;T.heap_len<2;)d=T.heap[++T.heap_len]=Ee<2?++Ee:0,ee[d*2]=1,T.depth[d]=0,T.opt_len--,O&&(T.static_len-=ge[d*2+1]);for(K.max_code=Ee,E=T.heap_len>>1;E>=1;E--)Ge(T,ee,E);d=G;do E=T.heap[1],T.heap[1]=T.heap[T.heap_len--],Ge(T,ee,1),X=T.heap[1],T.heap[--T.heap_max]=E,T.heap[--T.heap_max]=X,ee[d*2]=ee[E*2]+ee[X*2],T.depth[d]=(T.depth[E]>=T.depth[X]?T.depth[E]:T.depth[X])+1,ee[E*2+1]=ee[X*2+1]=d,T.heap[1]=d++,Ge(T,ee,1);while(T.heap_len>=2);T.heap[--T.heap_max]=T.heap[1],at(T,K),Wt(ee,Ee,T.bl_count)}function qr(T,K,ee){var ge,O=-1,G,E=K[0*2+1],X=0,Ee=7,d=4;for(E===0&&(Ee=138,d=3),K[(ee+1)*2+1]=65535,ge=0;ge<=ee;ge++)G=E,E=K[(ge+1)*2+1],!(++X<Ee&&G===E)&&(X<d?T.bl_tree[G*2]+=X:G!==0?(G!==O&&T.bl_tree[G*2]++,T.bl_tree[R*2]++):X<=10?T.bl_tree[L*2]++:T.bl_tree[W*2]++,X=0,O=G,E===0?(Ee=138,d=3):G===E?(Ee=6,d=3):(Ee=7,d=4))}function vr(T,K,ee){var ge,O=-1,G,E=K[0*2+1],X=0,Ee=7,d=4;for(E===0&&(Ee=138,d=3),ge=0;ge<=ee;ge++)if(G=E,E=K[(ge+1)*2+1],!(++X<Ee&&G===E)){if(X<d)do Ue(T,G,T.bl_tree);while(--X!==0);else G!==0?(G!==O&&(Ue(T,G,T.bl_tree),X--),Ue(T,R,T.bl_tree),Se(T,X-3,2)):X<=10?(Ue(T,L,T.bl_tree),Se(T,X-3,3)):(Ue(T,W,T.bl_tree),Se(T,X-11,7));X=0,O=G,E===0?(Ee=138,d=3):G===E?(Ee=6,d=3):(Ee=7,d=4)}}function Ot(T){var K;for(qr(T,T.dyn_ltree,T.l_desc.max_code),qr(T,T.dyn_dtree,T.d_desc.max_code),jt(T,T.bl_desc),K=N-1;K>=3&&T.bl_tree[ae[K]*2+1]===0;K--);return T.opt_len+=3*(K+1)+5+5+4,K}function $r(T,K,ee,ge){var O;for(Se(T,K-257,5),Se(T,ee-1,5),Se(T,ge-4,4),O=0;O<ge;O++)Se(T,T.bl_tree[ae[O]*2+1],3);vr(T,T.dyn_ltree,K-1),vr(T,T.dyn_dtree,ee-1)}function yr(T){var K=4093624447,ee;for(ee=0;ee<=31;ee++,K>>>=1)if(K&1&&T.dyn_ltree[ee*2]!==0)return o;if(T.dyn_ltree[9*2]!==0||T.dyn_ltree[10*2]!==0||T.dyn_ltree[13*2]!==0)return l;for(ee=32;ee<h;ee++)if(T.dyn_ltree[ee*2]!==0)return l;return o}var Ht=!1;function Vr(T){Ht||(Pe(),Ht=!0),T.l_desc=new _e(T.dyn_ltree,Ye),T.d_desc=new _e(T.dyn_dtree,de),T.bl_desc=new _e(T.bl_tree,xe),T.bi_buf=0,T.bi_valid=0,ht(T)}function wr(T,K,ee,ge){Se(T,(f<<1)+(ge?1:0),3),Nt(T,K,ee)}function pt(T){Se(T,m<<1,3),Ue(T,j,H),yt(T)}function qt(T,K,ee,ge){var O,G,E=0;T.level>0?(T.strm.data_type===u&&(T.strm.data_type=yr(T)),jt(T,T.l_desc),jt(T,T.d_desc),E=Ot(T),O=T.opt_len+3+7>>>3,G=T.static_len+3+7>>>3,G<=O&&(O=G)):O=G=ee+5,ee+4<=O&&K!==-1?wr(T,K,ee,ge):T.strategy===a||G===O?(Se(T,(m<<1)+(ge?1:0),3),Ce(T,H,le)):(Se(T,(y<<1)+(ge?1:0),3),$r(T,T.l_desc.max_code+1,T.d_desc.max_code+1,E+1),Ce(T,T.dyn_ltree,T.dyn_dtree)),ht(T),ge&&gr(T)}function cn(T,K,ee){return T.pending_buf[T.d_buf+T.last_lit*2]=K>>>8&255,T.pending_buf[T.d_buf+T.last_lit*2+1]=K&255,T.pending_buf[T.l_buf+T.last_lit]=ee&255,T.last_lit++,K===0?T.dyn_ltree[ee*2]++:(T.matches++,K--,T.dyn_ltree[(be[ee]+h+1)*2]++,T.dyn_dtree[Re(K)*2]++),T.last_lit===T.lit_bufsize-1}i._tr_init=Vr,i._tr_stored_block=wr,i._tr_flush_block=qt,i._tr_tally=cn,i._tr_align=pt},{"../utils/common":41}],53:[function(r,n,i){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}n.exports=s},{}],54:[function(r,n,i){(function(s){(function(a,o){if(a.setImmediate)return;var l=1,u={},c=!1,f=a.document,m;function y(D){typeof D!="function"&&(D=new Function(""+D));for(var j=new Array(arguments.length-1),R=0;R<j.length;R++)j[R]=arguments[R+1];var L={callback:D,args:j};return u[l]=L,m(l),l++}function S(D){delete u[D]}function C(D){var j=D.callback,R=D.args;switch(R.length){case 0:j();break;case 1:j(R[0]);break;case 2:j(R[0],R[1]);break;case 3:j(R[0],R[1],R[2]);break;default:j.apply(o,R);break}}function g(D){if(c)setTimeout(g,0,D);else{var j=u[D];if(j){c=!0;try{C(j)}finally{S(D),c=!1}}}}function h(){m=function(D){process.nextTick(function(){g(D)})}}function p(){if(a.postMessage&&!a.importScripts){var D=!0,j=a.onmessage;return a.onmessage=function(){D=!1},a.postMessage("","*"),a.onmessage=j,D}}function x(){var D="setImmediate$"+Math.random()+"$",j=function(R){R.source===a&&typeof R.data=="string"&&R.data.indexOf(D)===0&&g(+R.data.slice(D.length))};a.addEventListener?a.addEventListener("message",j,!1):a.attachEvent("onmessage",j),m=function(R){a.postMessage(D+R,"*")}}function N(){var D=new MessageChannel;D.port1.onmessage=function(j){var R=j.data;g(R)},m=function(j){D.port2.postMessage(j)}}function w(){var D=f.documentElement;m=function(j){var R=f.createElement("script");R.onreadystatechange=function(){g(j),R.onreadystatechange=null,D.removeChild(R),R=null},D.appendChild(R)}}function b(){m=function(D){setTimeout(g,0,D)}}var _=Object.getPrototypeOf&&Object.getPrototypeOf(a);_=_&&_.setTimeout?_:a,{}.toString.call(a.process)==="[object process]"?h():p()?x():a.MessageChannel?N():f&&"onreadystatechange"in f.createElement("script")?w():b(),_.setImmediate=y,_.clearImmediate=S})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(nv);var _x=nv.exports;const kx=$i(_x);class Cx{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new kx}catch{throw new Error("JSZip lib not loaded")}}open(e,r){return this.zip.loadAsync(e,{base64:r})}openUrl(e,r){return Vs(e,"binary").then((function(n){return this.zip.loadAsync(n,{base64:r})}).bind(this))}request(e,r){var n=new Le,i,s=new ln(e);return r||(r=s.extension),r=="blob"?i=this.getBlob(e):i=this.getText(e),i?i.then((function(a){let o=this.handleResponse(a,r);n.resolve(o)}).bind(this)):n.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),n.promise}handleResponse(e,r){var n;return r=="json"?n=JSON.parse(e):$s(r)?n=Wr(e,"text/xml"):r=="xhtml"?n=Wr(e,"application/xhtml+xml"):r=="html"||r=="htm"?n=Wr(e,"text/html"):n=e,n}getBlob(e,r){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return r=r||Bi.lookup(i.name),i.async("uint8array").then(function(s){return new Blob([s],{type:r})})}getText(e,r){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return i.async("string").then(function(s){return s})}getBase64(e,r){var n=window.decodeURIComponent(e.substr(1)),i=this.zip.file(n);if(i)return r=r||Bi.lookup(i.name),i.async("base64").then(function(s){return"data:"+r+";base64,"+s})}createUrl(e,r){var n=new Le,i=window.URL||window.webkitURL||window.mozURL,s,a,o=r&&r.base64;return e in this.urlCache?(n.resolve(this.urlCache[e]),n.promise):(o?(a=this.getBase64(e),a&&a.then((function(l){this.urlCache[e]=l,n.resolve(l)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(l){s=i.createObjectURL(l),this.urlCache[e]=s,n.resolve(s)}).bind(this))),a||n.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),n.promise)}revokeUrl(e){var r=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&r.revokeObjectURL(n)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let r in this.urlCache)e.revokeObjectURL(r);this.zip=void 0,this.urlCache={}}}var iv={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(n,i,s){function a(u,c){if(!i[u]){if(!n[u]){var f=typeof xn=="function"&&xn;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var y=i[u]={exports:{}};n[u][0].call(y.exports,function(S){var C=n[u][1][S];return a(C||S)},y,y.exports,r,n,i,s)}return i[u].exports}for(var o=typeof xn=="function"&&xn,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,n,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var l=0,u=new a(S),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),o=function(){c.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=S,o=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var g=s.document.createElement("script");g.onreadystatechange=function(){S(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},s.document.documentElement.appendChild(g)}:o=function(){setTimeout(S,0)};var m,y=[];function S(){m=!0;for(var g,h,p=y.length;p;){for(h=y,y=[],g=-1;++g<p;)h[g]();p=y.length}m=!1}n.exports=C;function C(g){y.push(g)===1&&!m&&o()}}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(r,n,i){var s=r(1);function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];n.exports=f;function f(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,w!==a&&C(this,w)}f.prototype.catch=function(w){return this.then(null,w)},f.prototype.then=function(w,b){if(typeof w!="function"&&this.state===u||typeof b!="function"&&this.state===l)return this;var _=new this.constructor(a);if(this.state!==c){var D=this.state===u?w:b;y(_,D,this.outcome)}else this.queue.push(new m(_,w,b));return _};function m(w,b,_){this.promise=w,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(w){o.resolve(this.promise,w)},m.prototype.otherCallFulfilled=function(w){y(this.promise,this.onFulfilled,w)},m.prototype.callRejected=function(w){o.reject(this.promise,w)},m.prototype.otherCallRejected=function(w){y(this.promise,this.onRejected,w)};function y(w,b,_){s(function(){var D;try{D=b(_)}catch(j){return o.reject(w,j)}D===w?o.reject(w,new TypeError("Cannot resolve promise with itself")):o.resolve(w,D)})}o.resolve=function(w,b){var _=g(S,b);if(_.status==="error")return o.reject(w,_.value);var D=_.value;if(D)C(w,D);else{w.state=u,w.outcome=b;for(var j=-1,R=w.queue.length;++j<R;)w.queue[j].callFulfilled(b)}return w},o.reject=function(w,b){w.state=l,w.outcome=b;for(var _=-1,D=w.queue.length;++_<D;)w.queue[_].callRejected(b);return w};function S(w){var b=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof b=="function")return function(){b.apply(w,arguments)}}function C(w,b){var _=!1;function D(W){_||(_=!0,o.reject(w,W))}function j(W){_||(_=!0,o.resolve(w,W))}function R(){b(j,D)}var L=g(R);L.status==="error"&&D(L.value)}function g(w,b){var _={};try{_.value=w(b),_.status="success"}catch(D){_.status="error",_.value=D}return _}f.resolve=h;function h(w){return w instanceof this?w:o.resolve(new this(a),w)}f.reject=p;function p(w){var b=new this(a);return o.reject(b,w)}f.all=x;function x(w){var b=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,D=!1;if(!_)return this.resolve([]);for(var j=new Array(_),R=0,L=-1,W=new this(a);++L<_;)J(w[L],L);return W;function J(ue,ie){b.resolve(ue).then(ae,function(oe){D||(D=!0,o.reject(W,oe))});function ae(oe){j[ie]=oe,++R===_&&!D&&(D=!0,o.resolve(W,j))}}}f.race=N;function N(w){var b=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=w.length,D=!1;if(!_)return this.resolve([]);for(var j=-1,R=new this(a);++j<_;)L(w[j]);return R;function L(W){b.resolve(W).then(function(J){D||(D=!0,o.resolve(R,J))},function(J){D||(D=!0,o.reject(R,J))})}}},{1:1}],3:[function(r,n,i){(function(s){typeof s.Promise!="function"&&(s.Promise=r(2))}).call(this,typeof dr<"u"?dr:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(r,n,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};function a(A,B){if(!(A instanceof B))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=o();function u(){try{if(!l||!l.open)return!1;var A=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),B=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!A||B)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(A,B){A=A||[],B=B||{};try{return new Blob(A,B)}catch(P){if(P.name!=="TypeError")throw P;for(var I=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,F=new I,M=0;M<A.length;M+=1)F.append(A[M]);return F.getBlob(B.type)}}typeof Promise>"u"&&r(3);var f=Promise;function m(A,B){B&&A.then(function(I){B(null,I)},function(I){B(I)})}function y(A,B,I){typeof B=="function"&&A.then(B),typeof I=="function"&&A.catch(I)}function S(A){return typeof A!="string"&&(console.warn(A+" used as a key, but it is not a string."),A=String(A)),A}function C(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",h=void 0,p={},x=Object.prototype.toString,N="readonly",w="readwrite";function b(A){for(var B=A.length,I=new ArrayBuffer(B),F=new Uint8Array(I),M=0;M<B;M++)F[M]=A.charCodeAt(M);return I}function _(A){return new f(function(B){var I=A.transaction(g,w),F=c([""]);I.objectStore(g).put(F,"key"),I.onabort=function(M){M.preventDefault(),M.stopPropagation(),B(!1)},I.oncomplete=function(){var M=navigator.userAgent.match(/Chrome\/(\d+)/),P=navigator.userAgent.match(/Edge\//);B(P||!M||parseInt(M[1],10)>=43)}}).catch(function(){return!1})}function D(A){return typeof h=="boolean"?f.resolve(h):_(A).then(function(B){return h=B,h})}function j(A){var B=p[A.name],I={};I.promise=new f(function(F,M){I.resolve=F,I.reject=M}),B.deferredOperations.push(I),B.dbReady?B.dbReady=B.dbReady.then(function(){return I.promise}):B.dbReady=I.promise}function R(A){var B=p[A.name],I=B.deferredOperations.pop();if(I)return I.resolve(),I.promise}function L(A,B){var I=p[A.name],F=I.deferredOperations.pop();if(F)return F.reject(B),F.promise}function W(A,B){return new f(function(I,F){if(p[A.name]=p[A.name]||ce(),A.db)if(B)j(A),A.db.close();else return I(A.db);var M=[A.name];B&&M.push(A.version);var P=l.open.apply(l,M);B&&(P.onupgradeneeded=function(Z){var Q=P.result;try{Q.createObjectStore(A.storeName),Z.oldVersion<=1&&Q.createObjectStore(g)}catch(re){if(re.name==="ConstraintError")console.warn('The database "'+A.name+'" has been upgraded from version '+Z.oldVersion+" to version "+Z.newVersion+', but the storage "'+A.storeName+'" already exists.');else throw re}}),P.onerror=function(Z){Z.preventDefault(),F(P.error)},P.onsuccess=function(){var Z=P.result;Z.onversionchange=function(Q){Q.target.close()},I(Z),R(A)}})}function J(A){return W(A,!1)}function ue(A){return W(A,!0)}function ie(A,B){if(!A.db)return!0;var I=!A.db.objectStoreNames.contains(A.storeName),F=A.version<A.db.version,M=A.version>A.db.version;if(F&&(A.version!==B&&console.warn('The database "'+A.name+`" can't be downgraded from version `+A.db.version+" to version "+A.version+"."),A.version=A.db.version),M||I){if(I){var P=A.db.version+1;P>A.version&&(A.version=P)}return!0}return!1}function ae(A){return new f(function(B,I){var F=new FileReader;F.onerror=I,F.onloadend=function(M){var P=btoa(M.target.result||"");B({__local_forage_encoded_blob:!0,data:P,type:A.type})},F.readAsBinaryString(A)})}function oe(A){var B=b(atob(A.data));return c([B],{type:A.type})}function H(A){return A&&A.__local_forage_encoded_blob}function le(A){var B=this,I=B._initReady().then(function(){var F=p[B._dbInfo.name];if(F&&F.dbReady)return F.dbReady});return y(I,A,A),I}function me(A){j(A);for(var B=p[A.name],I=B.forages,F=0;F<I.length;F++){var M=I[F];M._dbInfo.db&&(M._dbInfo.db.close(),M._dbInfo.db=null)}return A.db=null,J(A).then(function(P){return A.db=P,ie(A)?ue(A):P}).then(function(P){A.db=B.db=P;for(var Z=0;Z<I.length;Z++)I[Z]._dbInfo.db=P}).catch(function(P){throw L(A,P),P})}function be(A,B,I,F){F===void 0&&(F=1);try{var M=A.db.transaction(A.storeName,B);I(null,M)}catch(P){if(F>0&&(!A.db||P.name==="InvalidStateError"||P.name==="NotFoundError"))return f.resolve().then(function(){if(!A.db||P.name==="NotFoundError"&&!A.db.objectStoreNames.contains(A.storeName)&&A.version<=A.db.version)return A.db&&(A.version=A.db.version+1),ue(A)}).then(function(){return me(A).then(function(){be(A,B,I,F-1)})}).catch(I);I(P)}}function ce(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Te(A){var B=this,I={db:null};if(A)for(var F in A)I[F]=A[F];var M=p[I.name];M||(M=ce(),p[I.name]=M),M.forages.push(B),B._initReady||(B._initReady=B.ready,B.ready=le);var P=[];function Z(){return f.resolve()}for(var Q=0;Q<M.forages.length;Q++){var re=M.forages[Q];re!==B&&P.push(re._initReady().catch(Z))}var ne=M.forages.slice(0);return f.all(P).then(function(){return I.db=M.db,J(I)}).then(function(se){return I.db=se,ie(I,B._defaultConfig.version)?ue(I):se}).then(function(se){I.db=M.db=se,B._dbInfo=I;for(var we=0;we<ne.length;we++){var De=ne[we];De!==B&&(De._dbInfo.db=I.db,De._dbInfo.version=I.version)}})}function ke(A,B){var I=this;A=S(A);var F=new f(function(M,P){I.ready().then(function(){be(I._dbInfo,N,function(Z,Q){if(Z)return P(Z);try{var re=Q.objectStore(I._dbInfo.storeName),ne=re.get(A);ne.onsuccess=function(){var se=ne.result;se===void 0&&(se=null),H(se)&&(se=oe(se)),M(se)},ne.onerror=function(){P(ne.error)}}catch(se){P(se)}})}).catch(P)});return m(F,B),F}function Ye(A,B){var I=this,F=new f(function(M,P){I.ready().then(function(){be(I._dbInfo,N,function(Z,Q){if(Z)return P(Z);try{var re=Q.objectStore(I._dbInfo.storeName),ne=re.openCursor(),se=1;ne.onsuccess=function(){var we=ne.result;if(we){var De=we.value;H(De)&&(De=oe(De));var Fe=A(De,we.key,se++);Fe!==void 0?M(Fe):we.continue()}else M()},ne.onerror=function(){P(ne.error)}}catch(we){P(we)}})}).catch(P)});return m(F,B),F}function de(A,B,I){var F=this;A=S(A);var M=new f(function(P,Z){var Q;F.ready().then(function(){return Q=F._dbInfo,x.call(B)==="[object Blob]"?D(Q.db).then(function(re){return re?B:ae(B)}):B}).then(function(re){be(F._dbInfo,w,function(ne,se){if(ne)return Z(ne);try{var we=se.objectStore(F._dbInfo.storeName);re===null&&(re=void 0);var De=we.put(re,A);se.oncomplete=function(){re===void 0&&(re=null),P(re)},se.onabort=se.onerror=function(){var Fe=De.error?De.error:De.transaction.error;Z(Fe)}}catch(Fe){Z(Fe)}})}).catch(Z)});return m(M,I),M}function xe(A,B){var I=this;A=S(A);var F=new f(function(M,P){I.ready().then(function(){be(I._dbInfo,w,function(Z,Q){if(Z)return P(Z);try{var re=Q.objectStore(I._dbInfo.storeName),ne=re.delete(A);Q.oncomplete=function(){M()},Q.onerror=function(){P(ne.error)},Q.onabort=function(){var se=ne.error?ne.error:ne.transaction.error;P(se)}}catch(se){P(se)}})}).catch(P)});return m(F,B),F}function _e(A){var B=this,I=new f(function(F,M){B.ready().then(function(){be(B._dbInfo,w,function(P,Z){if(P)return M(P);try{var Q=Z.objectStore(B._dbInfo.storeName),re=Q.clear();Z.oncomplete=function(){F()},Z.onabort=Z.onerror=function(){var ne=re.error?re.error:re.transaction.error;M(ne)}}catch(ne){M(ne)}})}).catch(M)});return m(I,A),I}function Re(A){var B=this,I=new f(function(F,M){B.ready().then(function(){be(B._dbInfo,N,function(P,Z){if(P)return M(P);try{var Q=Z.objectStore(B._dbInfo.storeName),re=Q.count();re.onsuccess=function(){F(re.result)},re.onerror=function(){M(re.error)}}catch(ne){M(ne)}})}).catch(M)});return m(I,A),I}function $e(A,B){var I=this,F=new f(function(M,P){if(A<0){M(null);return}I.ready().then(function(){be(I._dbInfo,N,function(Z,Q){if(Z)return P(Z);try{var re=Q.objectStore(I._dbInfo.storeName),ne=!1,se=re.openKeyCursor();se.onsuccess=function(){var we=se.result;if(!we){M(null);return}A===0||ne?M(we.key):(ne=!0,we.advance(A))},se.onerror=function(){P(se.error)}}catch(we){P(we)}})}).catch(P)});return m(F,B),F}function Se(A){var B=this,I=new f(function(F,M){B.ready().then(function(){be(B._dbInfo,N,function(P,Z){if(P)return M(P);try{var Q=Z.objectStore(B._dbInfo.storeName),re=Q.openKeyCursor(),ne=[];re.onsuccess=function(){var se=re.result;if(!se){F(ne);return}ne.push(se.key),se.continue()},re.onerror=function(){M(re.error)}}catch(se){M(se)}})}).catch(M)});return m(I,A),I}function Ue(A,B){B=C.apply(this,arguments);var I=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||I.name,A.storeName=A.storeName||I.storeName);var F=this,M;if(!A.name)M=f.reject("Invalid arguments");else{var P=A.name===I.name&&F._dbInfo.db,Z=P?f.resolve(F._dbInfo.db):J(A).then(function(Q){var re=p[A.name],ne=re.forages;re.db=Q;for(var se=0;se<ne.length;se++)ne[se]._dbInfo.db=Q;return Q});A.storeName?M=Z.then(function(Q){if(Q.objectStoreNames.contains(A.storeName)){var re=Q.version+1;j(A);var ne=p[A.name],se=ne.forages;Q.close();for(var we=0;we<se.length;we++){var De=se[we];De._dbInfo.db=null,De._dbInfo.version=re}var Fe=new f(function(We,dt){var lt=l.open(A.name,re);lt.onerror=function(or){var Ki=lt.result;Ki.close(),dt(or)},lt.onupgradeneeded=function(){var or=lt.result;or.deleteObjectStore(A.storeName)},lt.onsuccess=function(){var or=lt.result;or.close(),We(or)}});return Fe.then(function(We){ne.db=We;for(var dt=0;dt<se.length;dt++){var lt=se[dt];lt._dbInfo.db=We,R(lt._dbInfo)}}).catch(function(We){throw(L(A,We)||f.resolve()).catch(function(){}),We})}}):M=Z.then(function(Q){j(A);var re=p[A.name],ne=re.forages;Q.close();for(var se=0;se<ne.length;se++){var we=ne[se];we._dbInfo.db=null}var De=new f(function(Fe,We){var dt=l.deleteDatabase(A.name);dt.onerror=function(){var lt=dt.result;lt&&lt.close(),We(dt.error)},dt.onblocked=function(){console.warn('dropInstance blocked for database "'+A.name+'" until all open connections are closed')},dt.onsuccess=function(){var lt=dt.result;lt&&lt.close(),Fe(lt)}});return De.then(function(Fe){re.db=Fe;for(var We=0;We<ne.length;We++){var dt=ne[We];R(dt._dbInfo)}}).catch(function(Fe){throw(L(A,Fe)||f.resolve()).catch(function(){}),Fe})})}return m(M,B),M}var Oe={_driver:"asyncStorage",_initStorage:Te,_support:u(),iterate:Ye,getItem:ke,setItem:de,removeItem:xe,clear:_e,length:Re,key:$e,keys:Se,dropInstance:Ue};function yt(){return typeof openDatabase=="function"}var at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wt="~~local_forage_type~",Pe=/^~~local_forage_type~([^~]+)~/,ht="__lfsc__:",gr=ht.length,Nt="arbf",kt="blob",Ge="si08",Ce="ui08",jt="uic8",qr="si16",vr="si32",Ot="ur16",$r="ui32",yr="fl32",Ht="fl64",Vr=gr+Nt.length,wr=Object.prototype.toString;function pt(A){var B=A.length*.75,I=A.length,F,M=0,P,Z,Q,re;A[A.length-1]==="="&&(B--,A[A.length-2]==="="&&B--);var ne=new ArrayBuffer(B),se=new Uint8Array(ne);for(F=0;F<I;F+=4)P=at.indexOf(A[F]),Z=at.indexOf(A[F+1]),Q=at.indexOf(A[F+2]),re=at.indexOf(A[F+3]),se[M++]=P<<2|Z>>4,se[M++]=(Z&15)<<4|Q>>2,se[M++]=(Q&3)<<6|re&63;return ne}function qt(A){var B=new Uint8Array(A),I="",F;for(F=0;F<B.length;F+=3)I+=at[B[F]>>2],I+=at[(B[F]&3)<<4|B[F+1]>>4],I+=at[(B[F+1]&15)<<2|B[F+2]>>6],I+=at[B[F+2]&63];return B.length%3===2?I=I.substring(0,I.length-1)+"=":B.length%3===1&&(I=I.substring(0,I.length-2)+"=="),I}function cn(A,B){var I="";if(A&&(I=wr.call(A)),A&&(I==="[object ArrayBuffer]"||A.buffer&&wr.call(A.buffer)==="[object ArrayBuffer]")){var F,M=ht;A instanceof ArrayBuffer?(F=A,M+=Nt):(F=A.buffer,I==="[object Int8Array]"?M+=Ge:I==="[object Uint8Array]"?M+=Ce:I==="[object Uint8ClampedArray]"?M+=jt:I==="[object Int16Array]"?M+=qr:I==="[object Uint16Array]"?M+=Ot:I==="[object Int32Array]"?M+=vr:I==="[object Uint32Array]"?M+=$r:I==="[object Float32Array]"?M+=yr:I==="[object Float64Array]"?M+=Ht:B(new Error("Failed to get type for BinaryArray"))),B(M+qt(F))}else if(I==="[object Blob]"){var P=new FileReader;P.onload=function(){var Z=Wt+A.type+"~"+qt(this.result);B(ht+kt+Z)},P.readAsArrayBuffer(A)}else try{B(JSON.stringify(A))}catch(Z){console.error("Couldn't convert value into a JSON string: ",A),B(null,Z)}}function T(A){if(A.substring(0,gr)!==ht)return JSON.parse(A);var B=A.substring(Vr),I=A.substring(gr,Vr),F;if(I===kt&&Pe.test(B)){var M=B.match(Pe);F=M[1],B=B.substring(M[0].length)}var P=pt(B);switch(I){case Nt:return P;case kt:return c([P],{type:F});case Ge:return new Int8Array(P);case Ce:return new Uint8Array(P);case jt:return new Uint8ClampedArray(P);case qr:return new Int16Array(P);case Ot:return new Uint16Array(P);case vr:return new Int32Array(P);case $r:return new Uint32Array(P);case yr:return new Float32Array(P);case Ht:return new Float64Array(P);default:throw new Error("Unkown type: "+I)}}var K={serialize:cn,deserialize:T,stringToBuffer:pt,bufferToString:qt};function ee(A,B,I,F){A.executeSql("CREATE TABLE IF NOT EXISTS "+B.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],I,F)}function ge(A){var B=this,I={db:null};if(A)for(var F in A)I[F]=typeof A[F]!="string"?A[F].toString():A[F];var M=new f(function(P,Z){try{I.db=openDatabase(I.name,String(I.version),I.description,I.size)}catch(Q){return Z(Q)}I.db.transaction(function(Q){ee(Q,I,function(){B._dbInfo=I,P()},function(re,ne){Z(ne)})},Z)});return I.serializer=K,M}function O(A,B,I,F,M,P){A.executeSql(I,F,M,function(Z,Q){Q.code===Q.SYNTAX_ERR?Z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[B.storeName],function(re,ne){ne.rows.length?P(re,Q):ee(re,B,function(){re.executeSql(I,F,M,P)},P)},P):P(Z,Q)},P)}function G(A,B){var I=this;A=S(A);var F=new f(function(M,P){I.ready().then(function(){var Z=I._dbInfo;Z.db.transaction(function(Q){O(Q,Z,"SELECT * FROM "+Z.storeName+" WHERE key = ? LIMIT 1",[A],function(re,ne){var se=ne.rows.length?ne.rows.item(0).value:null;se&&(se=Z.serializer.deserialize(se)),M(se)},function(re,ne){P(ne)})})}).catch(P)});return m(F,B),F}function E(A,B){var I=this,F=new f(function(M,P){I.ready().then(function(){var Z=I._dbInfo;Z.db.transaction(function(Q){O(Q,Z,"SELECT * FROM "+Z.storeName,[],function(re,ne){for(var se=ne.rows,we=se.length,De=0;De<we;De++){var Fe=se.item(De),We=Fe.value;if(We&&(We=Z.serializer.deserialize(We)),We=A(We,Fe.key,De+1),We!==void 0){M(We);return}}M()},function(re,ne){P(ne)})})}).catch(P)});return m(F,B),F}function X(A,B,I,F){var M=this;A=S(A);var P=new f(function(Z,Q){M.ready().then(function(){B===void 0&&(B=null);var re=B,ne=M._dbInfo;ne.serializer.serialize(B,function(se,we){we?Q(we):ne.db.transaction(function(De){O(De,ne,"INSERT OR REPLACE INTO "+ne.storeName+" (key, value) VALUES (?, ?)",[A,se],function(){Z(re)},function(Fe,We){Q(We)})},function(De){if(De.code===De.QUOTA_ERR){if(F>0){Z(X.apply(M,[A,re,I,F-1]));return}Q(De)}})})}).catch(Q)});return m(P,I),P}function Ee(A,B,I){return X.apply(this,[A,B,I,1])}function d(A,B){var I=this;A=S(A);var F=new f(function(M,P){I.ready().then(function(){var Z=I._dbInfo;Z.db.transaction(function(Q){O(Q,Z,"DELETE FROM "+Z.storeName+" WHERE key = ?",[A],function(){M()},function(re,ne){P(ne)})})}).catch(P)});return m(F,B),F}function $(A){var B=this,I=new f(function(F,M){B.ready().then(function(){var P=B._dbInfo;P.db.transaction(function(Z){O(Z,P,"DELETE FROM "+P.storeName,[],function(){F()},function(Q,re){M(re)})})}).catch(M)});return m(I,A),I}function V(A){var B=this,I=new f(function(F,M){B.ready().then(function(){var P=B._dbInfo;P.db.transaction(function(Z){O(Z,P,"SELECT COUNT(key) as c FROM "+P.storeName,[],function(Q,re){var ne=re.rows.item(0).c;F(ne)},function(Q,re){M(re)})})}).catch(M)});return m(I,A),I}function k(A,B){var I=this,F=new f(function(M,P){I.ready().then(function(){var Z=I._dbInfo;Z.db.transaction(function(Q){O(Q,Z,"SELECT key FROM "+Z.storeName+" WHERE id = ? LIMIT 1",[A+1],function(re,ne){var se=ne.rows.length?ne.rows.item(0).key:null;M(se)},function(re,ne){P(ne)})})}).catch(P)});return m(F,B),F}function z(A){var B=this,I=new f(function(F,M){B.ready().then(function(){var P=B._dbInfo;P.db.transaction(function(Z){O(Z,P,"SELECT key FROM "+P.storeName,[],function(Q,re){for(var ne=[],se=0;se<re.rows.length;se++)ne.push(re.rows.item(se).key);F(ne)},function(Q,re){M(re)})})}).catch(M)});return m(I,A),I}function U(A){return new f(function(B,I){A.transaction(function(F){F.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(M,P){for(var Z=[],Q=0;Q<P.rows.length;Q++)Z.push(P.rows.item(Q).name);B({db:A,storeNames:Z})},function(M,P){I(P)})},function(F){I(F)})})}function ye(A,B){B=C.apply(this,arguments);var I=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||I.name,A.storeName=A.storeName||I.storeName);var F=this,M;return A.name?M=new f(function(P){var Z;A.name===I.name?Z=F._dbInfo.db:Z=openDatabase(A.name,"","",0),A.storeName?P({db:Z,storeNames:[A.storeName]}):P(U(Z))}).then(function(P){return new f(function(Z,Q){P.db.transaction(function(re){function ne(Fe){return new f(function(We,dt){re.executeSql("DROP TABLE IF EXISTS "+Fe,[],function(){We()},function(lt,or){dt(or)})})}for(var se=[],we=0,De=P.storeNames.length;we<De;we++)se.push(ne(P.storeNames[we]));f.all(se).then(function(){Z()}).catch(function(Fe){Q(Fe)})},function(re){Q(re)})})}):M=f.reject("Invalid arguments"),m(M,B),M}var he={_driver:"webSQLStorage",_initStorage:ge,_support:yt(),iterate:E,getItem:G,setItem:Ee,removeItem:d,clear:$,length:V,key:k,keys:z,dropInstance:ye};function pe(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ae(A,B){var I=A.name+"/";return A.storeName!==B.storeName&&(I+=A.storeName+"/"),I}function xr(){var A="_localforage_support_test";try{return localStorage.setItem(A,!0),localStorage.removeItem(A),!1}catch{return!0}}function Qe(){return!xr()||localStorage.length>0}function Ie(A){var B=this,I={};if(A)for(var F in A)I[F]=A[F];return I.keyPrefix=Ae(A,B._defaultConfig),Qe()?(B._dbInfo=I,I.serializer=K,f.resolve()):f.reject()}function ot(A){var B=this,I=B.ready().then(function(){for(var F=B._dbInfo.keyPrefix,M=localStorage.length-1;M>=0;M--){var P=localStorage.key(M);P.indexOf(F)===0&&localStorage.removeItem(P)}});return m(I,A),I}function wt(A,B){var I=this;A=S(A);var F=I.ready().then(function(){var M=I._dbInfo,P=localStorage.getItem(M.keyPrefix+A);return P&&(P=M.serializer.deserialize(P)),P});return m(F,B),F}function Tt(A,B){var I=this,F=I.ready().then(function(){for(var M=I._dbInfo,P=M.keyPrefix,Z=P.length,Q=localStorage.length,re=1,ne=0;ne<Q;ne++){var se=localStorage.key(ne);if(se.indexOf(P)===0){var we=localStorage.getItem(se);if(we&&(we=M.serializer.deserialize(we)),we=A(we,se.substring(Z),re++),we!==void 0)return we}}});return m(F,B),F}function Jn(A,B){var I=this,F=I.ready().then(function(){var M=I._dbInfo,P;try{P=localStorage.key(A)}catch{P=null}return P&&(P=P.substring(M.keyPrefix.length)),P});return m(F,B),F}function ei(A){var B=this,I=B.ready().then(function(){for(var F=B._dbInfo,M=localStorage.length,P=[],Z=0;Z<M;Z++){var Q=localStorage.key(Z);Q.indexOf(F.keyPrefix)===0&&P.push(Q.substring(F.keyPrefix.length))}return P});return m(I,A),I}function nt(A){var B=this,I=B.keys().then(function(F){return F.length});return m(I,A),I}function $t(A,B){var I=this;A=S(A);var F=I.ready().then(function(){var M=I._dbInfo;localStorage.removeItem(M.keyPrefix+A)});return m(F,B),F}function mt(A,B,I){var F=this;A=S(A);var M=F.ready().then(function(){B===void 0&&(B=null);var P=B;return new f(function(Z,Q){var re=F._dbInfo;re.serializer.serialize(B,function(ne,se){if(se)Q(se);else try{localStorage.setItem(re.keyPrefix+A,ne),Z(P)}catch(we){(we.name==="QuotaExceededError"||we.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Q(we),Q(we)}})})});return m(M,I),M}function br(A,B){if(B=C.apply(this,arguments),A=typeof A!="function"&&A||{},!A.name){var I=this.config();A.name=A.name||I.name,A.storeName=A.storeName||I.storeName}var F=this,M;return A.name?M=new f(function(P){A.storeName?P(Ae(A,F._defaultConfig)):P(A.name+"/")}).then(function(P){for(var Z=localStorage.length-1;Z>=0;Z--){var Q=localStorage.key(Z);Q.indexOf(P)===0&&localStorage.removeItem(Q)}}):M=f.reject("Invalid arguments"),m(M,B),M}var ar={_driver:"localStorageWrapper",_initStorage:Ie,_support:pe(),iterate:Tt,getItem:wt,setItem:mt,removeItem:$t,clear:ot,length:nt,key:Jn,keys:ei,dropInstance:br},aa=function(B,I){return B===I||typeof B=="number"&&typeof I=="number"&&isNaN(B)&&isNaN(I)},lv=function(B,I){for(var F=B.length,M=0;M<F;){if(aa(B[M],I))return!0;M++}return!1},wd=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"},Yi={},xd={},ti={INDEXEDDB:Oe,WEBSQL:he,LOCALSTORAGE:ar},uv=[ti.INDEXEDDB._driver,ti.WEBSQL._driver,ti.LOCALSTORAGE._driver],oa=["dropInstance"],tl=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(oa),cv={description:"",driver:uv.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function dv(A,B){A[B]=function(){var I=arguments;return A.ready().then(function(){return A[B].apply(A,I)})}}function rl(){for(var A=1;A<arguments.length;A++){var B=arguments[A];if(B)for(var I in B)B.hasOwnProperty(I)&&(wd(B[I])?arguments[0][I]=B[I].slice():arguments[0][I]=B[I])}return arguments[0]}var fv=function(){function A(B){a(this,A);for(var I in ti)if(ti.hasOwnProperty(I)){var F=ti[I],M=F._driver;this[I]=M,Yi[M]||this.defineDriver(F)}this._defaultConfig=rl({},cv),this._config=rl({},this._defaultConfig,B),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return A.prototype.config=function(I){if((typeof I>"u"?"undefined":s(I))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var F in I){if(F==="storeName"&&(I[F]=I[F].replace(/\W/g,"_")),F==="version"&&typeof I[F]!="number")return new Error("Database version must be a number.");this._config[F]=I[F]}return"driver"in I&&I.driver?this.setDriver(this._config.driver):!0}else return typeof I=="string"?this._config[I]:this._config},A.prototype.defineDriver=function(I,F,M){var P=new f(function(Z,Q){try{var re=I._driver,ne=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!I._driver){Q(ne);return}for(var se=tl.concat("_initStorage"),we=0,De=se.length;we<De;we++){var Fe=se[we],We=!lv(oa,Fe);if((We||I[Fe])&&typeof I[Fe]!="function"){Q(ne);return}}var dt=function(){for(var Ki=function(mv){return function(){var gv=new Error("Method "+mv+" is not implemented by the current driver"),bd=f.reject(gv);return m(bd,arguments[arguments.length-1]),bd}},nl=0,pv=oa.length;nl<pv;nl++){var il=oa[nl];I[il]||(I[il]=Ki(il))}};dt();var lt=function(Ki){Yi[re]&&console.info("Redefining LocalForage driver: "+re),Yi[re]=I,xd[re]=Ki,Z()};"_support"in I?I._support&&typeof I._support=="function"?I._support().then(lt,Q):lt(!!I._support):lt(!0)}catch(or){Q(or)}});return y(P,F,M),P},A.prototype.driver=function(){return this._driver||null},A.prototype.getDriver=function(I,F,M){var P=Yi[I]?f.resolve(Yi[I]):f.reject(new Error("Driver not found."));return y(P,F,M),P},A.prototype.getSerializer=function(I){var F=f.resolve(K);return y(F,I),F},A.prototype.ready=function(I){var F=this,M=F._driverSet.then(function(){return F._ready===null&&(F._ready=F._initDriver()),F._ready});return y(M,I,I),M},A.prototype.setDriver=function(I,F,M){var P=this;wd(I)||(I=[I]);var Z=this._getSupportedDrivers(I);function Q(){P._config.driver=P.driver()}function re(we){return P._extend(we),Q(),P._ready=P._initStorage(P._config),P._ready}function ne(we){return function(){var De=0;function Fe(){for(;De<we.length;){var We=we[De];return De++,P._dbInfo=null,P._ready=null,P.getDriver(We).then(re).catch(Fe)}Q();var dt=new Error("No available storage method found.");return P._driverSet=f.reject(dt),P._driverSet}return Fe()}}var se=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=se.then(function(){var we=Z[0];return P._dbInfo=null,P._ready=null,P.getDriver(we).then(function(De){P._driver=De._driver,Q(),P._wrapLibraryMethodsWithReady(),P._initDriver=ne(Z)})}).catch(function(){Q();var we=new Error("No available storage method found.");return P._driverSet=f.reject(we),P._driverSet}),y(this._driverSet,F,M),this._driverSet},A.prototype.supports=function(I){return!!xd[I]},A.prototype._extend=function(I){rl(this,I)},A.prototype._getSupportedDrivers=function(I){for(var F=[],M=0,P=I.length;M<P;M++){var Z=I[M];this.supports(Z)&&F.push(Z)}return F},A.prototype._wrapLibraryMethodsWithReady=function(){for(var I=0,F=tl.length;I<F;I++)dv(this,tl[I])},A.prototype.createInstance=function(I){return new A(I)},A}(),hv=new fv;n.exports=hv},{3:3}]},{},[4])(4)})})(iv);var Sx=iv.exports;const wh=$i(Sx);class sv{constructor(e,r,n){this.urlCache={},this.storage=void 0,this.name=e,this.requester=r||Vs,this.resolver=n,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof wh>"u"&&(e=wh),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let r=navigator.onLine;this.online=r,r?this.emit("online",this):this.emit("offline",this)}add(e,r){let n=e.resources.map(i=>{let{href:s}=i,a=this.resolver(s),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(l=>!l||r?this.requester(a,"binary").then(u=>this.storage.setItem(o,u)):l)});return Promise.all(n)}put(e,r,n){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(s=>s||this.requester(e,"binary",r,n).then(a=>this.storage.setItem(i,a)))}request(e,r,n,i){return this.online?this.requester(e,r,n,i).then(s=>(this.put(e),s)):this.retrieve(e,r)}retrieve(e,r){new Le;var n,i=new ln(e);return r||(r=i.extension),r=="blob"?n=this.getBlob(e):n=this.getText(e),n.then(s=>{var a=new Le,o;return s?(o=this.handleResponse(s,r),a.resolve(o)):a.reject({message:"File not found in storage: "+e,stack:new Error().stack}),a.promise})}handleResponse(e,r){var n;return r=="json"?n=JSON.parse(e):$s(r)?n=Wr(e,"text/xml"):r=="xhtml"?n=Wr(e,"application/xhtml+xml"):r=="html"||r=="htm"?n=Wr(e,"text/html"):n=e,n}getBlob(e,r){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(function(i){if(i)return r=r||Bi.lookup(e),new Blob([i],{type:r})})}getText(e,r){let n=window.encodeURIComponent(e);return r=r||Bi.lookup(e),this.storage.getItem(n).then(function(i){var s=new Le,a=new FileReader,o;if(i)return o=new Blob([i],{type:r}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsText(o,r),s.promise})}getBase64(e,r){let n=window.encodeURIComponent(e);return r=r||Bi.lookup(e),this.storage.getItem(n).then(i=>{var s=new Le,a=new FileReader,o;if(i)return o=new Blob([i],{type:r}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsDataURL(o,r),s.promise})}createUrl(e,r){var n=new Le,i=window.URL||window.webkitURL||window.mozURL,s,a,o=r&&r.base64;return e in this.urlCache?(n.resolve(this.urlCache[e]),n.promise):(o?(a=this.getBase64(e),a&&a.then((function(l){this.urlCache[e]=l,n.resolve(l)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(l){s=i.createObjectURL(l),this.urlCache[e]=s,n.resolve(s)}).bind(this))),a||n.reject({message:"File not found in storage: "+e,stack:new Error().stack}),n.promise)}revokeUrl(e){var r=window.URL||window.webkitURL||window.mozURL,n=this.urlCache[e];n&&r.revokeObjectURL(n)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let r in this.urlCache)e.revokeObjectURL(r);this.urlCache={},this.removeListeners()}}Hr(sv.prototype);class $l{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const r=Ve(e,"display_options");return r?(on(r,"option").forEach(i=>{let s="";switch(i.childNodes.length&&(s=i.childNodes[0].nodeValue),i.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const xh="META-INF/container.xml",Dx="META-INF/com.apple.ibooks.display-options.xml",_r={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class gd{constructor(e,r){typeof r>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(r=e,e=void 0),this.settings=Dt(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Dt(this.settings,r),this.opening=new Le,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Le,spine:new Le,metadata:new Le,cover:new Le,navigation:new Le,pageList:new Le,resources:new Le,displayOptions:new Le},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Vs,this.spine=new $1,this.locations=new Ug(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(n=>{var i=new Error("Cannot load book at "+e);this.emit(fe.BOOK.OPEN_FAILED,i)})}open(e,r){var n,i=r||this.determineType(e);return i===_r.BINARY?(this.archived=!0,this.url=new Cr("/",""),n=this.openEpub(e)):i===_r.BASE64?(this.archived=!0,this.url=new Cr("/",""),n=this.openEpub(e,i)):i===_r.EPUB?(this.archived=!0,this.url=new Cr("/",""),n=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):i==_r.OPF?(this.url=new Cr(e),n=this.openPackaging(this.url.Path.toString())):i==_r.MANIFEST?(this.url=new Cr(e),n=this.openManifest(this.url.Path.toString())):(this.url=new Cr(e),n=this.openContainer(xh).then(this.openPackaging.bind(this))),n}openEpub(e,r){return this.unarchive(e,r||this.settings.encoding).then(()=>this.openContainer(xh)).then(n=>this.openPackaging(n))}openContainer(e){return this.load(e).then(r=>(this.container=new V1(r),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new ln(e),this.load(e).then(r=>(this.packaging=new dh(r),this.unpack(this.packaging)))}openManifest(e){return this.path=new ln(e),this.load(e).then(r=>(this.packaging=new dh,this.packaging.load(r),this.unpack(this.packaging)))}load(e){var r=this.resolve(e);return this.archived?this.archive.request(r):this.request(r,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,r){if(e){var n=e,i=e.indexOf("://")>-1;return i?e:(this.path&&(n=this.path.resolve(e)),r!=!1&&this.url&&(n=this.url.resolve(n)),n)}}canonical(e){var r=e;return e?(this.settings.canonical?r=this.settings.canonical(e):r=this.resolve(e,!0),r):""}determineType(e){var r,n,i;if(this.settings.encoding==="base64")return _r.BASE64;if(typeof e!="string")return _r.BINARY;if(r=new Cr(e),n=r.path(),i=n.extension,i&&(i=i.replace(/\?.*$/,"")),!i)return _r.DIRECTORY;if(i==="epub")return _r.EPUB;if(i==="opf")return _r.OPF;if(i==="json")return _r.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(Dx)).then(r=>{this.displayOptions=new $l(r),this.loading.displayOptions.resolve(this.displayOptions)}).catch(r=>{this.displayOptions=new $l,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new $l,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new K1(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(r=>{console.error(r)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let r=e.navPath||e.ncxPath,n=e.toc;return n?new Promise((i,s)=>{this.navigation=new Wl(n),e.pageList&&(this.pageList=new Hl(e.pageList)),i(this.navigation)}):r?this.load(r,"xml").then(i=>(this.navigation=new Wl(i),this.pageList=new Hl(i),this.navigation)):new Promise((i,s)=>{this.navigation=new Wl,this.pageList=new Hl,i(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,r){return this.rendition=new md(this,r),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,r){return this.archive=new Cx,this.archive.open(e,r)}store(e){let r=this.settings.replacements&&this.settings.replacements!=="none",n=this.url,i=this.settings.requestMethod||Vs.bind(this);return this.storage=new sv(e,i,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=r||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Cr("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=n,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,r)=>{r.output=this.resources.substitute(e,r.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var r=new Be(e),n=this.spine.get(r.spinePos),i=this.load.bind(this);return n?n.load(i).then(function(s){var a=r.toRange(n.document);return a}):new Promise((s,a)=>{a("CFI could not be found")})}key(e){var r=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Xo}:${r}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}Hr(gd.prototype);function Qn(t,e){return new gd(t,e)}Qn.VERSION=Xo;typeof global<"u"&&(global.EPUBJS_VERSION=Xo);Qn.Book=gd;Qn.Rendition=md;Qn.Contents=fd;Qn.CFI=Be;Qn.utils=O1;class vd{constructor(e){this.isDestroyed=!1;try{this.book=Qn(e)}catch(r){throw ze("EPUB_PARSER_INIT_FAILED",r,{fileName:e.name,fileSize:e.size}),r}}async initialize(){try{if(this.isDestroyed)throw new Error("Parser has been destroyed");return await this.book.ready,this}catch(e){throw ze("EPUB_PARSER_READY_FAILED",e),e}}async getMetadata(){try{if(this.isDestroyed)throw new Error("Parser has been destroyed");await this.book.ready;const e=this.book.packaging.metadata;let r;try{const n=await this.book.coverUrl();if(n){const i=await fetch(n);if(!i.ok)throw new Error(`Failed to fetch cover: ${i.status}`);const s=await i.blob();if(s.size===0)throw new Error("Cover image is empty");const a=`temp-${Date.now()}`;await Ff(a,s),r=URL.createObjectURL(s)}}catch(n){console.warn("Could not load cover image:",n),ze("COVER_LOAD_FAILED",n)}return{title:e.title||"Unknown Title",author:e.creator||"Unknown Author",cover:r}}catch(e){throw ze("GET_METADATA_FAILED",e),e}}async getTableOfContents(){try{if(this.isDestroyed)throw new Error("Parser has been destroyed");await this.book.ready;const e=await this.book.loaded.navigation,r=[],n=(i,s=0)=>{r.push({id:i.id||`chapter-${s}`,title:i.label||`Chapter ${s+1}`,content:"",href:i.href,order:s});let a=s+1;return i.subitems&&i.subitems.forEach(o=>{a=n(o,a)}),a};return e.toc&&e.toc.length>0?e.toc.forEach((i,s)=>{n(i,s)}):this.book.spine.each((i,s)=>{r.push({id:i.idref||`chapter-${s}`,title:i.href||`Chapter ${s+1}`,content:"",href:i.href,order:s})}),r}catch(e){throw ze("GET_TOC_FAILED",e),e}}async getChapterContent(e){try{if(this.isDestroyed)throw new Error("Parser has been destroyed");const r=this.book.spine.get(e);if(!r)throw new Error(`Chapter not found: ${e}`);const n=await r.load(this.book.load.bind(this.book));if(!n)throw new Error(`Failed to load chapter content: ${e}`);return n.innerHTML||n.textContent||""}catch(r){return console.error("Error loading chapter content:",r),ze("GET_CHAPTER_CONTENT_FAILED",r,{href:e}),"<p>Error loading chapter content.</p>"}}async getAllChapters(){try{if(this.isDestroyed)throw new Error("Parser has been destroyed");const e=await this.getTableOfContents();return await Promise.all(e.map(async n=>{try{const i=await this.getChapterContent(n.href);return{...n,content:i}}catch(i){return console.warn(`Failed to load content for chapter: ${n.title}`,i),{...n,content:"<p>Failed to load chapter content.</p>"}}}))}catch(e){throw ze("GET_ALL_CHAPTERS_FAILED",e),e}}async searchText(e){try{if(this.isDestroyed)throw new Error("Parser has been destroyed");const r=await this.getAllChapters(),n=[];return r.forEach((i,s)=>{try{const a=this.stripHtml(i.content),o=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"),l=[];let u;for(;(u=o.exec(a))!==null;){const c=Math.max(0,u.index-50),f=Math.min(a.length,u.index+u[0].length+50),m=a.substring(c,f);l.push({text:m,position:u.index,start:u.index-c,end:u.index-c+u[0].length}),o.lastIndex===u.index&&o.lastIndex++}l.length>0&&n.push({chapterIndex:s,matches:l})}catch(a){console.warn(`Search failed for chapter ${s}:`,a)}}),n}catch(r){throw ze("SEARCH_TEXT_FAILED",r,{query:e}),r}}stripHtml(e){try{const r=document.createElement("div");return r.innerHTML=e,r.textContent||r.innerText||""}catch(r){return console.warn("Failed to strip HTML:",r),e}}async cacheCoverImage(e){try{if(this.isDestroyed)throw new Error("Parser has been destroyed");const r=await this.book.coverUrl();if(r){const n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch cover: ${n.status}`);const i=await n.blob();if(i.size===0)throw new Error("Cover image is empty");await Ff(e,i)}}catch(r){console.warn("Could not cache cover image:",r),ze("CACHE_COVER_FAILED",r,{bookId:e})}}destroy(){try{this.isDestroyed=!0,this.book&&(this.book.destroy(),this.book=null),this.rendition&&(this.rendition.destroy(),this.rendition=null)}catch(e){console.warn("Error during parser destruction:",e)}}}const Ax=async t=>{try{if(!t||t.size===0)throw new Error("Invalid file: File is empty or corrupted");if(!t.name.toLowerCase().endsWith(".epub"))throw new Error("Invalid file type: Only EPUB files are supported");const e=new vd(t);await e.initialize();const r=await e.getMetadata(),n={title:r.title,author:r.author,cover:r.cover,file:t,addedAt:new Date,progress:0,currentChapter:0,scrollPosition:0};return e.destroy(),n}catch(e){throw ze("CREATE_BOOK_FROM_FILE_FAILED",e,{fileName:t==null?void 0:t.name,fileSize:t==null?void 0:t.size}),e}},Nx={myLibrary:{en:"My Library",pt:"Minha Biblioteca",de:"Meine Bibliothek",es:"Mi Biblioteca",ru:"Моя Библиотека",ja:"私のライブラリ",zh:"我的图书馆",fr:"Ma Bibliothèque"},books:{en:"books",pt:"livros",de:"Bücher",es:"libros",ru:"книги",ja:"本",zh:"书籍",fr:"livres"},book:{en:"book",pt:"livro",de:"Buch",es:"libro",ru:"книга",ja:"本",zh:"书",fr:"livre"},addBook:{en:"Add Book",pt:"Adicionar Livro",de:"Buch hinzufügen",es:"Agregar Libro",ru:"Добавить Книгу",ja:"本を追加",zh:"添加书籍",fr:"Ajouter un Livre"},searchBooks:{en:"Search books by title or author...",pt:"Pesquisar livros por título ou autor...",de:"Bücher nach Titel oder Autor suchen...",es:"Buscar libros por título o autor...",ru:"Поиск книг по названию или автору...",ja:"タイトルまたは著者で本を検索...",zh:"按标题或作者搜索书籍...",fr:"Rechercher des livres par titre ou auteur..."},noBooksYet:{en:"No books yet",pt:"Ainda não há livros",de:"Noch keine Bücher",es:"Aún no hay libros",ru:"Пока нет книг",ja:"まだ本がありません",zh:"还没有书籍",fr:"Pas encore de livres"},addFirstBook:{en:"Add your first EPUB book to get started reading",pt:"Adicione seu primeiro livro EPUB para começar a ler",de:"Fügen Sie Ihr erstes EPUB-Buch hinzu, um mit dem Lesen zu beginnen",es:"Agrega tu primer libro EPUB para comenzar a leer",ru:"Добавьте свою первую книгу EPUB, чтобы начать чтение",ja:"読書を始めるために最初のEPUB本を追加してください",zh:"添加您的第一本EPUB书籍开始阅读",fr:"Ajoutez votre premier livre EPUB pour commencer à lire"},addYourFirstBook:{en:"Add Your First Book",pt:"Adicione Seu Primeiro Livro",de:"Fügen Sie Ihr erstes Buch hinzu",es:"Agrega Tu Primer Libro",ru:"Добавьте Свою Первую Книгу",ja:"最初の本を追加",zh:"添加您的第一本书",fr:"Ajoutez Votre Premier Livre"},noBooksFound:{en:"No books found",pt:"Nenhum livro encontrado",de:"Keine Bücher gefunden",es:"No se encontraron libros",ru:"Книги не найдены",ja:"本が見つかりません",zh:"未找到书籍",fr:"Aucun livre trouvé"},tryAdjustingSearch:{en:"Try adjusting your search terms",pt:"Tente ajustar seus termos de pesquisa",de:"Versuchen Sie, Ihre Suchbegriffe anzupassen",es:"Intenta ajustar tus términos de búsqueda",ru:"Попробуйте изменить условия поиска",ja:"検索条件を調整してみてください",zh:"尝试调整您的搜索条件",fr:"Essayez d'ajuster vos termes de recherche"},lastRead:{en:"Last read",pt:"Última leitura",de:"Zuletzt gelesen",es:"Última lectura",ru:"Последнее чтение",ja:"最後に読んだ",zh:"最后阅读",fr:"Dernière lecture"},delete:{en:"Delete",pt:"Excluir",de:"Löschen",es:"Eliminar",ru:"Удалить",ja:"削除",zh:"删除",fr:"Supprimer"},confirmDeleteBook:{en:"Are you sure you want to delete this book? This action cannot be undone.",pt:"Tem certeza de que deseja excluir este livro? Esta ação não pode ser desfeita.",de:"Sind Sie sicher, dass Sie dieses Buch löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.",es:"¿Estás seguro de que quieres eliminar este libro? Esta acción no se puede deshacer.",ru:"Вы уверены, что хотите удалить эту книгу? Это действие нельзя отменить.",ja:"この本を削除してもよろしいですか？この操作は元に戻せません。",zh:"您确定要删除这本书吗？此操作无法撤消。",fr:"Êtes-vous sûr de vouloir supprimer ce livre ? Cette action ne peut pas être annulée."},never:{en:"Never",pt:"Nunca",de:"Nie",es:"Nunca",ru:"Никогда",ja:"なし",zh:"从未",fr:"Jamais"},justNow:{en:"Just now",pt:"Agora mesmo",de:"Gerade eben",es:"Ahora mismo",ru:"Только что",ja:"たった今",zh:"刚刚",fr:"À l'instant"},hoursAgo:{en:"h ago",pt:"h atrás",de:"h her",es:"h atrás",ru:"ч назад",ja:"時間前",zh:"小时前",fr:"h il y a"},daysAgo:{en:"d ago",pt:"d atrás",de:"d her",es:"d atrás",ru:"д назад",ja:"日前",zh:"天前",fr:"j il y a"},loadingLibrary:{en:"Loading your library...",pt:"Carregando sua biblioteca...",de:"Lade deine Bibliothek...",es:"Cargando tu biblioteca...",ru:"Загрузка вашей библиотеки...",ja:"ライブラリを読み込んでいます...",zh:"正在加载您的图书馆...",fr:"Chargement de votre bibliothèque..."},complete:{en:"complete",pt:"completo",de:"vollständig",es:"completo",ru:"завершено",ja:"完了",zh:"完成",fr:"terminé"},addNewBook:{en:"Add New Book",pt:"Adicionar Novo Livro",de:"Neues Buch hinzufügen",es:"Agregar Nuevo Libro",ru:"Добавить Новую Книгу",ja:"新しい本を追加",zh:"添加新书",fr:"Ajouter un Nouveau Livre"},uploadEpubFile:{en:"Upload an EPUB file to start reading",pt:"Carregue um arquivo EPUB para começar a ler",de:"Laden Sie eine EPUB-Datei hoch, um mit dem Lesen zu beginnen",es:"Sube un archivo EPUB para comenzar a leer",ru:"Загрузите файл EPUB, чтобы начать чтение",ja:"読書を始めるためにEPUBファイルをアップロードしてください",zh:"上传EPUB文件开始阅读",fr:"Téléchargez un fichier EPUB pour commencer à lire"},dropEpubHere:{en:"Drop your EPUB file here",pt:"Solte seu arquivo EPUB aqui",de:"Legen Sie Ihre EPUB-Datei hier ab",es:"Suelta tu archivo EPUB aquí",ru:"Перетащите ваш файл EPUB сюда",ja:"EPUBファイルをここにドロップしてください",zh:"将您的EPUB文件拖放到这里",fr:"Déposez votre fichier EPUB ici"},dragAndDropEpub:{en:"Drag and drop your EPUB file",pt:"Arraste e solte seu arquivo EPUB",de:"Ziehen Sie Ihre EPUB-Datei hierher",es:"Arrastra y suelta tu archivo EPUB",ru:"Перетащите ваш файл EPUB",ja:"EPUBファイルをドラッグ&ドロップしてください",zh:"拖放您的EPUB文件",fr:"Glissez-déposez votre fichier EPUB"},or:{en:"or",pt:"ou",de:"oder",es:"o",ru:"или",ja:"または",zh:"或",fr:"ou"},chooseFile:{en:"Choose File",pt:"Escolher Arquivo",de:"Datei auswählen",es:"Elegir Archivo",ru:"Выбрать Файл",ja:"ファイルを選択",zh:"选择文件",fr:"Choisir un Fichier"},processing:{en:"Processing...",pt:"Processando...",de:"Verarbeitung...",es:"Procesando...",ru:"Обработка...",ja:"処理中...",zh:"处理中...",fr:"Traitement..."},supportedFormat:{en:"Supported format: EPUB",pt:"Formato suportado: EPUB",de:"Unterstütztes Format: EPUB",es:"Formato compatible: EPUB",ru:"Поддерживаемый формат: EPUB",ja:"サポートされている形式: EPUB",zh:"支持的格式: EPUB",fr:"Format pris en charge : EPUB"},pleaseSelectEpub:{en:"Please select an EPUB file",pt:"Por favor, selecione um arquivo EPUB",de:"Bitte wählen Sie eine EPUB-Datei aus",es:"Por favor selecciona un archivo EPUB",ru:"Пожалуйста, выберите файл EPUB",ja:"EPUBファイルを選択してください",zh:"请选择EPUB文件",fr:"Veuillez sélectionner un fichier EPUB"},failedToProcessEpub:{en:"Failed to process EPUB file. Please ensure it is a valid EPUB format.",pt:"Falha ao processar arquivo EPUB. Certifique-se de que é um formato EPUB válido.",de:"EPUB-Datei konnte nicht verarbeitet werden. Stellen Sie sicher, dass es sich um ein gültiges EPUB-Format handelt.",es:"Error al procesar el archivo EPUB. Asegúrate de que sea un formato EPUB válido.",ru:"Не удалось обработать файл EPUB. Убедитесь, что это действительный формат EPUB.",ja:"EPUBファイルの処理に失敗しました。有効なEPUB形式であることを確認してください。",zh:"处理EPUB文件失败。请确保它是有效的EPUB格式。",fr:"Échec du traitement du fichier EPUB. Veuillez vous assurer qu'il s'agit d'un format EPUB valide."},pleaseDropEpub:{en:"Please drop an EPUB file",pt:"Por favor, solte um arquivo EPUB",de:"Bitte legen Sie eine EPUB-Datei ab",es:"Por favor suelta un archivo EPUB",ru:"Пожалуйста, перетащите файл EPUB",ja:"EPUBファイルをドロップしてください",zh:"请拖放EPUB文件",fr:"Veuillez déposer un fichier EPUB"},closeUploader:{en:"Close uploader",pt:"Fechar carregador",de:"Uploader schließen",es:"Cerrar cargador",ru:"Закрыть загрузчик",ja:"アップローダーを閉じる",zh:"关闭上传器",fr:"Fermer le téléchargeur"},backToLibrary:{en:"Back to library",pt:"Voltar à biblioteca",de:"Zurück zur Bibliothek",es:"Volver a la biblioteca",ru:"Вернуться в библиотеку",ja:"ライブラリに戻る",zh:"返回图书馆",fr:"Retour à la bibliothèque"},tableOfContents:{en:"Table of contents",pt:"Índice",de:"Inhaltsverzeichnis",es:"Tabla de contenidos",ru:"Содержание",ja:"目次",zh:"目录",fr:"Table des matières"},chapter:{en:"Chapter",pt:"Capítulo",de:"Kapitel",es:"Capítulo",ru:"Глава",ja:"章",zh:"章节",fr:"Chapitre"},of:{en:"of",pt:"de",de:"von",es:"de",ru:"из",ja:"の",zh:"的",fr:"de"},search:{en:"Search",pt:"Pesquisar",de:"Suchen",es:"Buscar",ru:"Поиск",ja:"検索",zh:"搜索",fr:"Rechercher"},bookmarks:{en:"Bookmarks",pt:"Marcadores",de:"Lesezeichen",es:"Marcadores",ru:"Закладки",ja:"ブックマーク",zh:"书签",fr:"Signets"},addToFavorites:{en:"Add to favorites",pt:"Adicionar aos favoritos",de:"Zu Favoriten hinzufügen",es:"Agregar a favoritos",ru:"Добавить в избранное",ja:"お気に入りに追加",zh:"添加到收藏夹",fr:"Ajouter aux favoris"},share:{en:"Share",pt:"Compartilhar",de:"Teilen",es:"Compartir",ru:"Поделиться",ja:"共有",zh:"分享",fr:"Partager"},settings:{en:"Settings",pt:"Configurações",de:"Einstellungen",es:"Configuraciones",ru:"Настройки",ja:"設定",zh:"设置",fr:"Paramètres"},fullscreen:{en:"Fullscreen",pt:"Tela cheia",de:"Vollbild",es:"Pantalla completa",ru:"Полный экран",ja:"フルスクリーン",zh:"全屏",fr:"Plein écran"},addFavorite:{en:"Add Favorite",pt:"Adicionar Favorito",de:"Favorit hinzufügen",es:"Agregar Favorito",ru:"Добавить в Избранное",ja:"お気に入りを追加",zh:"添加收藏",fr:"Ajouter un Favori"},enterBookmarkName:{en:"Enter bookmark name...",pt:"Digite o nome do marcador...",de:"Lesezeichen-Name eingeben...",es:"Ingresa el nombre del marcador...",ru:"Введите название закладки...",ja:"ブックマーク名を入力...",zh:"输入书签名称...",fr:"Entrez le nom du signet..."},save:{en:"Save",pt:"Salvar",de:"Speichern",es:"Guardar",ru:"Сохранить",ja:"保存",zh:"保存",fr:"Enregistrer"},cancel:{en:"Cancel",pt:"Cancelar",de:"Abbrechen",es:"Cancelar",ru:"Отмена",ja:"キャンセル",zh:"取消",fr:"Annuler"},noChaptersAvailable:{en:"No chapters available",pt:"Nenhum capítulo disponível",de:"Keine Kapitel verfügbar",es:"No hay capítulos disponibles",ru:"Нет доступных глав",ja:"利用可能な章がありません",zh:"没有可用的章节",fr:"Aucun chapitre disponible"},currentlyReading:{en:"Currently reading",pt:"Lendo atualmente",de:"Derzeit lesen",es:"Leyendo actualmente",ru:"Сейчас читаю",ja:"現在読んでいます",zh:"正在阅读",fr:"En cours de lecture"},chaptersTotal:{en:"chapters",pt:"capítulos",de:"Kapitel",es:"capítulos",ru:"глав",ja:"章",zh:"章节",fr:"chapitres"},readingSettings:{en:"Reading Settings",pt:"Configurações de Leitura",de:"Lese-Einstellungen",es:"Configuraciones de Lectura",ru:"Настройки Чтения",ja:"読書設定",zh:"阅读设置",fr:"Paramètres de Lecture"},language:{en:"Language",pt:"Idioma",de:"Sprache",es:"Idioma",ru:"Язык",ja:"言語",zh:"语言",fr:"Langue"},automatic:{en:"Automatic",pt:"Automático",de:"Automatisch",es:"Automático",ru:"Автоматический",ja:"自動",zh:"自动",fr:"Automatique"},english:{en:"English",pt:"Inglês",de:"Englisch",es:"Inglés",ru:"Английский",ja:"英語",zh:"英语",fr:"Anglais"},portuguese:{en:"Portuguese",pt:"Português",de:"Portugiesisch",es:"Portugués",ru:"Португальский",ja:"ポルトガル語",zh:"葡萄牙语",fr:"Portugais"},german:{en:"German",pt:"Alemão",de:"Deutsch",es:"Alemán",ru:"Немецкий",ja:"ドイツ語",zh:"德语",fr:"Allemand"},spanish:{en:"Spanish",pt:"Espanhol",de:"Spanisch",es:"Español",ru:"Испанский",ja:"スペイン語",zh:"西班牙语",fr:"Espagnol"},russian:{en:"Russian",pt:"Russo",de:"Russisch",es:"Ruso",ru:"Русский",ja:"ロシア語",zh:"俄语",fr:"Russe"},japanese:{en:"Japanese",pt:"Japonês",de:"Japanisch",es:"Japonés",ru:"Японский",ja:"日本語",zh:"日语",fr:"Japonais"},chinese:{en:"Chinese",pt:"Chinês",de:"Chinesisch",es:"Chino",ru:"Китайский",ja:"中国語",zh:"中文",fr:"Chinois"},french:{en:"French",pt:"Francês",de:"Französisch",es:"Francés",ru:"Французский",ja:"フランス語",zh:"法语",fr:"Français"},closeSettings:{en:"Close settings",pt:"Fechar configurações",de:"Einstellungen schließen",es:"Cerrar configuraciones",ru:"Закрыть настройки",ja:"設定を閉じる",zh:"关闭设置",fr:"Fermer les paramètres"},fontPreviewText:{en:"The quick brown fox jumps over the lazy dog",pt:"A raposa marrom salta sobre o cão preguiçoso",de:"Der schnelle braune Fuchs springt über den faulen Hund",es:"El rápido zorro marrón salta sobre el perro perezoso",ru:"Быстрая коричневая лиса прыгает через ленивую собаку",ja:"素早い茶色のキツネが怠惰な犬を飛び越える",zh:"敏捷的棕色狐狸跳过懒惰的狗",fr:"Le renard brun rapide saute par-dessus le chien paresseux"},reading:{en:"Reading",pt:"Leitura",de:"Lesen",es:"Lectura",ru:"Чтение",ja:"読書",zh:"阅读",fr:"Lecture"},interface:{en:"Interface",pt:"Interface",de:"Benutzeroberfläche",es:"Interfaz",ru:"Интерфейс",ja:"インターフェース",zh:"界面",fr:"Interface"},controls:{en:"Controls",pt:"Controles",de:"Steuerung",es:"Controles",ru:"Управление",ja:"コントロール",zh:"控制",fr:"Contrôles"},backup:{en:"Backup",pt:"Backup",de:"Sicherung",es:"Respaldo",ru:"Резервная копия",ja:"バックアップ",zh:"备份",fr:"Sauvegarde"},typography:{en:"Typography",pt:"Tipografia",de:"Typografie",es:"Tipografía",ru:"Типография",ja:"タイポグラフィ",zh:"排版",fr:"Typographie"},fontFamily:{en:"Font Family",pt:"Família da Fonte",de:"Schriftfamilie",es:"Familia de Fuente",ru:"Семейство Шрифтов",ja:"フォントファミリー",zh:"字体系列",fr:"Famille de Police"},fontSize:{en:"Font Size",pt:"Tamanho da Fonte",de:"Schriftgröße",es:"Tamaño de Fuente",ru:"Размер Шрифта",ja:"フォントサイズ",zh:"字体大小",fr:"Taille de Police"},lineHeight:{en:"Line Height",pt:"Altura da Linha",de:"Zeilenhöhe",es:"Altura de Línea",ru:"Высота Строки",ja:"行の高さ",zh:"行高",fr:"Hauteur de Ligne"},letterSpacing:{en:"Letter Spacing",pt:"Espaçamento de Letras",de:"Buchstabenabstand",es:"Espaciado de Letras",ru:"Межбуквенный интервал",ja:"文字間隔",zh:"字母间距",fr:"Espacement des Lettres"},contentWidth:{en:"Content Width",pt:"Largura do Conteúdo",de:"Inhaltsbreite",es:"Ancho del Contenido",ru:"Ширина Содержимого",ja:"コンテンツ幅",zh:"内容宽度",fr:"Largeur du Contenu"},phone:{en:"Phone",pt:"Telefone",de:"Telefon",es:"Teléfono",ru:"Телефон",ja:"電話",zh:"手机",fr:"Téléphone"},normal:{en:"Normal",pt:"Normal",de:"Normal",es:"Normal",ru:"Обычный",ja:"通常",zh:"正常",fr:"Normal"},full:{en:"Full",pt:"Completo",de:"Vollständig",es:"Completo",ru:"Полный",ja:"フル",zh:"完整",fr:"Complet"},default:{en:"Default",pt:"Padrão",de:"Standard",es:"Predeterminado",ru:"По умолчанию",ja:"デフォルト",zh:"默认",fr:"Par défaut"},colors:{en:"Colors",pt:"Cores",de:"Farben",es:"Colores",ru:"Цвета",ja:"色",zh:"颜色",fr:"Couleurs"},readingColors:{en:"Reading Colors",pt:"Cores de Leitura",de:"Lesefarben",es:"Colores de Lectura",ru:"Цвета Чтения",ja:"読書の色",zh:"阅读颜色",fr:"Couleurs de Lecture"},interfaceColors:{en:"Interface Colors",pt:"Cores da Interface",de:"Oberflächenfarben",es:"Colores de Interfaz",ru:"Цвета Интерфейса",ja:"インターフェースの色",zh:"界面颜色",fr:"Couleurs d'Interface"},backgroundColor:{en:"Background Color",pt:"Cor de Fundo",de:"Hintergrundfarbe",es:"Color de Fondo",ru:"Цвет Фона",ja:"背景色",zh:"背景颜色",fr:"Couleur d'Arrière-plan"},textColor:{en:"Text Color",pt:"Cor do Texto",de:"Textfarbe",es:"Color del Texto",ru:"Цвет Текста",ja:"テキストの色",zh:"文本颜色",fr:"Couleur du Texte"},resetToDefault:{en:"Reset to Default",pt:"Redefinir para Padrão",de:"Auf Standard zurücksetzen",es:"Restablecer a Predeterminado",ru:"Сбросить к По умолчанию",ja:"デフォルトにリセット",zh:"重置为默认",fr:"Remettre par Défaut"},done:{en:"Done",pt:"Concluído",de:"Fertig",es:"Hecho",ru:"Готово",ja:"完了",zh:"完成",fr:"Terminé"},custom:{en:"Custom",pt:"Personalizado",de:"Benutzerdefiniert",es:"Personalizado",ru:"Пользовательский",ja:"カスタム",zh:"自定义",fr:"Personnalisé"},light:{en:"Light",pt:"Claro",de:"Hell",es:"Claro",ru:"Светлый",ja:"ライト",zh:"浅色",fr:"Clair"},dark:{en:"Dark",pt:"Escuro",de:"Dunkel",es:"Oscuro",ru:"Тёмный",ja:"ダーク",zh:"深色",fr:"Sombre"},sepia:{en:"Sepia",pt:"Sépia",de:"Sepia",es:"Sepia",ru:"Сепия",ja:"セピア",zh:"棕褐色",fr:"Sépia"},highContrast:{en:"High Contrast",pt:"Alto Contraste",de:"Hoher Kontrast",es:"Alto Contraste",ru:"Высокий Контраст",ja:"ハイコントラスト",zh:"高对比度",fr:"Contraste Élevé"},ocean:{en:"Ocean",pt:"Oceano",de:"Ozean",es:"Océano",ru:"Океан",ja:"オーシャン",zh:"海洋",fr:"Océan"},forest:{en:"Forest",pt:"Floresta",de:"Wald",es:"Bosque",ru:"Лес",ja:"フォレスト",zh:"森林",fr:"Forêt"},sunset:{en:"Sunset",pt:"Pôr do Sol",de:"Sonnenuntergang",es:"Atardecer",ru:"Закат",ja:"サンセット",zh:"日落",fr:"Coucher de Soleil"},lavender:{en:"Lavender",pt:"Lavanda",de:"Lavendel",es:"Lavanda",ru:"Лаванда",ja:"ラベンダー",zh:"薰衣草",fr:"Lavande"},lightDescription:{en:"Classic black text on white background",pt:"Texto preto clássico em fundo branco",de:"Klassischer schwarzer Text auf weißem Hintergrund",es:"Texto negro clásico sobre fondo blanco",ru:"Классический чёрный текст на белом фоне",ja:"白い背景に黒いテキストのクラシック",zh:"白色背景上的经典黑色文本",fr:"Texte noir classique sur fond blanc"},darkDescription:{en:"Modern dark theme perfect for low-light reading",pt:"Tema escuro moderno perfeito para leitura em pouca luz",de:"Modernes dunkles Thema perfekt für das Lesen bei schwachem Licht",es:"Tema oscuro moderno perfecto para lectura con poca luz",ru:"Современная тёмная тема идеальна для чтения при слабом освещении",ja:"低照度での読書に最適なモダンなダークテーマ",zh:"适合低光环境阅读的现代深色主题",fr:"Thème sombre moderne parfait pour la lecture en faible luminosité"},sepiaDescription:{en:"Warm, paper-like reading experience",pt:"Experiência de leitura quente, semelhante ao papel",de:"Warmes, papierähnliches Leseerlebnis",es:"Experiencia de lectura cálida, similar al papel",ru:"Тёплый, похожий на бумагу опыт чтения",ja:"温かみのある紙のような読書体験",zh:"温暖的纸质阅读体验",fr:"Expérience de lecture chaleureuse, semblable au papier"},highContrastDescription:{en:"Maximum contrast for enhanced accessibility",pt:"Contraste máximo para acessibilidade aprimorada",de:"Maximaler Kontrast für verbesserte Zugänglichkeit",es:"Contraste máximo para accesibilidad mejorada",ru:"Максимальный контраст для улучшенной доступности",ja:"アクセシビリティ向上のための最大コントラスト",zh:"最大对比度以增强可访问性",fr:"Contraste maximum pour une accessibilité améliorée"},oceanDescription:{en:"Cool blue tones for reduced eye strain",pt:"Tons azuis frios para reduzir o cansaço visual",de:"Kühle Blautöne zur Reduzierung der Augenbelastung",es:"Tonos azules fríos para reducir la fatiga visual",ru:"Прохладные синие тона для снижения напряжения глаз",ja:"目の疲れを軽減するクールなブルートーン",zh:"冷蓝色调减少眼部疲劳",fr:"Tons bleus frais pour réduire la fatigue oculaire"},forestDescription:{en:"Natural green theme for comfortable reading",pt:"Tema verde natural para leitura confortável",de:"Natürliches grünes Thema für komfortables Lesen",es:"Tema verde natural para lectura cómoda",ru:"Естественная зелёная тема для комфортного чтения",ja:"快適な読書のための自然な緑のテーマ",zh:"舒适阅读的自然绿色主题",fr:"Thème vert naturel pour une lecture confortable"},sunsetDescription:{en:"Warm orange tones for evening reading",pt:"Tons laranja quentes para leitura noturna",de:"Warme Orangetöne für das Lesen am Abend",es:"Tonos naranjas cálidos para lectura nocturna",ru:"Тёплые оранжевые тона для вечернего чтения",ja:"夜の読書のための暖かいオレンジトーン",zh:"夜间阅读的温暖橙色调",fr:"Tons orange chauds pour la lecture du soir"},lavenderDescription:{en:"Soft purple theme for calming reading",pt:"Tema roxo suave para leitura relaxante",de:"Sanftes lila Thema für beruhigendes Lesen",es:"Tema púrpura suave para lectura relajante",ru:"Мягкая фиолетовая тема для успокаивающего чтения",ja:"リラックスした読書のためのソフトパープルテーマ",zh:"平静阅读的柔和紫色主题",fr:"Thème violet doux pour une lecture apaisante"},lightUsage:{en:"Ideal for daytime reading and well-lit environments",pt:"Ideal para leitura diurna e ambientes bem iluminados",de:"Ideal für das Lesen am Tag und gut beleuchtete Umgebungen",es:"Ideal para lectura diurna y ambientes bien iluminados",ru:"Идеально для дневного чтения и хорошо освещённых помещений",ja:"昼間の読書と明るい環境に最適",zh:"适合白天阅读和光线充足的环境",fr:"Idéal pour la lecture de jour et les environnements bien éclairés"},darkUsage:{en:"Perfect for nighttime reading and dark environments",pt:"Perfeito para leitura noturna e ambientes escuros",de:"Perfekt für das Lesen bei Nacht und in dunklen Umgebungen",es:"Perfecto para lectura nocturna y ambientes oscuros",ru:"Идеально для ночного чтения и тёмных помещений",ja:"夜間の読書と暗い環境に最適",zh:"适合夜间阅读和黑暗环境",fr:"Parfait pour la lecture nocturne et les environnements sombres"},sepiaUsage:{en:"Reduces eye strain during extended reading sessions",pt:"Reduz o cansaço visual durante sessões prolongadas de leitura",de:"Reduziert die Augenbelastung bei längeren Lesesitzungen",es:"Reduce la fatiga visual durante sesiones de lectura prolongadas",ru:"Снижает напряжение глаз во время длительного чтения",ja:"長時間の読書セッション中の目の疲れを軽減",zh:"减少长时间阅读时的眼部疲劳",fr:"Réduit la fatigue oculaire lors de longues sessions de lecture"},highContrastUsage:{en:"Essential for users with visual impairments or reading difficulties",pt:"Essencial para usuários com deficiências visuais ou dificuldades de leitura",de:"Unerlässlich für Benutzer mit Sehbehinderungen oder Leseschwierigkeiten",es:"Esencial para usuarios con discapacidades visuales o dificultades de lectura",ru:"Необходимо для пользователей с нарушениями зрения или трудностями чтения",ja:"視覚障害や読書困難のあるユーザーに不可欠",zh:"对于有视觉障碍或阅读困难的用户至关重要",fr:"Essentiel pour les utilisateurs ayant des déficiences visuelles ou des difficultés de lecture"},oceanUsage:{en:"Calming blue tones help maintain focus during long reading sessions",pt:"Tons azuis calmantes ajudam a manter o foco durante longas sessões de leitura",de:"Beruhigende Blautöne helfen, die Konzentration bei langen Lesesitzungen aufrechtzuerhalten",es:"Los tonos azules calmantes ayudan a mantener el enfoque durante sesiones de lectura largas",ru:"Успокаивающие синие тона помогают поддерживать концентрацию во время длительного чтения",ja:"落ち着いたブルートーンが長時間の読書セッション中の集中力を維持するのに役立ちます",zh:"平静的蓝色调有助于在长时间阅读时保持专注",fr:"Les tons bleus apaisants aident à maintenir la concentration lors de longues sessions de lecture"},forestUsage:{en:"Natural green reduces digital eye strain and promotes relaxation",pt:"Verde natural reduz o cansaço visual digital e promove relaxamento",de:"Natürliches Grün reduziert digitale Augenbelastung und fördert Entspannung",es:"El verde natural reduce la fatiga visual digital y promueve la relajación",ru:"Естественный зелёный цвет снижает цифровое напряжение глаз и способствует расслаблению",ja:"自然な緑はデジタル眼精疲労を軽減し、リラクゼーションを促進します",zh:"自然绿色减少数字眼疲劳并促进放松",fr:"Le vert naturel réduit la fatigue oculaire numérique et favorise la relaxation"},sunsetUsage:{en:"Warm tones are ideal for evening reading and bedtime stories",pt:"Tons quentes são ideais para leitura noturna e histórias para dormir",de:"Warme Töne sind ideal für das Lesen am Abend und Gute-Nacht-Geschichten",es:"Los tonos cálidos son ideales para lectura nocturna e historias para dormir",ru:"Тёплые тона идеальны для вечернего чтения и сказок на ночь",ja:"暖かいトーンは夜の読書と就寝時の物語に最適です",zh:"温暖的色调非常适合夜间阅读和睡前故事",fr:"Les tons chauds sont idéaux pour la lecture du soir et les histoires au coucher"},lavenderUsage:{en:"Soft purple creates a peaceful atmosphere for mindful reading",pt:"Roxo suave cria uma atmosfera pacífica para leitura consciente",de:"Sanftes Lila schafft eine friedliche Atmosphäre für achtsames Lesen",es:"El púrpura suave crea una atmósfera pacífica para lectura consciente",ru:"Мягкий фиолетовый создаёт мирную атмосферу для осознанного чтения",ja:"ソフトパープルはマインドフルな読書のための平和な雰囲気を作り出します",zh:"柔和的紫色为专注阅读营造宁静的氛围",fr:"Le violet doux crée une atmosphère paisible pour une lecture consciente"},syncInterfaceAndReadingColors:{en:"Sync Interface and Reading Colors",pt:"Sincronizar Cores da Interface e Leitura",de:"Interface- und Lesefarben synchronisieren",es:"Sincronizar Colores de Interfaz y Lectura",ru:"Синхронизировать Цвета Интерфейса и Чтения",ja:"インターフェースと読書の色を同期",zh:"同步界面和阅读颜色",fr:"Synchroniser les Couleurs d'Interface et de Lecture"},syncDescription:{en:"When enabled: Interface theme automatically matches reading color theme. Changes to either reading or interface colors will sync both themes (default enabled)",pt:"Quando ativado: O tema da interface corresponde automaticamente ao tema de cores de leitura. Mudanças nas cores de leitura ou interface sincronizarão ambos os temas (padrão ativado)",de:"Wenn aktiviert: Das Interface-Thema passt automatisch zum Lesefarbthema. Änderungen an Lese- oder Interface-Farben synchronisieren beide Themen (standardmäßig aktiviert)",es:"Cuando está habilitado: El tema de interfaz coincide automáticamente con el tema de colores de lectura. Los cambios en los colores de lectura o interfaz sincronizarán ambos temas (habilitado por defecto)",ru:"При включении: Тема интерфейса автоматически соответствует цветовой теме чтения. Изменения цветов чтения или интерфейса синхронизируют обе темы (включено по умолчанию)",ja:"有効にすると：インターフェーステーマが読書カラーテーマに自動的に一致します。読書またはインターフェースの色の変更により、両方のテーマが同期されます（デフォルトで有効）",zh:"启用时：界面主题自动匹配阅读颜色主题。对阅读或界面颜色的更改将同步两个主题（默认启用）",fr:"Lorsqu'activé : Le thème d'interface correspond automatiquement au thème de couleurs de lecture. Les modifications des couleurs de lecture ou d'interface synchroniseront les deux thèmes (activé par défaut)"},applyFontGlobally:{en:"Apply text font changes globally",pt:"Aplicar mudanças de fonte de texto globalmente",de:"Textschrift-Änderungen global anwenden",es:"Aplicar cambios de fuente de texto globalmente",ru:"Применить изменения шрифта текста глобально",ja:"テキストフォントの変更をグローバルに適用",zh:"全局应用文本字体更改",fr:"Appliquer les modifications de police de texte globalement"},applyFontGloballyDescription:{en:"Changes to text font will affect all interface elements including menus, table of contents, and bookmarks",pt:"Mudanças na fonte do texto afetarão todos os elementos da interface, incluindo menus, índice e marcadores",de:"Änderungen an der Textschrift wirken sich auf alle Interface-Elemente aus, einschließlich Menüs, Inhaltsverzeichnis und Lesezeichen",es:"Los cambios en la fuente del texto afectarán todos los elementos de la interfaz, incluidos menús, tabla de contenidos y marcadores",ru:"Изменения шрифта текста повлияют на все элементы интерфейса, включая меню, содержание и закладки",ja:"テキストフォントの変更は、メニュー、目次、ブックマークを含むすべてのインターフェース要素に影響します",zh:"文本字体的更改将影响所有界面元素，包括菜单、目录和书签",fr:"Les modifications de la police de texte affecteront tous les éléments d'interface, y compris les menus, la table des matières et les signets"},autoHideMenu:{en:"Auto-hide menu while reading",pt:"Ocultar menu automaticamente durante a leitura",de:"Menü beim Lesen automatisch ausblenden",es:"Ocultar menú automáticamente mientras se lee",ru:"Автоматически скрывать меню при чтении",ja:"読書中にメニューを自動的に隠す",zh:"阅读时自动隐藏菜单",fr:"Masquer automatiquement le menu pendant la lecture"},autoHideMenuDescription:{en:"Menu will hide when scrolling down and show when scrolling up",pt:"O menu se ocultará ao rolar para baixo e aparecerá ao rolar para cima",de:"Das Menü wird beim Scrollen nach unten ausgeblendet und beim Scrollen nach oben angezeigt",es:"El menú se ocultará al desplazarse hacia abajo y se mostrará al desplazarse hacia arriba",ru:"Меню будет скрываться при прокрутке вниз и появляться при прокрутке вверх",ja:"下にスクロールするとメニューが隠れ、上にスクロールすると表示されます",zh:"向下滚动时菜单将隐藏，向上滚动时显示",fr:"Le menu se cachera lors du défilement vers le bas et s'affichera lors du défilement vers le haut"},showScrollButtons:{en:"Show scroll buttons",pt:"Mostrar botões de rolagem",de:"Scroll-Buttons anzeigen",es:"Mostrar botones de desplazamiento",ru:"Показать кнопки прокрутки",ja:"スクロールボタンを表示",zh:"显示滚动按钮",fr:"Afficher les boutons de défilement"},showScrollButtonsDescription:{en:"Display floating buttons for quick scrolling",pt:"Exibir botões flutuantes para rolagem rápida",de:"Schwebende Buttons für schnelles Scrollen anzeigen",es:"Mostrar botones flotantes para desplazamiento rápido",ru:"Отображать плавающие кнопки для быстрой прокрутки",ja:"素早いスクロールのためのフローティングボタンを表示",zh:"显示快速滚动的浮动按钮",fr:"Afficher des boutons flottants pour un défilement rapide"},buttonSize:{en:"Button Size",pt:"Tamanho do Botão",de:"Button-Größe",es:"Tamaño del Botón",ru:"Размер Кнопки",ja:"ボタンサイズ",zh:"按钮大小",fr:"Taille du Bouton"},small:{en:"Small",pt:"Pequeno",de:"Klein",es:"Pequeño",ru:"Маленький",ja:"小",zh:"小",fr:"Petit"},medium:{en:"Medium",pt:"Médio",de:"Mittel",es:"Mediano",ru:"Средний",ja:"中",zh:"中",fr:"Moyen"},large:{en:"Large",pt:"Grande",de:"Groß",es:"Grande",ru:"Большой",ja:"大",zh:"大",fr:"Grand"},customSize:{en:"Custom Size",pt:"Tamanho Personalizado",de:"Benutzerdefinierte Größe",es:"Tamaño Personalizado",ru:"Пользовательский Размер",ja:"カスタムサイズ",zh:"自定义大小",fr:"Taille Personnalisée"},checked:{en:"Checked",pt:"Marcado",de:"Aktiviert",es:"Marcado",ru:"Отмечено",ja:"チェック済み",zh:"已选中",fr:"Coché"},unchecked:{en:"Unchecked",pt:"Desmarcado",de:"Deaktiviert",es:"Desmarcado",ru:"Не отмечено",ja:"チェックなし",zh:"未选中",fr:"Décoché"},readingExperience:{en:"Reading Experience",pt:"Experiência de Leitura",de:"Leseerfahrung",es:"Experiencia de Lectura",ru:"Опыт Чтения",ja:"読書体験",zh:"阅读体验",fr:"Expérience de Lecture"},textToSpeechSupport:{en:"Text-to-speech support",pt:"Suporte a texto para fala",de:"Text-zu-Sprache-Unterstützung",es:"Soporte de texto a voz",ru:"Поддержка преобразования текста в речь",ja:"テキスト読み上げサポート",zh:"文本转语音支持",fr:"Support de synthèse vocale"},experimental:{en:"Experimental",pt:"Experimental",de:"Experimentell",es:"Experimental",ru:"Экспериментальный",ja:"実験的",zh:"实验性",fr:"Expérimental"},textToSpeechDescription:{en:"Enable audio narration of book content. An icon will appear near the Table of Contents when enabled.",pt:"Ativar narração em áudio do conteúdo do livro. Um ícone aparecerá próximo ao Índice quando ativado.",de:"Audio-Erzählung des Buchinhalts aktivieren. Ein Symbol erscheint in der Nähe des Inhaltsverzeichnisses, wenn aktiviert.",es:"Habilitar narración de audio del contenido del libro. Aparecerá un icono cerca de la Tabla de Contenidos cuando esté habilitado.",ru:"Включить аудио-повествование содержимого книги. Значок появится рядом с Содержанием при включении.",ja:"本のコンテンツの音声ナレーションを有効にします。有効にすると目次の近くにアイコンが表示されます。",zh:"启用书籍内容的音频叙述。启用时，目录附近将出现一个图标。",fr:"Activer la narration audio du contenu du livre. Une icône apparaîtra près de la Table des Matières lorsqu'activée."},fastFavorite:{en:"Fast Favorite",pt:"Favorito Rápido",de:"Schnell-Favorit",es:"Favorito Rápido",ru:"Быстрое Избранное",ja:"クイックお気に入り",zh:"快速收藏",fr:"Favori Rapide"},fastFavoriteDescription:{en:"Quickly save bookmarks without entering a name",pt:"Salvar marcadores rapidamente sem inserir um nome",de:"Lesezeichen schnell speichern ohne Namen eingeben",es:"Guardar marcadores rápidamente sin ingresar un nombre",ru:"Быстро сохранять закладки без ввода имени",ja:"名前を入力せずにブックマークを素早く保存",zh:"无需输入名称即可快速保存书签",fr:"Enregistrer rapidement des signets sans saisir de nom"},defaultBookmarkName:{en:"Default bookmark name",pt:"Nome padrão do marcador",de:"Standard-Lesezeichen-Name",es:"Nombre predeterminado del marcador",ru:"Имя закладки по умолчанию",ja:"デフォルトブックマーク名",zh:"默认书签名称",fr:"Nom de signet par défaut"},backupAndReset:{en:"Backup & Reset",pt:"Backup e Redefinição",de:"Sicherung & Zurücksetzen",es:"Respaldo y Reinicio",ru:"Резервная копия и Сброс",ja:"バックアップとリセット",zh:"备份和重置",fr:"Sauvegarde et Réinitialisation"},exportSettings:{en:"Export Settings",pt:"Exportar Configurações",de:"Einstellungen exportieren",es:"Exportar Configuraciones",ru:"Экспорт Настроек",ja:"設定をエクスポート",zh:"导出设置",fr:"Exporter les Paramètres"},exportDescription:{en:"Download your preferences, bookmarks, and reading progress",pt:"Baixar suas preferências, marcadores e progresso de leitura",de:"Laden Sie Ihre Einstellungen, Lesezeichen und Lesefortschritt herunter",es:"Descargar tus preferencias, marcadores y progreso de lectura",ru:"Скачать ваши предпочтения, закладки и прогресс чтения",ja:"設定、ブックマーク、読書進捗をダウンロード",zh:"下载您的偏好设置、书签和阅读进度",fr:"Télécharger vos préférences, signets et progression de lecture"},exporting:{en:"Exporting...",pt:"Exportando...",de:"Exportiere...",es:"Exportando...",ru:"Экспорт...",ja:"エクスポート中...",zh:"导出中...",fr:"Exportation..."},exportData:{en:"Export Data",pt:"Exportar Dados",de:"Daten exportieren",es:"Exportar Datos",ru:"Экспорт Данных",ja:"データをエクスポート",zh:"导出数据",fr:"Exporter les Données"},importSettings:{en:"Import Settings",pt:"Importar Configurações",de:"Einstellungen importieren",es:"Importar Configuraciones",ru:"Импорт Настроек",ja:"設定をインポート",zh:"导入设置",fr:"Importer les Paramètres"},importDescription:{en:"Restore your settings from a backup file",pt:"Restaurar suas configurações de um arquivo de backup",de:"Stellen Sie Ihre Einstellungen aus einer Backup-Datei wieder her",es:"Restaurar tus configuraciones desde un archivo de respaldo",ru:"Восстановить ваши настройки из файла резервной копии",ja:"バックアップファイルから設定を復元",zh:"从备份文件恢复您的设置",fr:"Restaurer vos paramètres à partir d'un fichier de sauvegarde"},importing:{en:"Importing...",pt:"Importando...",de:"Importiere...",es:"Importando...",ru:"Импорт...",ja:"インポート中...",zh:"导入中...",fr:"Importation..."},importData:{en:"Import Data",pt:"Importar Dados",de:"Daten importieren",es:"Importar Datos",ru:"Импорт Данных",ja:"データをインポート",zh:"导入数据",fr:"Importer les Données"},resetDescription:{en:"Reset all settings to their default values. This cannot be undone.",pt:"Redefinir todas as configurações para seus valores padrão. Isso não pode ser desfeito.",de:"Alle Einstellungen auf ihre Standardwerte zurücksetzen. Dies kann nicht rückgängig gemacht werden.",es:"Restablecer todas las configuraciones a sus valores predeterminados. Esto no se puede deshacer.",ru:"Сбросить все настройки к значениям по умолчанию. Это нельзя отменить.",ja:"すべての設定をデフォルト値にリセットします。これは元に戻せません。",zh:"将所有设置重置为默认值。此操作无法撤消。",fr:"Réinitialiser tous les paramètres à leurs valeurs par défaut. Ceci ne peut pas être annulé."},important:{en:"Important",pt:"Importante",de:"Wichtig",es:"Importante",ru:"Важно",ja:"重要",zh:"重要",fr:"Important"},backupWarning:{en:"Backup files contain your reading preferences, bookmarks, and progress data. Keep them safe and ensure they're from trusted sources before importing. Importing will overwrite your current settings. Your books and files are not included in backups for security and privacy reasons.",pt:"Arquivos de backup contêm suas preferências de leitura, marcadores e dados de progresso. Mantenha-os seguros e certifique-se de que sejam de fontes confiáveis antes de importar. A importação substituirá suas configurações atuais. Seus livros e arquivos não estão incluídos nos backups por razões de segurança e privacidade.",de:"Backup-Dateien enthalten Ihre Leseeinstellungen, Lesezeichen und Fortschrittsdaten. Bewahren Sie sie sicher auf und stellen Sie sicher, dass sie aus vertrauenswürdigen Quellen stammen, bevor Sie sie importieren. Das Importieren überschreibt Ihre aktuellen Einstellungen. Ihre Bücher und Dateien sind aus Sicherheits- und Datenschutzgründen nicht in Backups enthalten.",es:"Los archivos de respaldo contienen tus preferencias de lectura, marcadores y datos de progreso. Manténlos seguros y asegúrate de que sean de fuentes confiables antes de importar. La importación sobrescribirá tus configuraciones actuales. Tus libros y archivos no están incluidos en los respaldos por razones de seguridad y privacidad.",ru:"Файлы резервных копий содержат ваши предпочтения чтения, закладки и данные о прогрессе. Храните их в безопасности и убедитесь, что они из надёжных источников перед импортом. Импорт перезапишет ваши текущие настройки. Ваши книги и файлы не включены в резервные копии по соображениям безопасности и конфиденциальности.",ja:"バックアップファイルには、読書設定、ブックマーク、進捗データが含まれています。安全に保管し、インポートする前に信頼できるソースからのものであることを確認してください。インポートすると現在の設定が上書きされます。セキュリティとプライバシーの理由により、書籍とファイルはバックアップに含まれていません。",zh:"备份文件包含您的阅读偏好设置、书签和进度数据。请妥善保管，并确保在导入前它们来自可信来源。导入将覆盖您当前的设置。出于安全和隐私考虑，您的书籍和文件不包含在备份中。",fr:"Les fichiers de sauvegarde contiennent vos préférences de lecture, signets et données de progression. Gardez-les en sécurité et assurez-vous qu'ils proviennent de sources fiables avant l'importation. L'importation écrasera vos paramètres actuels. Vos livres et fichiers ne sont pas inclus dans les sauvegardes pour des raisons de sécurité et de confidentialité."},confirmResetSettings:{en:"Are you sure you want to reset all settings to default? This action cannot be undone.",pt:"Tem certeza de que deseja redefinir todas as configurações para o padrão? Esta ação não pode ser desfeita.",de:"Sind Sie sicher, dass Sie alle Einstellungen auf Standard zurücksetzen möchten? Diese Aktion kann nicht rückgängig gemacht werden.",es:"¿Estás seguro de que quieres restablecer todas las configuraciones a los valores predeterminados? Esta acción no se puede deshacer.",ru:"Вы уверены, что хотите сбросить все настройки к значениям по умолчанию? Это действие нельзя отменить.",ja:"すべての設定をデフォルトにリセットしてもよろしいですか？この操作は元に戻せません。",zh:"您确定要将所有设置重置为默认值吗？此操作无法撤消。",fr:"Êtes-vous sûr de vouloir réinitialiser tous les paramètres par défaut ? Cette action ne peut pas être annulée."},failedToResetSettings:{en:"Failed to reset settings. Please try again.",pt:"Falha ao redefinir configurações. Tente novamente.",de:"Einstellungen konnten nicht zurückgesetzt werden. Bitte versuchen Sie es erneut.",es:"Error al restablecer configuraciones. Inténtalo de nuevo.",ru:"Не удалось сбросить настройки. Попробуйте снова.",ja:"設定のリセットに失敗しました。もう一度お試しください。",zh:"重置设置失败。请重试。",fr:"Échec de la réinitialisation des paramètres. Veuillez réessayer."},exportFailed:{en:"Export failed. Please try again.",pt:"Falha na exportação. Tente novamente.",de:"Export fehlgeschlagen. Bitte versuchen Sie es erneut.",es:"Error en la exportación. Inténtalo de nuevo.",ru:"Экспорт не удался. Попробуйте снова.",ja:"エクスポートに失敗しました。もう一度お試しください。",zh:"导出失败。请重试。",fr:"Échec de l'exportation. Veuillez réessayer."},importSuccess:{en:"Settings imported successfully! The page will reload to apply changes.",pt:"Configurações importadas com sucesso! A página será recarregada para aplicar as mudanças.",de:"Einstellungen erfolgreich importiert! Die Seite wird neu geladen, um die Änderungen anzuwenden.",es:"¡Configuraciones importadas exitosamente! La página se recargará para aplicar los cambios.",ru:"Настройки успешно импортированы! Страница перезагрузится для применения изменений.",ja:"設定が正常にインポートされました！変更を適用するためにページが再読み込みされます。",zh:"设置导入成功！页面将重新加载以应用更改。",fr:"Paramètres importés avec succès ! La page va se recharger pour appliquer les modifications."},importFailed:{en:"Import failed. Please check the file format and try again.",pt:"Falha na importação. Verifique o formato do arquivo e tente novamente.",de:"Import fehlgeschlagen. Bitte überprüfen Sie das Dateiformat und versuchen Sie es erneut.",es:"Error en la importación. Verifica el formato del archivo e inténtalo de nuevo.",ru:"Импорт не удался. Проверьте формат файла и попробуйте снова.",ja:"インポートに失敗しました。ファイル形式を確認してもう一度お試しください。",zh:"导入失败。请检查文件格式并重试。",fr:"Échec de l'importation. Veuillez vérifier le format du fichier et réessayer."}},Tx=()=>{const t=navigator.language.toLowerCase();return t.startsWith("pt")?"pt":t.startsWith("de")?"de":t.startsWith("es")?"es":t.startsWith("ru")?"ru":t.startsWith("ja")?"ja":t.startsWith("zh")?"zh":t.startsWith("fr")?"fr":"en"};let ks="auto";const Ix=t=>{ks=t,localStorage.setItem("ebook-reader-language",t)},av=()=>{if(ks==="auto"){const t=localStorage.getItem("ebook-reader-language");return t&&t!=="auto"?(ks=t,t):"auto"}return ks},Lx=()=>{const t=av();return t==="auto"?Tx():t},ov=()=>{const t=localStorage.getItem("ebook-reader-language");t&&(ks=t)},q=t=>{const e=Lx(),r=Nx[t];return r?r[e]||r.en||t:(console.warn(`Translation key "${t}" not found`),t)},Bx=()=>[{code:"auto",name:q("automatic")},{code:"en",name:q("english")},{code:"pt",name:q("portuguese")},{code:"de",name:q("german")},{code:"es",name:q("spanish")},{code:"ru",name:q("russian")},{code:"ja",name:q("japanese")},{code:"zh",name:q("chinese")},{code:"fr",name:q("french")}],yd=({onClose:t})=>{const e=Y.useRef(null),r=av(),n=Bx();Y.useEffect(()=>{const s=a=>{e.current&&!e.current.contains(a.target)&&t()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[t]);const i=s=>{Ix(s),t(),window.dispatchEvent(new CustomEvent("languageChanged"))};return v.jsxs("div",{ref:e,className:"bg-white rounded-lg shadow-lg border border-gray-200 py-2 min-w-48 animate-fade-in",children:[v.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:v.jsx("h3",{className:"text-sm font-medium text-gray-900",children:q("language")})}),v.jsx("div",{className:"py-1",children:n.map(s=>v.jsxs("button",{onClick:()=>i(s.code),className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 transition-colors duration-200 flex items-center justify-between",children:[v.jsx("span",{className:"text-gray-900",children:s.name}),r===s.code&&v.jsx(Gy,{className:"w-4 h-4 text-blue-600"})]},s.code))})]})},Rx=({onBookAdded:t,onClose:e})=>{const[r,n]=Y.useState(!1),[i,s]=Y.useState(!1),[a,o]=Y.useState(null),[l,u]=Y.useState(!1),c=Y.useCallback(async C=>{if(!C.name.toLowerCase().endsWith(".epub")){o(q("pleaseSelectEpub"));return}s(!0),o(null);try{const g=await Ax(C),h={id:`book-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,...g};if(h.cover)try{const p=new vd(C);await p.initialize(),await p.cacheCoverImage(h.id),p.destroy()}catch(p){console.warn("Could not cache cover image:",p)}await Ua(h),t(h),e==null||e()}catch(g){console.error("Error processing EPUB file:",g),o(q("failedToProcessEpub"))}finally{s(!1)}},[t,e]),f=Y.useCallback(C=>{var p;C.preventDefault(),n(!1);const h=Array.from(((p=C.dataTransfer)==null?void 0:p.files)||[]).find(x=>x.name.toLowerCase().endsWith(".epub"));h?c(h):o(q("pleaseDropEpub"))},[c]),m=Y.useCallback(C=>{var h;const g=(h=C.target.files)==null?void 0:h[0];g&&c(g)},[c]),y=Y.useCallback(C=>{C.preventDefault(),n(!0)},[]),S=Y.useCallback(C=>{C.preventDefault(),n(!1)},[]);return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 relative animate-scale-in",children:[e&&v.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-lg transition-all duration-300","aria-label":q("closeUploader"),children:v.jsx(Js,{className:"w-5 h-5"})}),v.jsx("div",{className:"absolute top-4 left-4",children:v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>u(!l),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-300","aria-label":q("language"),children:v.jsx(Yc,{className:"w-5 h-5"})}),l&&v.jsx("div",{className:"absolute top-full left-0 mt-2 z-50",children:v.jsx(yd,{onClose:()=>u(!1)})})]})}),v.jsxs("div",{className:"text-center mb-6 mt-8",children:[v.jsx(Ii,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:q("addNewBook")}),v.jsx("p",{className:"text-gray-600",children:q("uploadEpubFile")})]}),v.jsxs("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 ${r?"border-blue-500 bg-blue-50 transform scale-105":"border-gray-300 hover:border-gray-400"} ${i?"opacity-50 pointer-events-none":""}`,onDrop:f,onDragOver:y,onDragLeave:S,children:[v.jsx(Fu,{className:`w-12 h-12 mx-auto mb-4 transition-all duration-300 ${r?"text-blue-600 transform scale-110":"text-gray-400"}`}),v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:q(r?"dropEpubHere":"dragAndDropEpub")}),v.jsx("p",{className:"text-gray-600",children:q("or")})]}),v.jsxs("label",{className:"inline-block",children:[v.jsx("input",{type:"file",accept:".epub",onChange:m,className:"hidden",disabled:i}),v.jsx("span",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 cursor-pointer inline-block font-medium transform hover:scale-105",children:q(i?"processing":"chooseFile")})]})]}),a&&v.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg animate-fade-in",children:v.jsx("p",{className:"text-red-800 text-sm",children:a})}),v.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:q("supportedFormat")})]})})},zx=({onOpenBook:t})=>{const[e,r]=Y.useState([]),[n,i]=Y.useState([]),[s,a]=Y.useState(""),[o,l]=Y.useState(!1),[u,c]=Y.useState(null),[f,m]=Y.useState(!0),[y,S]=Y.useState({}),[C,g]=Y.useState(!1);Y.useEffect(()=>{ov()},[]),Y.useEffect(()=>{(async()=>{try{const b=await Vm();r(b),i(b);const _={};for(const D of b){const j=await Mf(D.id);j&&(_[D.id]=j)}S(_)}catch(b){console.error("Error loading books:",b)}finally{m(!1)}})()},[]),Y.useEffect(()=>{if(!s.trim())i(e);else{const w=e.filter(b=>b.title.toLowerCase().includes(s.toLowerCase())||b.author.toLowerCase().includes(s.toLowerCase()));i(w)}},[e,s]);const h=async w=>{r(_=>[w,..._]);const b=await Mf(w.id);b&&S(_=>({..._,[w.id]:b}))},p=async w=>{if(window.confirm(q("confirmDeleteBook")))try{await w2(w),r(b=>b.filter(_=>_.id!==w)),S(b=>{const _={...b};return delete _[w],_}),c(null)}catch(b){console.error("Error deleting book:",b)}},x=w=>Math.round(w*100),N=w=>{if(!w)return q("never");const _=(new Date().getTime()-w.getTime())/(1e3*60*60);return _<1?q("justNow"):_<24?`${Math.round(_)}${q("hoursAgo")}`:_<168?`${Math.round(_/24)}${q("daysAgo")}`:w.toLocaleDateString()};return f?v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx(Ii,{className:"w-12 h-12 text-blue-600 mx-auto mb-4 animate-pulse"}),v.jsx("p",{className:"text-gray-600",children:q("loadingLibrary")})]})}):v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:q("myLibrary")}),v.jsxs("p",{className:"text-gray-600 mt-1",children:[e.length," ",e.length===1?q("book"):q("books")]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>g(!C),className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-300","aria-label":q("language"),children:v.jsx(Yc,{className:"w-5 h-5"})}),C&&v.jsx("div",{className:"absolute top-full right-0 mt-2 z-50",children:v.jsx(yd,{onClose:()=>g(!1)})})]}),v.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all duration-300 flex items-center gap-2 transform hover:scale-105",children:[v.jsx(Pm,{className:"w-5 h-5"}),q("addBook")]})]})]}),v.jsxs("div",{className:"mt-6 relative",children:[v.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),v.jsx("input",{type:"text",placeholder:q("searchBooks"),value:s,onChange:w=>a(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300"})]})]})}),v.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.length===0?v.jsx("div",{className:"text-center py-12",children:e.length===0?v.jsxs(v.Fragment,{children:[v.jsx(Ii,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),v.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:q("noBooksYet")}),v.jsx("p",{className:"text-gray-600 mb-6",children:q("addFirstBook")}),v.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105",children:q("addYourFirstBook")})]}):v.jsxs(v.Fragment,{children:[v.jsx(Li,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),v.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:q("noBooksFound")}),v.jsx("p",{className:"text-gray-600",children:q("tryAdjustingSearch")})]})}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(w=>v.jsxs("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-300 border border-gray-200 overflow-hidden group transform hover:scale-105",children:[v.jsxs("div",{className:"aspect-[3/4] bg-gradient-to-br from-blue-100 to-purple-100 relative overflow-hidden",children:[y[w.id]||w.cover?v.jsx("img",{src:y[w.id]||w.cover,alt:`${w.title} cover`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:b=>{var D,j;const _=b.target;_.style.display="none",(j=(D=_.parentElement)==null?void 0:D.querySelector(".fallback-cover"))==null||j.classList.remove("hidden")}}):null,v.jsx("div",{className:`fallback-cover w-full h-full flex items-center justify-center ${y[w.id]||w.cover?"hidden":""}`,children:v.jsx(Ii,{className:"w-16 h-16 text-gray-400"})}),w.progress>0&&v.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-60 text-white p-2 transition-opacity duration-300",children:v.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[v.jsx(Ky,{className:"w-4 h-4"}),v.jsxs("span",{children:[x(w.progress),"% ",q("complete")]})]})}),v.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:b=>{b.stopPropagation(),c(u===w.id?null:w.id)},className:"bg-black bg-opacity-50 text-white p-2 rounded-lg hover:bg-opacity-70 transition-all duration-300",children:v.jsx(t2,{className:"w-4 h-4"})}),u===w.id&&v.jsx("div",{className:"absolute top-full right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10 animate-fade-in",children:v.jsxs("button",{onClick:b=>{b.stopPropagation(),p(w.id)},className:"w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 flex items-center gap-2 transition-colors duration-300",children:[v.jsx(Mm,{className:"w-4 h-4"}),q("delete")]})})]})})]}),v.jsxs("div",{className:"p-4 cursor-pointer",onClick:()=>t(w),children:[v.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2 leading-tight",children:w.title}),v.jsxs("p",{className:"text-gray-600 text-sm mb-2 line-clamp-1",children:["by ",w.author]}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[v.jsxs("span",{children:[q("lastRead"),": ",N(w.lastRead)]}),w.progress>0&&v.jsxs("span",{children:[x(w.progress),"%"]})]})]})]},w.id))})}),o&&v.jsx("div",{className:"animate-fade-in",children:v.jsx(Rx,{onBookAdded:h,onClose:()=>l(!1)})})]})},jx=({book:t,currentChapter:e,chapterProgress:r,totalChapters:n,onBackToLibrary:i,onToggleMenu:s,onToggleSettings:a,onToggleSearch:o,onToggleBookmarks:l,onToggleFullscreen:u,isFullscreen:c,hideMenuWhileReading:f,preferences:m})=>{const[y,S]=Y.useState(!0),[C,g]=Y.useState(0),[h,p]=Y.useState(!1),[x,N]=Y.useState(!1),[w,b]=Y.useState(""),[_,D]=Y.useState(!1),j=r/n*100;Y.useEffect(()=>{if(!f){S(!0);return}const ae=()=>{const H=window.scrollY;H<50?S(!0):H>C&&H>100?S(!1):H<C&&S(!0),g(H)},oe=()=>{requestAnimationFrame(ae)};return window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)},[C,f]);const R=async()=>{if(navigator.share)try{await navigator.share({title:t.title,text:`Reading "${t.title}" by ${t.author}`,url:window.location.href})}catch(ae){console.log("Error sharing:",ae)}else navigator.clipboard.writeText(window.location.href)},L=()=>{m!=null&&m.enableFastFavorite&&(m!=null&&m.fastFavoriteName)?W(m.fastFavoriteName):(N(!0),b(""))},W=async ae=>{if(!e||!ae.trim())return;const oe={id:`bookmark-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,bookId:t.id,chapterIndex:r-1,position:window.scrollY,text:`Chapter: ${e.title}`,label:ae.trim(),createdAt:new Date};try{await $u(oe),N(!1),b("");const H=document.querySelector("[data-favorite-button]");H&&(H.style.transform="scale(1.2)",setTimeout(()=>{H.style.transform="scale(1)"},200))}catch(H){console.error("Error saving favorite:",H),alert("Failed to save favorite. Please try again.")}},J=()=>{if(!(!e||!(m!=null&&m.enableTextToSpeech)))if(_)speechSynthesis.cancel(),D(!1);else{const ae=e.content.replace(/<[^>]*>/g,""),oe=new SpeechSynthesisUtterance(ae);oe.onstart=()=>D(!0),oe.onend=()=>D(!1),oe.onerror=()=>D(!1),speechSynthesis.speak(oe)}},ue=()=>{if(!(m!=null&&m.selectedInterfaceTheme))return{backgroundColor:"#ffffff",color:"#1f2937",borderColor:"#e5e7eb"};const ae=Or(m.selectedInterfaceTheme);return{backgroundColor:ae.colors.headerBackground,color:ae.colors.headerText,borderColor:ae.colors.headerBorder}};if(c)return null;const ie=ue();return v.jsxs("header",{className:`shadow-sm border-b sticky top-0 z-40 transition-transform duration-300 ${y||h?"translate-y-0":"-translate-y-full"}`,style:{backgroundColor:ie.backgroundColor,borderColor:ie.borderColor,fontFamily:m!=null&&m.applyFontGlobally?m.fontFamily==="Inter"?"Inter, sans-serif":m.fontFamily==="JetBrains Mono"?"JetBrains Mono, monospace":m.fontFamily==="Crimson Text"?"Crimson Text, serif":m.fontFamily==="Source Sans Pro"?"Source Sans Pro, sans-serif":"Georgia, serif":void 0},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[v.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"flex items-center justify-between h-16",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors",style:{color:ie.color},"aria-label":q("backToLibrary"),children:v.jsx($y,{className:"w-5 h-5"})}),v.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors",style:{color:ie.color},"aria-label":q("tableOfContents"),children:v.jsx(e2,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"flex-1 min-w-0 mx-4",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-lg font-semibold truncate",style:{color:ie.color},children:(e==null?void 0:e.title)||t.title}),v.jsxs("p",{className:"text-sm truncate",style:{color:ie.color,opacity:.7},children:[t.author," • ",q("chapter")," ",r," ",q("of")," ",n]})]}),v.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-1",children:v.jsx("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-300",style:{width:`${j}%`,backgroundColor:"#007BFF"}})})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors",style:{color:ie.color},"aria-label":q("search"),children:v.jsx(Li,{className:"w-5 h-5"})}),v.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors",style:{color:ie.color},"aria-label":q("bookmarks"),children:v.jsx(Pu,{className:"w-5 h-5"})}),v.jsx("button",{onClick:L,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-all duration-300",style:{color:ie.color},"aria-label":q("addToFavorites"),"data-favorite-button":!0,children:v.jsx(Qy,{className:"w-5 h-5"})}),(m==null?void 0:m.enableTextToSpeech)&&v.jsx("button",{onClick:J,className:`p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors ${_?"bg-blue-100 bg-opacity-20":""}`,style:{color:_?"#007BFF":ie.color},"aria-label":_?"Stop reading":"Start reading",children:v.jsx(Um,{className:"w-5 h-5"})}),v.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors",style:{color:ie.color},"aria-label":q("share"),children:v.jsx(i2,{className:"w-5 h-5"})}),v.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors",style:{color:ie.color},"aria-label":q("settings"),children:v.jsx(Fm,{className:"w-5 h-5"})}),v.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-colors",style:{color:ie.color},"aria-label":q("fullscreen"),children:v.jsx(Jy,{className:"w-5 h-5"})})]})]})}),x&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center animate-fade-in",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4 animate-scale-in",style:{backgroundColor:ie.backgroundColor,color:ie.color},children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:q("addFavorite")}),v.jsx("input",{type:"text",placeholder:q("enterBookmarkName"),value:w,onChange:ae=>b(ae.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",style:{backgroundColor:ie.backgroundColor,color:ie.color,borderColor:ie.borderColor},autoFocus:!0,onKeyPress:ae=>{ae.key==="Enter"&&w.trim()&&W(w)}}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>w.trim()&&W(w),disabled:!w.trim(),className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:q("save")}),v.jsx("button",{onClick:()=>{N(!1),b("")},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 hover:bg-opacity-20 transition-all duration-300",style:{borderColor:ie.borderColor,color:ie.color},children:q("cancel")})]})]})}),f&&!y&&v.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1 bg-gray-600 text-white px-3 py-1 rounded-b-lg text-xs opacity-75 hover:opacity-100 transition-opacity",children:v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(Xy,{className:"w-3 h-3"}),v.jsx("span",{children:"Menu hidden - hover to show"})]})})]})},Ox=({preferences:t})=>{const e=()=>{window.scrollTo({top:0,behavior:"smooth"})},r=()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})};if(!t.scrollButtons.visible)return null;const n=()=>{if(t.scrollButtons.size==="custom"&&t.scrollButtons.customSize){const u=t.scrollButtons.customSize;return{width:`${u}px`,height:`${u}px`}}switch(t.scrollButtons.size){case"small":return{width:"40px",height:"40px"};case"large":return{width:"64px",height:"64px"};default:return{width:"48px",height:"48px"}}},i=()=>{if(t.scrollButtons.size==="custom"&&t.scrollButtons.customSize){const u=Math.max(16,Math.min(32,t.scrollButtons.customSize*.4));return{width:`${u}px`,height:`${u}px`}}switch(t.scrollButtons.size){case"small":return{width:"16px",height:"16px"};case"large":return{width:"32px",height:"32px"};default:return{width:"24px",height:"24px"}}},a=document.querySelector("[data-settings-panel]")!==null?"bottom-6 left-6":"bottom-20 right-6",o=n(),l=i();return v.jsxs("div",{className:`fixed ${a} flex flex-col gap-2 z-30 transition-all duration-300`,children:[v.jsx("button",{onClick:e,className:"bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-110 flex items-center justify-center",style:{...o,borderRadius:"8px",border:"2px solid #ffffff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},"aria-label":"Scroll to top",children:v.jsx(Yy,{style:l})}),v.jsx("button",{onClick:r,className:"bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-110 flex items-center justify-center",style:{...o,borderRadius:"8px",border:"2px solid #ffffff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},"aria-label":"Scroll to bottom",children:v.jsx(Zy,{style:l})})]})},Px=({chapter:t,preferences:e,onNextChapter:r,onPreviousChapter:n,canGoNext:i,canGoPrevious:s,onContentClick:a})=>{var g;const o=Y.useRef(null),l=()=>{var h,p;return{backgroundColor:((h=e.colors)==null?void 0:h.backgroundColor)||"#ffffff",color:((p=e.colors)==null?void 0:p.textColor)||"#000000"}},u=()=>{const h={Georgia:"Georgia, serif",Inter:"Inter, -apple-system, BlinkMacSystemFont, sans-serif","JetBrains Mono":"JetBrains Mono, monospace"};return h[e.fontFamily]||h.Inter},c=()=>{const h={phone:"100%",normal:"75ch",full:"100%"};return h[e.maxWidth]||h.full},f=()=>e.maxWidth==="phone"?"w-full px-4 max-w-sm mx-auto":e.maxWidth==="full"?"w-full px-4 sm:px-6 lg:px-8":"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",m={...l(),fontSize:`${e.fontSize}px`,fontFamily:u(),lineHeight:e.lineHeight,padding:`${e.marginSize}em`,maxWidth:c(),margin:e.maxWidth==="full"?"0":"0 auto"};Y.useEffect(()=>{const h=()=>{};return window.addEventListener("scroll",h),()=>window.removeEventListener("scroll",h)},[]),Y.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t==null?void 0:t.id]),Y.useEffect(()=>{const h=()=>{const p=window.innerWidth;let x=1;if(p<=480?x=.7:p<=768?x=.8:p<=1024?x=.9:p<=1440?x=1:x=1.2,p>=2560&&(x*=1.3),o.current){const N=Math.max(12,e.fontSize*x);o.current.style.fontSize=`${N}px`}};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[e.fontSize]);const y=()=>{r()},S=()=>{n()},C=h=>{var N;const p=document.createElement("div");p.innerHTML=h;const x=p.querySelector("h1, h2, h3");if(x&&(t!=null&&t.title)){const w=(N=x.textContent)==null?void 0:N.trim().toLowerCase(),b=t.title.trim().toLowerCase();(w===b||w===`chapter ${b}`||w!=null&&w.includes(b))&&x.remove()}return p.innerHTML};return t?v.jsxs("div",{className:"min-h-screen transition-all duration-300",style:l(),children:[v.jsxs("main",{className:f(),onClick:a,children:[v.jsx("article",{ref:o,className:"prose prose-lg max-w-none transition-all duration-300",style:m,children:v.jsx("div",{dangerouslySetInnerHTML:{__html:C(t.content)},className:"chapter-content","data-custom-font":"true",style:{fontSize:`${e.fontSize}px`,lineHeight:e.lineHeight,fontFamily:u(),color:((g=e.colors)==null?void 0:g.textColor)||"#000000"}})}),v.jsxs("div",{className:"flex justify-between items-center py-8 px-4",children:[v.jsxs("button",{onClick:S,disabled:!s,className:`flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 ${s?"bg-blue-600 text-white hover:bg-blue-700 transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[v.jsx(zm,{className:"w-5 h-5"}),"Previous Chapter"]}),v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-sm text-gray-500 transition-colors duration-300",style:{color:e.theme==="dark"?"#9ca3af":"#6b7280"},children:"Scroll to read • Use arrow keys to navigate"})}),v.jsxs("button",{onClick:y,disabled:!i,className:`flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 ${i?"bg-blue-600 text-white hover:bg-blue-700 transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:["Next Chapter",v.jsx(jm,{className:"w-5 h-5"})]})]})]}),v.jsx(Ox,{preferences:e})]}):v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("p",{className:"text-gray-500",children:"No chapter content available"})})},Fx=({chapters:t,currentChapterIndex:e,onChapterSelect:r,onClose:n,preferences:i})=>{const s=Y.useRef(null);Y.useEffect(()=>{const l=u=>{s.current&&!s.current.contains(u.target)&&n()};return document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[n]);const o=i!=null&&i.interfaceColors?{backgroundColor:i.interfaceColors.panelBackground||"#ffffff",color:i.interfaceColors.textPrimary||"#1f2937",borderColor:i.interfaceColors.panelBorder||"#e5e7eb"}:{backgroundColor:"#ffffff",color:"#1f2937",borderColor:"#e5e7eb"};return v.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex animate-fade-in",children:[v.jsxs("div",{ref:s,className:"w-full max-w-md h-full shadow-xl flex flex-col animate-slide-in-left overflow-hidden",style:{backgroundColor:o.backgroundColor,fontFamily:i!=null&&i.applyFontGlobally?i.fontFamily==="Inter"?"Inter, sans-serif":i.fontFamily==="JetBrains Mono"?"JetBrains Mono, monospace":i.fontFamily==="Crimson Text"?"Crimson Text, serif":i.fontFamily==="Source Sans Pro"?"Source Sans Pro, sans-serif":"Georgia, serif":void 0},children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b flex-shrink-0",style:{borderColor:o.borderColor},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Ii,{className:"w-6 h-6",style:{color:"#007BFF"}}),v.jsx("h2",{className:"text-lg font-semibold",style:{color:o.color},children:q("tableOfContents")})]}),v.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-all duration-300",style:{color:o.color},"aria-label":"Close table of contents",children:v.jsx(Js,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?v.jsxs("div",{className:"p-4 text-center",style:{color:o.color,opacity:.6},children:[v.jsx(Ii,{className:"w-12 h-12 mx-auto mb-3",style:{color:o.color,opacity:.3}}),v.jsx("p",{children:q("noChaptersAvailable")})]}):v.jsx("div",{className:"p-2",children:t.map((l,u)=>v.jsx("button",{onClick:()=>r(u),className:`w-full text-left p-3 rounded-lg mb-1 transition-all duration-300 ${u===e?"transform scale-105":"hover:transform hover:scale-105"}`,style:{backgroundColor:u===e?"#007BFF20":"transparent",borderLeft:u===e?"4px solid #007BFF":"4px solid transparent",color:u===e?"#007BFF":o.color},children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("span",{className:"text-sm font-medium mt-0.5 flex-shrink-0",style:{color:u===e?"#007BFF":o.color,opacity:u===e?1:.6},children:u+1}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("h3",{className:"font-medium mb-1 break-words",children:l.title}),u===e&&v.jsx("span",{className:"text-xs font-medium",style:{color:"#007BFF"},children:q("currentlyReading")})]})]})},l.id))})}),v.jsx("div",{className:"p-4 border-t flex-shrink-0",style:{borderColor:o.borderColor,backgroundColor:o.backgroundColor,opacity:.8},children:v.jsxs("p",{className:"text-sm text-center",style:{color:o.color},children:[t.length," ",q("chaptersTotal")," • Use arrow keys to navigate"]})})]}),v.jsx("div",{className:"flex-1",onClick:n})]})},bh=({color:t,onChange:e,label:r,defaultColor:n,disabled:i=!1})=>{const[s,a]=Y.useState(!1),[o,l]=Y.useState(t),u=Y.useRef(null);Y.useEffect(()=>{const m=y=>{u.current&&!u.current.contains(y.target)&&a(!1)};return s&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[s]);const c=m=>{l(m),e(m)},f=t===n;return v.jsxs("div",{className:"relative",ref:u,children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:r}),v.jsxs("button",{onClick:()=>!i&&a(!s),disabled:i,className:`w-full h-12 rounded-lg border-2 flex items-center justify-between px-3 transition-all duration-300 ${i?"opacity-50 cursor-not-allowed bg-gray-100":"hover:border-gray-400 cursor-pointer"}`,style:{backgroundColor:i?"#f3f4f6":t,borderColor:f?"#007BFF":"#d1d5db"},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:t}}),v.jsxs("span",{className:"text-sm font-medium",style:{color:i?"#6b7280":"#1f2937"},children:[f&&v.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2",children:q("default")}),t.toUpperCase()]})]}),!i&&v.jsx(Om,{className:"w-4 h-4 text-gray-400"})]}),s&&!i&&v.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50 animate-fade-in",children:v.jsxs("div",{className:"space-y-3",children:[v.jsx("input",{type:"color",value:o,onChange:m=>c(m.target.value),className:"w-full h-10 rounded border border-gray-300 cursor-pointer"}),v.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),placeholder:"#000000",className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>c(n),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm",children:q("resetToDefault")}),v.jsx("button",{onClick:()=>a(!1),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors text-sm",children:q("done")})]})]})})]})},Mx=({preferences:t,onPreferencesChange:e,onClose:r})=>{const[n,i]=Y.useState("reading"),[s,a]=Y.useState(!1),[o,l]=Y.useState(!1),[u,c]=Y.useState(t.fastFavoriteName||"Quick Bookmark"),[f,m]=Y.useState(!1),[y,S]=Y.useState(!1),C=Y.useRef(null),g=Y.useRef(null);Y.useEffect(()=>{if(t.selectedInterfaceTheme){const L=Or(t.selectedInterfaceTheme);_i(L)}},[t.selectedInterfaceTheme]),Y.useEffect(()=>{const L=W=>{C.current&&!C.current.contains(W.target)&&r()};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[r]),Y.useEffect(()=>{const L=()=>{i(W=>W)};return window.addEventListener("languageChanged",L),()=>{window.removeEventListener("languageChanged",L)}},[]);const h=L=>{const W=Or(L),J={...t,selectedInterfaceTheme:L,interfaceTheme:L,interfaceColors:W.colors};if(t.syncInterfaceWithReading){const ue=Bl.find(ie=>ie.id===L);ue&&(J.selectedColorTheme=L,J.colors=ue.colors)}_i(W),e(J)},p=L=>{const W=Bl.find(ue=>ue.id===L);if(!W)return;const J={...t,selectedColorTheme:L,colors:W.colors,useThemeBasedColors:!0};if(t.syncInterfaceWithReading){const ue=Or(L);J.selectedInterfaceTheme=ue.id,J.interfaceColors=ue.colors,_i(ue)}e(J)},x=L=>{const W={...t,syncInterfaceWithReading:L};if(L&&t.selectedColorTheme){const J=Or(t.selectedColorTheme);W.selectedInterfaceTheme=J.id,W.interfaceColors=J.colors,_i(J)}e(W)},N=async()=>{if(window.confirm(q("confirmResetSettings")))try{await b2(),window.location.reload()}catch(L){console.error("Error resetting to defaults:",L),alert(q("failedToResetSettings"))}},w=async()=>{try{a(!0);const L=await C2(),W=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),J=URL.createObjectURL(W),ue=document.createElement("a");ue.href=J,ue.download=`ebook-reader-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ue),ue.click(),document.body.removeChild(ue),URL.revokeObjectURL(J)}catch(L){console.error("Export failed:",L),alert(q("exportFailed"))}finally{a(!1)}},b=async L=>{var J;const W=(J=L.target.files)==null?void 0:J[0];if(W)try{l(!0);const ue=await W.text(),ie=JSON.parse(ue);await S2(ie),alert(q("importSuccess")),window.location.reload()}catch(ue){console.error("Import failed:",ue),alert(q("importFailed"))}finally{l(!1),g.current&&(g.current.value="")}},_=Or(t.selectedInterfaceTheme||"light"),D={backgroundColor:_.colors.panelBackground,color:_.colors.textPrimary,borderColor:_.colors.panelBorder},j=[{id:"reading",label:q("reading"),icon:s2},{id:"interface",label:q("interface"),icon:Om},{id:"controls",label:q("controls"),icon:r2},{id:"backup",label:q("backup"),icon:Fm}],R=L=>{const W={Inter:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",Georgia:"Georgia, serif","JetBrains Mono":"JetBrains Mono, monospace"};return{fontFamily:W[L]||W.Inter}};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end animate-fade-in",children:v.jsxs("div",{ref:C,className:"w-full max-w-md h-full shadow-xl overflow-hidden flex flex-col animate-slide-in-right",style:{backgroundColor:D.backgroundColor,fontFamily:t!=null&&t.applyFontGlobally?t.fontFamily==="Inter"?"Inter, sans-serif":t.fontFamily==="JetBrains Mono"?"JetBrains Mono, monospace":t.fontFamily==="Georgia"?"Georgia, serif":"Inter, sans-serif":void 0},"data-settings-panel":"true",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:D.borderColor},children:[v.jsx("h2",{className:"text-lg font-semibold",style:{color:D.color},children:q("readingSettings")}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>m(!f),className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-all duration-300",style:{color:D.color},"aria-label":q("language"),children:v.jsx(Yc,{className:"w-5 h-5"})}),f&&v.jsx("div",{className:"absolute top-full right-0 mt-2 z-50",children:v.jsx(yd,{onClose:()=>m(!1)})})]}),v.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-all duration-300",style:{color:D.color},"aria-label":q("closeSettings"),children:v.jsx(Js,{className:"w-5 h-5"})})]})]}),v.jsx("div",{className:"flex border-b",style:{borderColor:D.borderColor},children:j.map(L=>{const W=L.icon;return v.jsxs("button",{onClick:()=>i(L.id),className:`flex-1 flex items-center justify-center gap-2 py-3 px-2 text-sm font-medium transition-all duration-300 ${n===L.id?"border-b-2":"hover:bg-gray-100 hover:bg-opacity-20"}`,style:{color:n===L.id?"#007BFF":D.color,borderColor:n===L.id?"#007BFF":"transparent"},children:[v.jsx(W,{className:"w-4 h-4"}),v.jsx("span",{className:"hidden sm:inline",children:L.label})]},L.id)})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[n==="reading"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:D.color},children:q("typography")}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:D.color},children:q("fontFamily")}),v.jsx("div",{className:"grid grid-cols-1 gap-2",children:[{value:"Inter",label:"Inter (Sans-Serif)",isDefault:!0},{value:"Georgia",label:"Georgia (Serif)",isDefault:!1},{value:"JetBrains Mono",label:"JetBrains Mono (Monospace)",isDefault:!1}].map(L=>v.jsxs("button",{onClick:()=>e({...t,fontFamily:L.value}),className:`p-3 text-left rounded-lg border-2 transition-all duration-300 transform hover:scale-105 ${t.fontFamily===L.value?"border-blue-500":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:t.fontFamily===L.value?`${_.colors.accent}20`:"transparent",borderColor:t.fontFamily===L.value?_.colors.accent:D.borderColor,color:D.color,...R(L.value)},children:[v.jsx("div",{className:"flex items-center justify-between",children:v.jsxs("span",{className:"font-medium",children:[L.label,L.isDefault&&v.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:q("default")})]})}),v.jsx("div",{className:"text-sm mt-1 opacity-70",style:R(L.value),children:q("fontPreviewText")})]},L.value))})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:D.color},children:[q("fontSize"),": ",t.fontSize,"px",t.fontSize===38&&v.jsxs("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:[q("default"),": 38px"]})]}),v.jsx("input",{type:"range",min:"12",max:"64",value:t.fontSize,onChange:L=>e({...t,fontSize:parseInt(L.target.value)}),className:"slider w-full",style:{background:`linear-gradient(to right, #007BFF 0%, #007BFF ${(t.fontSize-12)/52*100}%, #e5e7eb ${(t.fontSize-12)/52*100}%, #e5e7eb 100%)`}}),v.jsxs("div",{className:"flex justify-between text-xs mt-1",style:{color:D.color,opacity:.6},children:[v.jsx("span",{children:"12px"}),v.jsx("span",{children:"64px"})]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:D.color},children:[q("lineHeight"),": ",t.lineHeight,t.lineHeight===1.6&&v.jsxs("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:[q("default"),": 1.6"]})]}),v.jsx("input",{type:"range",min:"1.2",max:"2.5",step:"0.1",value:t.lineHeight,onChange:L=>e({...t,lineHeight:parseFloat(L.target.value)}),className:"slider w-full",style:{background:`linear-gradient(to right, #007BFF 0%, #007BFF ${(t.lineHeight-1.2)/(2.5-1.2)*100}%, #e5e7eb ${(t.lineHeight-1.2)/(2.5-1.2)*100}%, #e5e7eb 100%)`}}),v.jsxs("div",{className:"flex justify-between text-xs mt-1",style:{color:D.color,opacity:.6},children:[v.jsx("span",{children:"1.2"}),v.jsx("span",{children:"2.5"})]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:D.color},children:[q("letterSpacing"),": ",t.marginSize,"em",t.marginSize===.5&&v.jsxs("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:[q("default"),": 0.5em"]})]}),v.jsx("input",{type:"range",min:"0",max:"3",step:"0.1",value:t.marginSize,onChange:L=>e({...t,marginSize:parseFloat(L.target.value)}),className:"slider w-full",style:{background:`linear-gradient(to right, #007BFF 0%, #007BFF ${t.marginSize/3*100}%, #e5e7eb ${t.marginSize/3*100}%, #e5e7eb 100%)`}}),v.jsxs("div",{className:"flex justify-between text-xs mt-1",style:{color:D.color,opacity:.6},children:[v.jsx("span",{children:"0em"}),v.jsx("span",{children:"3em"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-3",style:{color:D.color},children:q("contentWidth")}),v.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"phone",label:q("phone")},{value:"normal",label:q("normal")},{value:"full",label:q("full")}].map(L=>v.jsxs("button",{onClick:()=>e({...t,maxWidth:L.value}),className:`p-4 text-sm rounded-lg border transition-all duration-300 ${t.maxWidth===L.value?"border-blue-500 bg-blue-50 bg-opacity-20":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:t.maxWidth===L.value?`${_.colors.accent}20`:"transparent",borderColor:t.maxWidth===L.value?_.colors.accent:D.borderColor,color:D.color,minHeight:"64px"},children:[L.label,L.value==="full"&&v.jsx("span",{className:"block mt-1 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:q("default")})]},L.value))})]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:D.color},children:q("colors")}),v.jsxs("div",{className:"mb-4",children:[v.jsx("h4",{className:"text-md font-medium mb-3",style:{color:D.color},children:q("readingColors")}),v.jsx("div",{className:"grid grid-cols-1 gap-3",children:Bl.filter(L=>L.id!=="custom").map(L=>v.jsxs("button",{onClick:()=>p(L.id),className:`p-4 rounded-lg border-2 text-left transition-all duration-300 transform hover:scale-105 ${t.selectedColorTheme===L.id?"border-blue-500":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:t.selectedColorTheme===L.id?`${_.colors.accent}20`:L.colors.backgroundColor,borderColor:t.selectedColorTheme===L.id?_.colors.accent:L.colors.textColor,color:L.colors.textColor},children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("span",{className:"font-medium",children:[q(L.id),L.id==="light"&&v.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:q("default")})]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:L.colors.backgroundColor}}),v.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:L.colors.textColor}}),v.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:L.colors.chapterTitleColor}})]})]}),v.jsx("p",{className:"text-sm opacity-80 mb-1",children:q(`${L.id}Description`)}),v.jsx("p",{className:"text-xs opacity-60",children:q(`${L.id}Usage`)})]},L.id))})]}),v.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 bg-opacity-20 rounded-lg",children:[v.jsx("h4",{className:"font-medium",style:{color:D.color},children:q("custom")}),v.jsx(bh,{color:t.colors.backgroundColor,onChange:L=>e({...t,selectedColorTheme:"custom",colors:{...t.colors,backgroundColor:L}}),label:q("backgroundColor"),defaultColor:"#ffffff"}),v.jsx(bh,{color:t.colors.textColor,onChange:L=>e({...t,selectedColorTheme:"custom",colors:{...t.colors,textColor:L}}),label:q("textColor"),defaultColor:"#000000"})]})]})]}),n==="interface"&&v.jsx(v.Fragment,{children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:D.color},children:q("interfaceColors")}),v.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4",children:vo.map(L=>v.jsxs("button",{onClick:()=>h(L.id),className:`p-4 rounded-lg border-2 text-left transition-all duration-300 transform hover:scale-105 ${t.selectedInterfaceTheme===L.id?"border-blue-500":"border-gray-200 hover:border-gray-300"}`,style:{backgroundColor:t.selectedInterfaceTheme===L.id?`${L.colors.accent}20`:L.colors.panelBackground,borderColor:t.selectedInterfaceTheme===L.id?L.colors.accent:L.colors.panelBorder,color:L.colors.textPrimary},children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsxs("span",{className:"font-medium",children:[q(L.id),L.isDefault&&v.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:q("default")})]}),v.jsxs("div",{className:"flex gap-1",children:[v.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:L.colors.headerBackground}}),v.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:L.colors.accent}}),v.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:L.colors.panelBackground}})]})]}),v.jsx("p",{className:"text-sm opacity-80",children:L.description})]},L.id))}),v.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 bg-opacity-20 rounded-lg",children:[v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:t.syncInterfaceWithReading||!1,onChange:L=>x(L.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 mt-0.5"}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium",style:{color:D.color},children:q("syncInterfaceAndReadingColors")}),v.jsx("p",{className:"text-xs mt-1",style:{color:D.color,opacity:.7},children:q("syncDescription")})]})]}),v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:t.applyFontGlobally||!1,onChange:L=>e({...t,applyFontGlobally:L.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 mt-0.5"}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium",style:{color:D.color},children:q("applyFontGlobally")}),v.jsx("p",{className:"text-xs mt-1",style:{color:D.color,opacity:.7},children:q("applyFontGloballyDescription")})]})]})]})]})}),n==="controls"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:D.color},children:q("interface")}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:t.hideMenuWhileReading,onChange:L=>e({...t,hideMenuWhileReading:L.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 mt-0.5"}),v.jsxs("div",{children:[v.jsxs("span",{className:"text-sm font-medium",style:{color:D.color},children:[q("autoHideMenu"),v.jsxs("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs",children:[q("default"),": ",q("checked")]})]}),v.jsx("p",{className:"text-xs mt-1",style:{color:D.color,opacity:.7},children:q("autoHideMenuDescription")})]})]}),v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:t.scrollButtons.visible,onChange:L=>{e({...t,scrollButtons:{...t.scrollButtons,visible:L.target.checked}}),S(L.target.checked)},className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 mt-0.5"}),v.jsxs("div",{children:[v.jsxs("span",{className:"text-sm font-medium",style:{color:D.color},children:[q("showScrollButtons"),v.jsxs("span",{className:"ml-2 bg-gray-100 text-gray-800 px-2 py-0.5 rounded text-xs",children:[q("default"),": ",q("unchecked")]})]}),v.jsx("p",{className:"text-xs mt-1",style:{color:D.color,opacity:.7},children:q("showScrollButtonsDescription")})]})]}),(t.scrollButtons.visible||y)&&v.jsxs("div",{className:"ml-7 space-y-3 animate-fade-in",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:D.color},children:q("buttonSize")}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{value:"small",label:q("small"),size:"40px"},{value:"medium",label:q("medium"),size:"48px"},{value:"large",label:q("large"),size:"64px"},{value:"custom",label:q("custom"),size:"Custom"}].map(L=>v.jsxs("button",{onClick:()=>e({...t,scrollButtons:{...t.scrollButtons,size:L.value}}),className:`p-2 text-sm rounded border transition-all duration-300 ${t.scrollButtons.size===L.value?"border-blue-500 bg-blue-50 bg-opacity-20":"border-gray-300 hover:border-gray-400"}`,style:{backgroundColor:t.scrollButtons.size===L.value?`${_.colors.accent}20`:"transparent",borderColor:t.scrollButtons.size===L.value?_.colors.accent:D.borderColor,color:D.color},children:[v.jsx("div",{children:L.label}),v.jsxs("div",{className:"text-xs opacity-60",children:[L.value==="medium"&&v.jsx("span",{className:"bg-blue-100 text-blue-800 px-1 py-0.5 rounded text-xs",children:q("default")}),L.value!=="custom"&&` (${L.size})`]})]},L.value))})]}),t.scrollButtons.size==="custom"&&v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:D.color},children:[q("customSize"),": ",t.scrollButtons.customSize||48,"px"]}),v.jsx("input",{type:"range",min:"24",max:"80",value:t.scrollButtons.customSize||48,onChange:L=>e({...t,scrollButtons:{...t.scrollButtons,customSize:parseInt(L.target.value)||48}}),className:"slider w-full",style:{background:`linear-gradient(to right, #007BFF 0%, #007BFF ${((t.scrollButtons.customSize||48)-24)/56*100}%, #e5e7eb ${((t.scrollButtons.customSize||48)-24)/56*100}%, #e5e7eb 100%)`}}),v.jsxs("div",{className:"flex justify-between text-xs mt-1",style:{color:D.color,opacity:.6},children:[v.jsx("span",{children:"24px"}),v.jsx("span",{children:"80px"})]})]})]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:D.color},children:q("readingExperience")}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:t.enableTextToSpeech||!1,onChange:L=>e({...t,enableTextToSpeech:L.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 mt-0.5"}),v.jsxs("div",{children:[v.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",style:{color:D.color},children:[v.jsx(Um,{className:"w-4 h-4"}),q("textToSpeechSupport"),v.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded text-xs",children:q("experimental")})]}),v.jsx("p",{className:"text-xs mt-1",style:{color:D.color,opacity:.7},children:q("textToSpeechDescription")})]})]}),v.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:t.enableFastFavorite||!1,onChange:L=>e({...t,enableFastFavorite:L.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500 mt-0.5"}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium",style:{color:D.color},children:q("fastFavorite")}),v.jsx("p",{className:"text-xs mt-1",style:{color:D.color,opacity:.7},children:q("fastFavoriteDescription")})]})]}),t.enableFastFavorite&&v.jsxs("div",{className:"ml-7 animate-fade-in",children:[v.jsxs("label",{className:"block text-sm font-medium mb-2",style:{color:D.color},children:[q("defaultBookmarkName"),":"]}),v.jsx("input",{type:"text",value:u,onChange:L=>{c(L.target.value),e({...t,fastFavoriteName:L.target.value})},placeholder:"Quick Bookmark",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",style:{backgroundColor:_.colors.inputBackground,color:_.colors.inputText,borderColor:_.colors.inputBorder}})]})]})]})]}),n==="backup"&&v.jsx(v.Fragment,{children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",style:{color:D.color},children:q("backupAndReset")}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:`${_.colors.accent}15`},children:[v.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",style:{color:D.color},children:[v.jsx(Lf,{className:"w-4 h-4",style:{color:_.colors.accent}}),q("exportSettings")]}),v.jsx("p",{className:"text-sm mb-3",style:{color:D.color,opacity:.8},children:q("exportDescription")}),v.jsxs("button",{onClick:w,disabled:s,className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:opacity-90 disabled:opacity-50 transition-all duration-300 transform hover:scale-105 text-sm",style:{backgroundColor:_.colors.buttonPrimary,color:_.colors.buttonPrimaryText},children:[v.jsx(Lf,{className:"w-4 h-4"}),q(s?"exporting":"exportData")]})]}),v.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:`${_.colors.success}15`},children:[v.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",style:{color:D.color},children:[v.jsx(Fu,{className:"w-4 h-4",style:{color:_.colors.success}}),q("importSettings")]}),v.jsx("p",{className:"text-sm mb-3",style:{color:D.color,opacity:.8},children:q("importDescription")}),v.jsx("input",{ref:g,type:"file",accept:".json",onChange:b,className:"hidden"}),v.jsxs("button",{onClick:()=>{var L;return(L=g.current)==null?void 0:L.click()},disabled:o,className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:opacity-90 disabled:opacity-50 transition-all duration-300 transform hover:scale-105 text-sm",style:{backgroundColor:_.colors.success,color:"#ffffff"},children:[v.jsx(Fu,{className:"w-4 h-4"}),q(o?"importing":"importData")]})]}),v.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:`${_.colors.error}15`},children:[v.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",style:{color:D.color},children:[v.jsx(Bf,{className:"w-4 h-4",style:{color:_.colors.error}}),q("resetToDefault")]}),v.jsx("p",{className:"text-sm mb-3",style:{color:D.color,opacity:.8},children:q("resetDescription")}),v.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:opacity-90 transition-all duration-300 transform hover:scale-105 text-sm",style:{backgroundColor:_.colors.error,color:"#ffffff"},children:[v.jsx(Bf,{className:"w-4 h-4"}),q("resetToDefault")]})]})]}),v.jsx("div",{className:"mt-4 p-4 rounded-lg border-l-4",style:{backgroundColor:`${_.colors.warning}15`,borderColor:_.colors.warning},children:v.jsxs("p",{className:"text-sm",style:{color:D.color},children:[v.jsxs("strong",{children:["⚠️ ",q("important"),":"]})," ",q("backupWarning")]})})]})})]})]})})},Ux=({onSearch:t,searchResults:e,onResultClick:r,onClose:n,preferences:i})=>{const[s,a]=Y.useState(""),[o,l]=Y.useState(!1),u=Y.useRef(null),c=Y.useRef(null);Y.useEffect(()=>{var C;(C=u.current)==null||C.focus()},[]),Y.useEffect(()=>{const C=g=>{c.current&&!c.current.contains(g.target)&&n()};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[n]),Y.useEffect(()=>{if(!s.trim()){t("");return}l(!0);const C=setTimeout(()=>{t(s),l(!1)},300);return()=>clearTimeout(C)},[s,t]);const f=C=>{C.preventDefault(),s.trim()&&t(s)},m=(C,g,h)=>v.jsxs(v.Fragment,{children:[C.slice(0,g),v.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded",children:C.slice(g,h)}),C.slice(h)]}),S=i!=null&&i.interfaceColors?{backgroundColor:i.interfaceColors.panelBackground||"#ffffff",color:i.interfaceColors.panelText||"#1f2937",borderColor:i.interfaceColors.borderColor||"#e5e7eb"}:{backgroundColor:"#ffffff",color:"#1f2937",borderColor:"#e5e7eb"};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-center pt-20 animate-fade-in",children:v.jsxs("div",{ref:c,className:"rounded-xl shadow-xl w-full max-w-2xl mx-4 max-h-[80vh] overflow-hidden animate-scale-in",style:{backgroundColor:S.backgroundColor,fontFamily:i!=null&&i.applyFontGlobally?i.fontFamily==="Inter"?"Inter, sans-serif":i.fontFamily==="JetBrains Mono"?"JetBrains Mono, monospace":i.fontFamily==="Crimson Text"?"Crimson Text, serif":i.fontFamily==="Source Sans Pro"?"Source Sans Pro, sans-serif":"Georgia, serif":void 0},children:[v.jsxs("div",{className:"flex items-center gap-4 p-4 border-b",style:{borderColor:S.borderColor},children:[v.jsx(Li,{className:"w-5 h-5",style:{color:S.color,opacity:.6}}),v.jsx("form",{onSubmit:f,className:"flex-1",children:v.jsx("input",{ref:u,type:"text",placeholder:"Search in book...",value:s,onChange:C=>a(C.target.value),className:"w-full text-lg border-none outline-none placeholder-gray-400 transition-all duration-300 bg-transparent",style:{color:S.color}})}),v.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-all duration-300",style:{color:S.color},"aria-label":"Close search",children:v.jsx(Js,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.trim()?o?v.jsxs("div",{className:"p-8 text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3",style:{borderColor:"#007BFF"}}),v.jsx("p",{style:{color:S.color},children:"Searching..."})]}):e.length===0?v.jsxs("div",{className:"p-8 text-center",style:{color:S.color},children:[v.jsx(Li,{className:"w-12 h-12 mx-auto mb-3",style:{color:S.color,opacity:.3}}),v.jsx("p",{className:"text-lg font-medium mb-2",children:"No results found"}),v.jsx("p",{style:{opacity:.7},children:"Try different keywords or check your spelling"})]}):v.jsx("div",{className:"divide-y",style:{borderColor:S.borderColor},children:e.map((C,g)=>v.jsx("button",{onClick:()=>r(C),className:"w-full text-left p-4 hover:bg-gray-50 hover:bg-opacity-20 transition-all duration-300",children:v.jsxs("div",{className:"flex items-start justify-between gap-4",children:[v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("div",{className:"flex items-center gap-2 mb-2",children:v.jsx("span",{className:"text-sm font-medium",style:{color:"#007BFF"},children:C.chapterTitle})}),v.jsx("p",{className:"leading-relaxed",style:{color:S.color},children:m(C.text,C.matchStart,C.matchEnd)})]}),v.jsx(Vy,{className:"w-4 h-4 flex-shrink-0 mt-1",style:{color:S.color,opacity:.4}})]})},g))}):v.jsxs("div",{className:"p-8 text-center",style:{color:S.color},children:[v.jsx(Li,{className:"w-12 h-12 mx-auto mb-3",style:{color:S.color,opacity:.3}}),v.jsx("p",{children:"Enter a search term to find text in your book"}),v.jsxs("div",{className:"mt-4 text-sm",children:[v.jsx("p",{className:"mb-1",children:"Tips:"}),v.jsxs("ul",{className:"text-left inline-block space-y-1",style:{opacity:.7},children:[v.jsx("li",{children:"• Search is case-insensitive"}),v.jsx("li",{children:"• Use specific words for better results"}),v.jsx("li",{children:"• Click on results to jump to that location"})]})]})]})}),e.length>0&&v.jsx("div",{className:"p-4 border-t",style:{borderColor:S.borderColor,backgroundColor:S.backgroundColor,opacity:.8},children:v.jsxs("p",{className:"text-sm text-center",style:{color:S.color},children:["Found ",e.length," ",e.length===1?"result":"results",' for "',s,'"']})})]})})},Wx=({bookId:t,chapters:e,currentChapterIndex:r,onBookmarkClick:n,onClose:i,preferences:s})=>{const[a,o]=Y.useState([]),[l,u]=Y.useState(!1),[c,f]=Y.useState(""),[m,y]=Y.useState(null),[S,C]=Y.useState(""),g=Y.useRef(null);Y.useEffect(()=>{(async()=>{try{const D=await Zm(t);o(D.sort((j,R)=>R.createdAt.getTime()-j.createdAt.getTime()))}catch(D){console.error("Error loading bookmarks:",D)}})()},[t]),Y.useEffect(()=>((async()=>{await Uf(t,!0)})(),()=>{Uf(t,!1)}),[t]),Y.useEffect(()=>{const _=D=>{g.current&&!g.current.contains(D.target)&&i()};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[i]);const h=async()=>{if(!c.trim())return;const _=e[r];if(!_)return;const D={id:`bookmark-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,bookId:t,chapterIndex:r,position:window.scrollY,text:`Chapter: ${_.title}`,label:c.trim(),createdAt:new Date};try{await $u(D),o(j=>[D,...j]),f(""),u(!1)}catch(j){console.error("Error saving bookmark:",j)}},p=async _=>{if(window.confirm("Are you sure you want to delete this bookmark?"))try{await _2(_),o(D=>D.filter(j=>j.id!==_))}catch(D){console.error("Error deleting bookmark:",D)}},x=async _=>{if(!S.trim())return;const D=a.find(R=>R.id===_);if(!D)return;const j={...D,label:S.trim()};try{await $u(j),o(R=>R.map(L=>L.id===_?j:L)),y(null),C("")}catch(R){console.error("Error updating bookmark:",R)}},N=_=>{const j=(new Date().getTime()-_.getTime())/(1e3*60*60);return j<1?"Just now":j<24?`${Math.round(j)}h ago`:j<168?`${Math.round(j/24)}d ago`:_.toLocaleDateString()},b=s!=null&&s.interfaceColors?{backgroundColor:s.interfaceColors.panelBackground||"#ffffff",color:s.interfaceColors.panelText||"#1f2937",borderColor:s.interfaceColors.borderColor||"#e5e7eb"}:{backgroundColor:"#ffffff",color:"#1f2937",borderColor:"#e5e7eb"};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end animate-fade-in",children:v.jsxs("div",{ref:g,className:"w-full max-w-md h-full shadow-xl overflow-y-auto animate-slide-in-right",style:{backgroundColor:b.backgroundColor,fontFamily:s!=null&&s.applyFontGlobally?s.fontFamily==="Inter"?"Inter, sans-serif":s.fontFamily==="JetBrains Mono"?"JetBrains Mono, monospace":s.fontFamily==="Crimson Text"?"Crimson Text, serif":s.fontFamily==="Source Sans Pro"?"Source Sans Pro, sans-serif":"Georgia, serif":void 0},children:[v.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0",style:{backgroundColor:b.backgroundColor,borderColor:b.borderColor},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(Pu,{className:"w-6 h-6",style:{color:"#007BFF"}}),v.jsx("h2",{className:"text-lg font-semibold",style:{color:b.color},children:"Bookmarks"})]}),v.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 hover:bg-opacity-20 rounded-lg transition-all duration-300",style:{color:b.color},"aria-label":"Close bookmarks",children:v.jsx(Js,{className:"w-5 h-5"})})]}),v.jsx("div",{className:"p-4 border-b",style:{borderColor:b.borderColor,backgroundColor:b.backgroundColor,opacity:.95},children:l?v.jsxs("div",{className:"space-y-3 animate-fade-in",children:[v.jsx("input",{type:"text",placeholder:"Bookmark label...",value:c,onChange:_=>f(_.target.value),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",style:{borderColor:b.borderColor,backgroundColor:b.backgroundColor,color:b.color},autoFocus:!0}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:h,disabled:!c.trim(),className:"flex-1 py-2 px-4 rounded-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105",style:{backgroundColor:"#007BFF",color:"#ffffff"},children:"Save"}),v.jsx("button",{onClick:()=>{u(!1),f("")},className:"px-4 py-2 border rounded-lg hover:bg-gray-50 hover:bg-opacity-20 transition-all duration-300",style:{borderColor:b.borderColor,color:b.color},children:"Cancel"})]})]}):v.jsxs("button",{onClick:()=>u(!0),className:"w-full flex items-center justify-center gap-2 p-3 border-2 border-dashed rounded-lg hover:border-gray-400 transition-all duration-300 hover:bg-gray-100 hover:bg-opacity-20",style:{borderColor:b.borderColor,color:b.color},children:[v.jsx(Pm,{className:"w-5 h-5"}),"Add Bookmark Here"]})}),v.jsx("div",{className:"flex-1",children:a.length===0?v.jsxs("div",{className:"p-8 text-center",style:{color:b.color},children:[v.jsx(Pu,{className:"w-12 h-12 mx-auto mb-3",style:{color:b.color,opacity:.3}}),v.jsx("h3",{className:"text-lg font-medium mb-2",children:"No bookmarks yet"}),v.jsx("p",{className:"text-sm opacity-60",children:"Add bookmarks to save your favorite passages and important locations"})]}):v.jsx("div",{className:"divide-y",style:{borderColor:b.borderColor},children:a.map(_=>v.jsx("div",{className:"p-4 hover:bg-gray-50 hover:bg-opacity-20 transition-all duration-300",children:v.jsxs("div",{className:"flex items-start justify-between gap-3",children:[v.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>n(_.chapterIndex),children:m===_.id?v.jsxs("div",{className:"space-y-2 animate-fade-in",children:[v.jsx("input",{type:"text",value:S,onChange:D=>C(D.target.value),className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",style:{borderColor:b.borderColor,backgroundColor:b.backgroundColor,color:b.color},autoFocus:!0}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>x(_.id),className:"text-sm px-3 py-1 rounded hover:opacity-90 transition-all duration-300",style:{backgroundColor:"#007BFF",color:"#ffffff"},children:"Save"}),v.jsx("button",{onClick:()=>{y(null),C("")},className:"text-sm border px-3 py-1 rounded hover:bg-gray-50 hover:bg-opacity-20 transition-all duration-300",style:{borderColor:b.borderColor,color:b.color},children:"Cancel"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx("h4",{className:"font-medium mb-1",style:{color:b.color},children:_.label}),v.jsx("p",{className:"text-sm mb-2",style:{color:b.color,opacity:.7},children:_.text}),v.jsxs("div",{className:"flex items-center gap-4 text-xs",style:{color:b.color,opacity:.6},children:[v.jsxs("span",{children:["Chapter ",_.chapterIndex+1]}),v.jsx("span",{children:N(_.createdAt)})]})]})}),m!==_.id&&v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>{y(_.id),C(_.label)},className:"p-1 hover:bg-gray-200 hover:bg-opacity-20 rounded transition-all duration-300",style:{color:b.color,opacity:.6},"aria-label":"Edit bookmark",children:v.jsx(n2,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>p(_.id),className:"p-1 hover:bg-red-100 hover:bg-opacity-20 rounded transition-all duration-300",style:{color:"#ef4444"},"aria-label":"Delete bookmark",children:v.jsx(Mm,{className:"w-4 h-4"})})]})]})},_.id))})}),a.length>0&&v.jsx("div",{className:"p-4 border-t",style:{borderColor:b.borderColor,backgroundColor:b.backgroundColor,opacity:.8},children:v.jsxs("p",{className:"text-sm text-center",style:{color:b.color},children:[a.length," ",a.length===1?"bookmark":"bookmarks"," saved"]})})]})})},Hx=({onNextChapter:t,onPreviousChapter:e,canGoNext:r,canGoPrevious:n,preferences:i})=>{const a=i!=null&&i.interfaceColors?{backgroundColor:i.interfaceColors.buttonBackground||"#3b82f6",color:i.interfaceColors.buttonText||"#ffffff"}:{backgroundColor:"#3b82f6",color:"#ffffff"};return v.jsxs(v.Fragment,{children:[n&&v.jsx("button",{onClick:e,className:"fixed bottom-6 left-6 p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 z-30",style:a,"aria-label":"Previous chapter",children:v.jsx(zm,{className:"w-6 h-6"})}),r&&v.jsx("button",{onClick:t,className:"fixed bottom-6 right-6 p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 z-30",style:a,"aria-label":"Next chapter",children:v.jsx(jm,{className:"w-6 h-6"})})]})},qx=t=>{const[e,r]=Y.useState(null),[n,i]=Y.useState(!0),[s,a]=Y.useState(new Date);Y.useEffect(()=>{t&&(async()=>{try{const c=await y2(t);c&&r(c)}catch(c){console.error("Error loading book:",c)}finally{i(!1)}})()},[t]),Y.useEffect(()=>{if(!e)return;const u=setInterval(async()=>{try{await Ua(e),a(new Date)}catch(c){console.error("Error auto-saving progress:",c)}},3e4);return()=>clearInterval(u)},[e]);const o=Y.useCallback(async u=>{if(!e)return;const c={...e,...u,lastRead:new Date};if(r(c),u.currentChapter!==void 0&&u.currentChapter!==e.currentChapter)try{await Ua(c),a(new Date)}catch(f){console.error("Error saving progress on chapter change:",f)}},[e]),l=Y.useCallback(async()=>{if(e)try{await Ua(e),a(new Date)}catch(u){console.error("Error manually saving progress:",u)}},[e]);return{book:e,isLoading:n,lastSave:s,updateProgress:o,saveProgress:l}},$x=t=>{Y.useEffect(()=>{const e=r=>{var l,u,c,f,m,y,S,C,g;if(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement)return;const{key:n,ctrlKey:i,metaKey:s,shiftKey:a}=r,o=i||s;switch(!0){case(n==="ArrowRight"&&!o):r.preventDefault(),(l=t.onNextChapter)==null||l.call(t);break;case(n==="ArrowLeft"&&!o):r.preventDefault(),(u=t.onPreviousChapter)==null||u.call(t);break;case(n==="m"&&!o):r.preventDefault(),(c=t.onToggleMenu)==null||c.call(t);break;case(n==="s"&&!o):r.preventDefault(),(f=t.onToggleSettings)==null||f.call(t);break;case(n==="f"&&!o):r.preventDefault(),(m=t.onToggleFullscreen)==null||m.call(t);break;case(n==="/"&&!o):case(n==="f"&&o):r.preventDefault(),(y=t.onSearch)==null||y.call(t);break;case(n==="b"&&!o):r.preventDefault(),(S=t.onBookmark)==null||S.call(t);break;case(n==="="&&o):case(n==="+"&&o):r.preventDefault(),(C=t.onIncreaseFontSize)==null||C.call(t);break;case(n==="-"&&o):r.preventDefault(),(g=t.onDecreaseFontSize)==null||g.call(t);break}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t])},Vx=({book:t,onBackToLibrary:e})=>{var Ye;const[r,n]=Y.useState([]),[i,s]=Y.useState(t.currentChapter),[a,o]=Y.useState(null),[l,u]=Y.useState(!1),[c,f]=Y.useState(!1),[m,y]=Y.useState(!1),[S,C]=Y.useState(!1),[g,h]=Y.useState(!1),[p,x]=Y.useState(!1),[N,w]=Y.useState(!0),[b,_]=Y.useState(null),[D,j]=Y.useState([]),[R,L]=Y.useState(0),{updateProgress:W}=qx(t.id),J=de=>de.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();Y.useEffect(()=>{if(r.length>0){const xe=`/${J(t.title)}/chapter/${i+1}`;window.history.pushState({bookId:t.id,chapterIndex:i},`${t.title} - Chapter ${i+1}`,xe),E2(t.id,i,window.scrollY)}},[i,r.length,t.id,t.title]),Y.useEffect(()=>{const de=xe=>{xe.state&&xe.state.bookId===t.id&&s(xe.state.chapterIndex)};return window.addEventListener("popstate",de),()=>window.removeEventListener("popstate",de)},[t.id]),Y.useEffect(()=>((async()=>{var xe,_e;try{if(w(!0),!t.file||t.file.size===0)throw new Error("Invalid or corrupted file");const Re=new vd(t.file);await Re.initialize();const $e=await Re.getAllChapters();if(!$e||$e.length===0)throw new Error("No chapters found in EPUB file");n($e),_(Re);const Se=await Gm();if(o(Se),Se.selectedInterfaceTheme){const Ue=Or(Se.selectedInterfaceTheme);_i(Ue)}console.log("Reader initialized successfully")}catch(Re){console.error("Error initializing reader:",Re),ze("READER_INIT_FAILED",Re,{bookId:t.id,fileSize:(xe=t.file)==null?void 0:xe.size,fileName:(_e=t.file)==null?void 0:_e.name}),alert("Failed to load the book. The file may be corrupted or invalid. Returning to library."),e()}finally{w(!1)}})(),()=>{if(b)try{b.destroy()}catch(xe){console.warn("Error destroying parser:",xe)}}),[t.file,t.id,e]),Y.useEffect(()=>{i!==t.currentChapter&&W({currentChapter:i,progress:i/Math.max(r.length-1,1)})},[i,r.length,t.currentChapter,W]),Y.useEffect(()=>{let de;const xe=()=>{L(Re=>Re+1),clearTimeout(de),de=setTimeout(()=>{R>=2?x(Re=>!Re):R===1&&(u(!1),f(!1),y(!1),C(!1)),L(0)},300)},_e=document.querySelector(".reader-content");return _e?(_e.addEventListener("click",xe),()=>{_e.removeEventListener("click",xe),clearTimeout(de)}):()=>clearTimeout(de)},[R]);const ue=Y.useCallback(()=>{i<r.length-1&&s(de=>de+1)},[i,r.length]),ie=Y.useCallback(()=>{i>0&&s(de=>de-1)},[i]),ae=Y.useCallback(de=>{s(de),u(!1)},[]),oe=Y.useCallback(async de=>{if(o(de),de.selectedInterfaceTheme){const xe=Or(de.selectedInterfaceTheme);_i(xe)}try{await x2(de)}catch(xe){console.error("Error saving preferences:",xe),ze("SAVE_PREFERENCES_FAILED",xe)}},[]),H=Y.useCallback(async de=>{if(!b||!de.trim()){j([]);return}try{const xe=await b.searchText(de),_e=[];xe.forEach(({chapterIndex:Re,matches:$e})=>{$e.forEach(Se=>{var Ue;_e.push({chapterIndex:Re,chapterTitle:((Ue=r[Re])==null?void 0:Ue.title)||`Chapter ${Re+1}`,text:Se.text,position:Se.position,matchStart:Se.start,matchEnd:Se.end})})}),j(_e)}catch(xe){console.error("Error searching:",xe),ze("SEARCH_FAILED",xe,{query:de}),j([])}},[b,r]),le=Y.useCallback(de=>{s(de.chapterIndex),y(!1),setTimeout(()=>{const xe=document.querySelector(`[data-search-position="${de.position}"]`);xe==null||xe.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]),me=Y.useCallback(()=>{document.fullscreenElement?(document.exitFullscreen(),h(!1)):(document.documentElement.requestFullscreen(),h(!0))},[]),be=Y.useCallback(()=>{a&&a.fontSize<64&&oe({...a,fontSize:Math.min(64,a.fontSize+2)})},[a,oe]),ce=Y.useCallback(()=>{a&&a.fontSize>12&&oe({...a,fontSize:Math.max(12,a.fontSize-2)})},[a,oe]),Te=Y.useCallback(()=>{u(!1),f(!1),y(!1),C(!1)},[]);if($x({onNextChapter:ue,onPreviousChapter:ie,onToggleMenu:()=>u(de=>!de),onToggleSettings:()=>f(de=>!de),onToggleFullscreen:me,onSearch:()=>y(!0),onIncreaseFontSize:be,onDecreaseFontSize:ce}),Y.useEffect(()=>{const de=()=>{h(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",de),()=>document.removeEventListener("fullscreenchange",de)},[]),N||!a)return v.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Loading book..."})]})});const ke=r[i];return v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx(jx,{book:t,currentChapter:ke,chapterProgress:i+1,totalChapters:r.length,onBackToLibrary:e,onToggleMenu:()=>u(de=>!de),onToggleSettings:()=>f(de=>!de),onToggleSearch:()=>y(de=>!de),onToggleBookmarks:()=>C(de=>!de),onToggleFullscreen:me,isFullscreen:g||p,hideMenuWhileReading:a.hideMenuWhileReading,preferences:a}),v.jsx("div",{className:"reader-content",children:v.jsx(Px,{chapter:ke,preferences:a,onNextChapter:ue,onPreviousChapter:ie,canGoNext:i<r.length-1,canGoPrevious:i>0,onContentClick:Te})}),((Ye=a.cornerNavigation)==null?void 0:Ye.visible)&&!p&&v.jsx(Hx,{onNextChapter:ue,onPreviousChapter:ie,canGoNext:i<r.length-1,canGoPrevious:i>0,preferences:a}),p&&v.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-75 text-white px-4 py-2 rounded-lg text-sm z-50 animate-fade-in",children:"Fullscreen Reading Mode - Double tap to exit"}),l&&!p&&v.jsx(Fx,{chapters:r,currentChapterIndex:i,onChapterSelect:ae,onClose:()=>u(!1),preferences:a}),c&&!p&&v.jsx(Mx,{preferences:a,onPreferencesChange:oe,onClose:()=>f(!1)}),m&&!p&&v.jsx(Ux,{onSearch:H,searchResults:D,onResultClick:le,onClose:()=>y(!1),preferences:a}),S&&!p&&v.jsx(Wx,{bookId:t.id,chapters:r,currentChapterIndex:i,onBookmarkClick:de=>{s(de),C(!1)},onClose:()=>C(!1),preferences:a})]})};function Gx(){const[t,e]=Y.useState(null),[r,n]=Y.useState(!1),[i,s]=Y.useState(null);Y.useEffect(()=>{(async()=>{try{ov(),await _t(),n(!0),console.log("Application initialized successfully")}catch(u){console.error("Error initializing database:",u),ze("APP_INIT_FAILED",u),s("Failed to initialize the application. Please refresh the page."),n(!0)}})()},[]),Y.useEffect(()=>{const l=()=>{const c=window.location.pathname.match(/^\/([^\/]+)\/chapter\/(\d+)$/);if(c&&t){const f=parseInt(c[2],10);f-1!==t.currentChapter&&e(m=>m?{...m,currentChapter:f-1}:null)}};return l(),window.addEventListener("popstate",l),()=>{window.removeEventListener("popstate",l)}},[t]);const a=l=>{try{if(!l.file||l.file.size===0)throw new Error("Book file is corrupted or missing");e(l);const c=`/${l.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()}/chapter/${l.currentChapter+1}`;window.history.pushState({bookId:l.id,chapterIndex:l.currentChapter},`${l.title} - Chapter ${l.currentChapter+1}`,c)}catch(u){console.error("Error opening book:",u),ze("OPEN_BOOK_FAILED",u,{bookId:l.id}),alert("Failed to open the book. The file may be corrupted.")}},o=()=>{e(null),window.history.pushState(null,"eBook Reader Pro","/")};return r?i?v.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:v.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[v.jsx("div",{className:"text-red-600 mb-4",children:v.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Initialization Error"}),v.jsx("p",{className:"text-gray-600 mb-4",children:i}),v.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})}):v.jsx("div",{className:"App",children:t?v.jsx(Vx,{book:t,onBackToLibrary:o}):v.jsx(zx,{onOpenBook:a})}):v.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-gray-600",children:"Initializing eBook Reader..."})]})})}Rm(document.getElementById("root")).render(v.jsx(Y.StrictMode,{children:v.jsx(Gx,{})}));
